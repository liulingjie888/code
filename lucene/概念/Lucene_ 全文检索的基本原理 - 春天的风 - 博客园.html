<!DOCTYPE html>
<!-- saved from url=(0058)https://www.cnblogs.com/guochunguang/articles/3641008.html -->
<html lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="origin">
    <meta property="og:description" content="一、总论根据http://lucene.apache.org/java/docs/index.html定义：Lucene是一个高效的，基于Java的全文检索库。所以在了解Lucene之前要费一番工夫了">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Lucene: 全文检索的基本原理 - 春天的风 - 博客园</title>
    
    <link rel="stylesheet" href="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/blog-common.min.css">
    <link id="MainCss" rel="stylesheet" href="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/bundle-bluefresh.min.css">
    
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/bundle-bluefresh-mobile.min.css">
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/guochunguang/rss">
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/guochunguang/rsd.xml">
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/guochunguang/wlwmanifest.xml">
    <script async="" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/analytics.js"></script><script src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/jquery-2.2.0.min.js"></script>
    <script src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/blog-common.min.js"></script>
    <script>
        var currentBlogId = 181286;
        var currentBlogApp = 'guochunguang';
        var cb_enable_mathjax = false;
        var isLogined = false;
        var skinName = 'BlueFresh';
    </script>
    
    
    
<link rel="preload" href="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/f.txt" as="script"><script type="text/javascript" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/f.txt"></script><script src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/pubads_impl_2020041602.js" async=""></script></head><style type="text/css" id="30457635134"></style>
<body>
    <a name="top"></a>
    
    
<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
        <a id="lnkBlogLogo" href="https://www.cnblogs.com/guochunguang/"><img id="blogLogo" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/logo.gif" alt="返回主页"></a>		
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/guochunguang/">春天的风</a>
</h1>
<h2>

</h2>




		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">
博客园</a>
</li>
<li>
<a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/guochunguang/">
首页</a>
</li>
<li>

<a id="blog_nav_newpost" class="menu" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">
新随笔</a>
</li>
<li>
<a id="blog_nav_contact" class="menu" href="https://msg.cnblogs.com/send/%E6%98%A5%E5%A4%A9%E7%9A%84%E9%A3%8E">
联系</a></li>
<li>
<a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/guochunguang/rss/">
订阅</a>
<!--<partial name="./Shared/_XmlLink.cshtml" model="Model" /></li>--></li>
<li>
<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>
</li>
</ul>


		<div class="blogStats">
			
			<span id="stats_post_count">随笔 - 
13&nbsp; </span>
<span id="stats_article_count">文章 - 
2&nbsp; </span>
<span id="stats-comment_count">评论 - 
1</span>

			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		<div id="post_detail">
    <!--done-->
    <div id="topics">
        <div class="post">
            <h1 class="postTitle">
                
<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/guochunguang/articles/3641008.html">Lucene: 全文检索的基本原理</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                
<div id="cnblogs_post_body" class="blogpost-body ">
    <h2 style="color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 18px; font-style: normal; font-variant: normal; margin-top: 10px; margin-bottom: 3px; word-spacing: 0px; white-space: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">一、总论</h2>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">根据<a style="color: navy; text-decoration: none;" href="http://lucene.apache.org/java/docs/index.html" target="_blank">http://lucene.apache.org/java/docs/index.html</a>定义：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>Lucene</strong><strong>是一个高效的，基于Java</strong><strong>的全文检索库。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">所以在了解Lucene之前要费一番工夫了解一下全文检索。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">那么什么叫做全文检索呢？这要从我们生活中的数据说起。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">我们生活中的数据总体分为两种：<strong>结构化数据</strong>和<strong>非结构化数据</strong>。</p>
<ul style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; margin-left: 45px; word-spacing: 0px; list-style-type: disc; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">
<li style="list-style: inherit !important;"><strong>结构化数据：</strong>指具有固定格式或有限长度的数据，如数据库，元数据等。</li>
<li style="list-style: inherit !important;"><strong>非结构化数据：</strong>指不定长或无固定格式的数据，如邮件，word文档等。</li>
</ul>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">当然有的地方还会提到第三种，半结构化数据，如XML，HTML等，当根据需要可按结构化数据来处理，也可抽取出纯文本按非结构化数据来处理。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>非结构化数据又一种叫法叫全文数据。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">按照数据的分类，搜索也分为两种：</p>
<ul style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; margin-left: 45px; word-spacing: 0px; list-style-type: disc; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">
<li style="list-style: inherit !important;"><strong>对结构化数据的搜索</strong>：如对数据库的搜索，用SQL语句。再如对元数据的搜索，如利用windows搜索对文件名，类型，修改时间进行搜索等。</li>
<li style="list-style: inherit !important;"><strong>对非结构化数据的搜索</strong>：如利用windows的搜索也可以搜索文件内容，Linux下的grep命令，再如用Google和百度可以搜索大量内容数据。</li>
</ul>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">对非结构化数据也即对全文数据的搜索主要有两种方法：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">一种是<strong>顺序扫描法</strong><strong>(Serial Scanning)：</strong>所谓顺序扫描，比如要找内容包含某一个字符串的文件，就是一个文档一个文档的看，对于每一个文档，从头看到尾，如果此文档包含此字符串，则此文档为我们要找的文件，接着看下一个文件，直到扫描完所有的文件。如利用windows的搜索也可以搜索文件内容，只是相当的慢。如果你有一个80G硬盘，如果想在上面找到一个内容包含某字符串的文件，不花他几个小时，怕是做不到。Linux下的grep命令也是这一种方式。大家可能觉得这种方法比较原始，但对于小数据量的文件，这种方法还是最直接，最方便的。但是对于大量的文件，这种方法就很慢了。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">有人可能会说，对非结构化数据顺序扫描很慢，对结构化数据的搜索却相对较快（由于结构化数据有一定的结构可以采取一定的搜索算法加快速度），那么把我们的非结构化数据想办法弄得有一定结构不就行了吗？</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">这种想法很天然，却构成了全文检索的基本思路，也即将非结构化数据中的一部分信息提取出来，重新组织，使其变得有一定结构，然后对此有一定结构的数据进行搜索，从而达到搜索相对较快的目的。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">这部分从非结构化数据中提取出的然后重新组织的信息，我们称之<strong>索引</strong>。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">这种说法比较抽象，举几个例子就很容易明白，比如字典，字典的拼音表和部首检字表就相当于字典的索引，对每一个字的解释是非结构化的，如果字典没有音节表和部首检字表，在茫茫辞海中找一个字只能顺序扫描。然而字的某些信息可以提取出来进行结构化处理，比如读音，就比较结构化，分声母和韵母，分别只有几种可以一一列举，于是将读音拿出来按一定的顺序排列，每一项读音都指向此字的详细解释的页数。我们搜索时按结构化的拼音搜到读音，然后按其指向的页数，便可找到我们的非结构化数据——也即对字的解释。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>这种先建立索引，再对索引进行搜索的过程就叫全文检索(Full-text Search)</strong><strong>。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">下面这幅图来自《Lucene in action》，但却不仅仅描述了Lucene的检索过程，而是描述了全文检索的一般过程。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/image_2.png" target="_blank"><img style="border: 0px currentColor; display: inline;" title="image" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/image_thumb.png" alt="image" width="544" height="479" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">全文检索大体分两个过程，<strong>索引创建</strong><strong>(Indexing)</strong>和<strong>搜索索引</strong><strong>(Search)</strong>。</p>
<ul style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; margin-left: 45px; word-spacing: 0px; list-style-type: disc; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">
<li style="list-style: inherit !important;">索引创建：将现实世界中所有的结构化和非结构化数据提取信息，创建索引的过程。</li>
<li style="list-style: inherit !important;">搜索索引：就是得到用户的查询请求，搜索创建的索引，然后返回结果的过程。</li>
</ul>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">于是全文检索就存在三个重要问题：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>1.<span class="Apple-converted-space">&nbsp;</span></strong><strong>索引里面究竟存些什么？(Index)</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>2.<span class="Apple-converted-space">&nbsp;</span></strong><strong>如何创建索引？(Indexing)</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>3.<span class="Apple-converted-space">&nbsp;</span></strong><strong>如何对索引进行搜索？(Search)</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">下面我们顺序对每个个问题进行研究。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<h2 style="color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 18px; font-style: normal; font-variant: normal; margin-top: 10px; margin-bottom: 3px; word-spacing: 0px; white-space: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">二、索引里面究竟存些什么</h2>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">索引里面究竟需要存些什么呢？</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">首先我们来看为什么顺序扫描的速度慢：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">其实是由于我们想要搜索的信息和非结构化数据中所存储的信息不一致造成的。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">非结构化数据中所存储的信息是每个文件包含哪些字符串，也即已知文件，欲求字符串相对容易，也即是从文件到字符串的映射。而我们想搜索的信息是哪些文件包含此字符串，也即已知字符串，欲求文件，也即从字符串到文件的映射。两者恰恰相反。于是如果索引总能够保存从字符串到文件的映射，则会大大提高搜索速度。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">由于从字符串到文件的映射是文件到字符串映射的反向过程，于是保存这种信息的索引称为<strong>反向索引</strong>。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">反向索引的所保存的信息一般如下：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">假设我的文档集合里面有100篇文档，为了方便表示，我们为文档编号从1到100，得到下面的结构</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/inverted%20index_2.jpg" target="_blank"><img style="border: 0px currentColor; display: inline;" title="inverted index" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/inverted index_thumb.jpg" alt="inverted index" width="544" height="153" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">左边保存的是一系列字符串，称为<strong>词典</strong>。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">每个字符串都指向包含此字符串的文档(Document)链表，此文档链表称为<strong>倒排表</strong>(Posting List)。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">有了索引，便使保存的信息和要搜索的信息一致，可以大大加快搜索的速度。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">比如说，我们要寻找既包含字符串“lucene”又包含字符串“solr”的文档，我们只需要以下几步：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">1. 取出包含字符串“lucene”的文档链表。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">2. 取出包含字符串“solr”的文档链表。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">3. 通过合并链表，找出既包含“lucene”又包含“solr”的文件。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/inverted%20index%20merge_2.jpg" target="_blank"><img style="border: 0px currentColor; display: inline;" title="inverted index merge" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/inverted index merge_thumb.jpg" alt="inverted index merge" width="544" height="55" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">看到这个地方，有人可能会说，全文检索的确加快了搜索的速度，但是多了索引的过程，两者加起来不一定比顺序扫描快多少。的确，加上索引的过程，全文检索不一定比顺序扫描快，尤其是在数据量小的时候更是如此。而对一个很大量的数据创建索引也是一个很慢的过程。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">然而两者还是有区别的，顺序扫描是每次都要扫描，而创建索引的过程仅仅需要一次，以后便是一劳永逸的了，每次搜索，创建索引的过程不必经过，仅仅搜索创建好的索引就可以了。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>这也是全文搜索相对于顺序扫描的优势之一：一次索引，多次使用。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<h2 style="color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 18px; font-style: normal; font-variant: normal; margin-top: 10px; margin-bottom: 3px; word-spacing: 0px; white-space: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">三、如何创建索引</h2>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">全文检索的索引创建过程一般有以下几步：</p>
<h3 style="color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; word-spacing: 0px; white-space: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>第一步：一些要索引的原文档(Document)。</strong></h3>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">为了方便说明索引创建过程，这里特意用两个文件为例：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">文件一：Students should be allowed to go out with their friends, but not allowed to drink beer.</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">文件二：My friend Jerry went to school to see his students but found them drunk which is not allowed.</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<h3 style="color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; word-spacing: 0px; white-space: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>第二步：将原文档传给分次组件(Tokenizer)。</strong></h3>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>分词组件(Tokenizer)会做以下几件事情(</strong><strong>此过程称为Tokenize)</strong><strong>：</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>1.<span class="Apple-converted-space">&nbsp;</span></strong><strong>将文档分成一个一个单独的单词。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>2.<span class="Apple-converted-space">&nbsp;</span></strong><strong>去除标点符号。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>3.<span class="Apple-converted-space">&nbsp;</span></strong><strong>去除停词(Stop word)</strong><strong>。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">所谓停词(Stop word)就是一种语言中最普通的一些单词，由于没有特别的意义，因而大多数情况下不能成为搜索的关键词，因而创建索引时，这种词会被去掉而减少索引的大小。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">英语中挺词(Stop word)如：“the”,“a”，“this”等。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">对于每一种语言的分词组件(Tokenizer)，都有一个停词(stop word)集合。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>经过分词(Tokenizer)</strong><strong>后得到的结果称为词元(Token)</strong><strong>。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">在我们的例子中，便得到以下词元(Token)：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">“Students”，“allowed”，“go”，“their”，“friends”，“allowed”，“drink”，“beer”，“My”，“friend”，“Jerry”，“went”，“school”，“see”，“his”，“students”，“found”，“them”，“drunk”，“allowed”。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<h3 style="color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; word-spacing: 0px; white-space: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>第三步：将得到的词元(Token)传给语言处理组件(Linguistic Processor)。</strong></h3>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">语言处理组件(linguistic processor)主要是对得到的词元(Token)做一些同语言相关的处理。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>对于英语，语言处理组件(Linguistic Processor)</strong><strong>一般做以下几点：</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>1.<span class="Apple-converted-space">&nbsp;</span></strong><strong>变为小写(Lowercase)</strong><strong>。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>2.<span class="Apple-converted-space">&nbsp;</span></strong><strong>将单词缩减为词根形式，如“cars</strong><strong>”到“car</strong><strong>”等。这种操作称为：stemming</strong><strong>。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>3.<span class="Apple-converted-space">&nbsp;</span></strong><strong>将单词转变为词根形式，如“drove</strong><strong>”到“drive</strong><strong>”等。这种操作称为：lemmatization</strong><strong>。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>Stemming 和 lemmatization的异同：</strong></p>
<ul style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; margin-left: 45px; word-spacing: 0px; list-style-type: disc; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">
<li style="list-style: inherit !important;">相同之处：Stemming和lemmatization都要使词汇成为词根形式。</li>
<li style="list-style: inherit !important;">两者的方式不同：
<ul style="margin-left: 45px; list-style-type: disc;">
<li style="list-style: inherit !important;">Stemming采用的是“缩减”的方式：“cars”到“car”，“driving”到“drive”。</li>
<li style="list-style: inherit !important;">Lemmatization采用的是“转变”的方式：“drove”到“drove”，“driving”到“drive”。</li>
</ul>
</li>
<li style="list-style: inherit !important;">两者的算法不同：
<ul style="margin-left: 45px; list-style-type: disc;">
<li style="list-style: inherit !important;">Stemming主要是采取某种固定的算法来做这种缩减，如去除“s”，去除“ing”加“e”，将“ational”变为“ate”，将“tional”变为“tion”。</li>
<li style="list-style: inherit !important;">Lemmatization主要是采用保存某种字典的方式做这种转变。比如字典中有“driving”到“drive”，“drove”到“drive”，“am, is, are”到“be”的映射，做转变时，只要查字典就可以了。</li>
</ul>
</li>
<li style="list-style: inherit !important;">Stemming和lemmatization不是互斥关系，是有交集的，有的词利用这两种方式都能达到相同的转换。</li>
</ul>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>语言处理组件(linguistic processor)的结果称为词(Term)</strong><strong>。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">在我们的例子中，经过语言处理，得到的词(Term)如下：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">“student”，“allow”，“go”，“their”，“friend”，“allow”，“drink”，“beer”，“my”，“friend”，“jerry”，“go”，“school”，“see”，“his”，“student”，“find”，“them”，“drink”，“allow”。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">也正是因为有语言处理的步骤，才能使搜索drove，而drive也能被搜索出来。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<h3 style="color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; word-spacing: 0px; white-space: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>第四步：将得到的词(Term)传给索引组件(Indexer)。</strong></h3>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>索引</strong><strong>组件(Indexer)主要做以下几件事情：</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>1. 利用得到的词(Term)创建一个字典。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">在我们的例子中字典如下：</p>
<table style="border: 1px solid silver; width: 400px; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; word-spacing: 0px; border-collapse: collapse; background-color: #ffffff; -webkit-text-stroke-width: 0px;" border="1" cellspacing="0" cellpadding="2">
<tbody>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">Term</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">Document ID</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">student</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">allow</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">go</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">their</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">friend</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">allow</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">drink</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">beer</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">my</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">friend</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">jerry</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">go</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">school</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">see</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">his</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">student</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">find</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">them</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">drink</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">allow</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
</tbody>
</table>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>2.<span class="Apple-converted-space">&nbsp;</span></strong><strong>对字典按字母顺序进行排序。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<table style="border: 1px solid silver; width: 400px; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; word-spacing: 0px; border-collapse: collapse; background-color: #ffffff; -webkit-text-stroke-width: 0px;" border="1" cellspacing="0" cellpadding="2">
<tbody>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">Term</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">Document ID</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">allow</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">allow</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">allow</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">beer</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">drink</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">drink</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">find</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">friend</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">friend</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">go</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">go</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">his</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">jerry</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">my</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">school</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">see</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">student</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">student</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">their</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">1</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">them</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="199">2</td>
</tr>
</tbody>
</table>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>3.<span class="Apple-converted-space">&nbsp;</span></strong><strong>合并相同的词(Term)</strong><strong>成为文档倒排(Posting List)</strong><strong>链表。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/postinglist_2.jpg" target="_blank"><img style="border: 0px currentColor; display: inline;" title="postinglist" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/postinglist_thumb.jpg" alt="postinglist" width="544" height="483" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">在此表中，有几个定义：</p>
<ul style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; margin-left: 45px; word-spacing: 0px; list-style-type: disc; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">
<li style="list-style: inherit !important;">Document Frequency 即文档频次，表示总共有多少文件包含此词(Term)。</li>
<li style="list-style: inherit !important;">Frequency 即词频率，表示此文件中包含了几个此词(Term)。</li>
</ul>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">所以对词(Term) “allow”来讲，总共有两篇文档包含此词(Term)，从而词(Term)后面的文档链表总共有两项，第一项表示包含“allow”的第一篇文档，即1号文档，此文档中，“allow”出现了2次，第二项表示包含“allow”的第二个文档，是2号文档，此文档中，“allow”出现了1次。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">到此为止，索引已经创建好了，我们可以通过它很快的找到我们想要的文档。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">而且在此过程中，我们惊喜地发现，搜索“drive”，“driving”，“drove”，“driven”也能够被搜到。因为在我们的索引中，“driving”，“drove”，“driven”都会经过语言处理而变成“drive”，在搜索时，如果您输入“driving”，输入的查询语句同样经过我们这里的一到三步，从而变为查询“drive”，从而可以搜索到想要的文档。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<h2 style="color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 18px; font-style: normal; font-variant: normal; margin-top: 10px; margin-bottom: 3px; word-spacing: 0px; white-space: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">三、如何对索引进行搜索？</h2>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">到这里似乎我们可以宣布“我们找到想要的文档了”。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">然而事情并没有结束，找到了仅仅是全文检索的一个方面。不是吗？如果仅仅只有一个或十个文档包含我们查询的字符串，我们的确找到了。然而如果结果有一千个，甚至成千上万个呢？那个又是您最想要的文件呢？</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">打开Google吧，比如说您想在微软找份工作，于是您输入“Microsoft job”，您却发现总共有22600000个结果返回。好大的数字呀，突然发现找不到是一个问题，找到的太多也是一个问题。在如此多的结果中，如何将最相关的放在最前面呢？</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/clip_image0024.jpg" target="_blank"><img style="border: 0px currentColor; display: inline;" title="clip_image002[4]" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/clip_image0024_thumb.jpg" alt="clip_image002[4]" width="544" height="332" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">当然Google做的很不错，您一下就找到了jobs at Microsoft。想象一下，如果前几个全部是“Microsoft does a good job at software industry…”将是多么可怕的事情呀。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">如何像Google一样，在成千上万的搜索结果中，找到和查询语句最相关的呢？</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">如何判断搜索出的文档和查询语句的相关性呢？</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">这要回到我们第三个问题：如何对索引进行搜索？</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">搜索主要分为以下几步：</p>
<h3 style="color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; word-spacing: 0px; white-space: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>第一步：用户输入查询语句。</strong></h3>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">查询语句同我们普通的语言一样，也是有一定语法的。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">不同的查询语句有不同的语法，如SQL语句就有一定的语法。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">查询语句的语法根据全文检索系统的实现而不同。最基本的有比如：AND, OR, NOT等。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">举个例子，用户输入语句：lucene AND learned NOT hadoop。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">说明用户想找一个包含lucene和learned然而不包括hadoop的文档。</p>
<h3 style="color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; word-spacing: 0px; white-space: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>第二步：对查询语句进行词法分析，语法分析，及语言处理。</strong></h3>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">由于查询语句有语法，因而也要进行语法分析，语法分析及语言处理。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>1. 词法分析主要用来识别单词和关键字。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">如上述例子中，经过词法分析，得到单词有lucene，learned，hadoop, 关键字有AND, NOT。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">如果在词法分析中发现不合法的关键字，则会出现错误。如lucene AMD learned，其中由于AND拼错，导致AMD作为一个普通的单词参与查询。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>2. 语法分析主要是根据查询语句的语法规则来形成一棵语法树。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">如果发现查询语句不满足语法规则，则会报错。如lucene NOT AND learned，则会出错。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">如上述例子，lucene AND learned NOT hadoop形成的语法树如下：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/%E8%AF%AD%E6%B3%95%E6%A0%91_2.jpg" target="_blank"><img style="border: 0px currentColor; display: inline;" title="语法树" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/语法树_thumb.jpg" alt="语法树" width="544" height="257" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>3. 语言处理同索引过程中的语言处理几乎相同。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">如learned变成learn等。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">经过第二步，我们得到一棵经过语言处理的语法树。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/%E8%AF%AD%E6%B3%95%E6%A0%911_2.jpg" target="_blank"><img style="border: 0px currentColor; display: inline;" title="语法树1" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/语法树1_thumb.jpg" alt="语法树1" width="544" height="257" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<h3 style="color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; word-spacing: 0px; white-space: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>第三步：搜索索引，得到符合语法树的文档。</strong></h3>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">此步骤有分几小步：</p>
<ol style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; padding-left: 50px; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">
<li style="list-style-type: decimal;">首先，在反向索引表中，分别找出包含lucene，learn，hadoop的文档链表。</li>
<li style="list-style-type: decimal;">其次，对包含lucene，learn的链表进行合并操作，得到既包含lucene又包含learn的文档链表。</li>
<li style="list-style-type: decimal;">然后，将此链表与hadoop的文档链表进行差操作，去除包含hadoop的文档，从而得到既包含lucene又包含learn而且不包含hadoop的文档链表。</li>
<li style="list-style-type: decimal;">此文档链表就是我们要找的文档。</li>
</ol>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<h3 style="color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; word-spacing: 0px; white-space: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>第四步：根据得到的文档和查询语句的相关性，对结果进行排序。</strong></h3>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">虽然在上一步，我们得到了想要的文档，然而对于查询结果应该按照与查询语句的相关性进行排序，越相关者越靠前。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">如何计算文档和查询语句的相关性呢？</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">不如我们把查询语句看作一片短小的文档，对文档与文档之间的相关性(relevance)进行打分(scoring)，分数高的相关性好，就应该排在前面。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">那么又怎么对文档之间的关系进行打分呢？</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>这可不是一件容易的事情，首先我们看一看判断人之间的关系吧。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>首先</strong>看一个人，往往有很多<strong>要素</strong>，如性格，信仰，爱好，衣着，高矮，胖瘦等等。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>其次</strong>对于人与人之间的关系，<strong>不同的要素重要性不同</strong>，性格，信仰，爱好可能重要些，衣着，高矮，胖瘦可能就不那么重要了，所以具有相同或相似性格，信仰，爱好的人比较容易成为好的朋友，然而衣着，高矮，胖瘦不同的人，也可以成为好的朋友。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">因而判断人与人之间的关系，<strong>首先要找出哪些要素对人与人之间的关系最重要</strong>，比如性格，信仰，爱好。<strong>其次要判断两个人的这些要素之间的关系</strong>，比如一个人性格开朗，另一个人性格外向，一个人信仰佛教，另一个信仰上帝，一个人爱好打篮球，另一个爱好踢足球。我们发现，两个人在性格方面都很积极，信仰方面都很善良，爱好方面都爱运动，因而两个人关系应该会很好。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>我们再来看看公司之间的关系吧。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>首先</strong>看一个公司，有很多人组成，如总经理，经理，首席技术官，普通员工，保安，门卫等。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>其次对于公司与公司之间的关系，不同的人重要性不同</strong>，总经理，经理，首席技术官可能更重要一些，普通员工，保安，门卫可能较不重要一点。所以如果两个公司总经理，经理，首席技术官之间关系比较好，两个公司容易有比较好的关系。然而一位普通员工就算与另一家公司的一位普通员工有血海深仇，怕也难影响两个公司之间的关系。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">因而判断公司与公司之间的关系，<strong>首先要找出哪些人对公司与公司之间的关系最重要</strong>，比如总经理，经理，首席技术官。<strong>其次要判断这些人之间的关系</strong>，不如两家公司的总经理曾经是同学，经理是老乡，首席技术官曾是创业伙伴。我们发现，两家公司无论总经理，经理，首席技术官，关系都很好，因而两家公司关系应该会很好。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">分析了两种关系，下面看一下<strong>如何判断文档之间的关系</strong>了。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>首先，一个文档有很多词(Term)组成</strong>，如search, lucene, full-text, this, a, what等。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>其次对于文档之间的关系，不同的Term重要性不同</strong>，比如对于本篇文档，search, Lucene, full-text就相对重要一些，this, a , what可能相对不重要一些。所以如果两篇文档都包含search, Lucene，fulltext，这两篇文档的相关性好一些，然而就算一篇文档包含this, a, what，另一篇文档不包含this, a, what，也不能影响两篇文档的相关性。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">因而判断文档之间的关系，首先找出哪些词(Term)对文档之间的关系最重要，如search, Lucene, fulltext。然后判断这些词(Term)之间的关系。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>找出词(Term)</strong><strong>对文档的重要性的过程称为计算词的权重(Term weight)</strong><strong>的过程。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">计算词的权重(term weight)有两个参数，第一个是词(Term)，第二个是文档(Document)。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">词的权重(Term weight)表示此词(Term)在此文档中的重要程度，越重要的词(Term)有越大的权重(Term weight)，因而在计算文档之间的相关性中将发挥更大的作用。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>判断词(Term)</strong><strong>之间的关系从而得到文档相关性的过程应用一种叫做向量空间模型的算法(Vector Space Model)</strong><strong>。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">下面仔细分析一下这两个过程：</p>
<h4 style="color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; word-spacing: 0px; white-space: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>1. 计算权重(Term weight)的过程。</strong></h4>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">影响一个词(Term)在一篇文档中的重要性主要有两个因素：</p>
<ul style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; margin-left: 45px; word-spacing: 0px; list-style-type: disc; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">
<li style="list-style: inherit !important;">Term Frequency (tf)：即此Term在此文档中出现了多少次。tf 越大说明越重要。</li>
<li style="list-style: inherit !important;">Document Frequency (df)：即有多少文档包含次Term。df 越大说明越不重要。</li>
</ul>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">容易理解吗？词(Term)在文档中出现的次数越多，说明此词(Term)对该文档越重要，如“搜索”这个词，在本文档中出现的次数很多，说明本文档主要就是讲这方面的事的。然而在一篇英语文档中，this出现的次数更多，就说明越重要吗？不是的，这是由第二个因素进行调整，第二个因素说明，有越多的文档包含此词(Term), 说明此词(Term)太普通，不足以区分这些文档，因而重要性越低。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">这也如我们程序员所学的技术，对于程序员本身来说，这项技术掌握越深越好（掌握越深说明花时间看的越多，tf越大），找工作时越有竞争力。然而对于所有程序员来说，这项技术懂得的人越少越好（懂得的人少df小），找工作越有竞争力。人的价值在于不可替代性就是这个道理。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">道理明白了，我们来看看公式：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/image_6.png" target="_blank"><img style="border: 0px currentColor; display: inline;" title="image" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/image_thumb_2.png" alt="image" width="389" height="69" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/image_4.png" target="_blank"><img style="border: 0px currentColor; display: inline;" title="image" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/image_thumb_1.png" alt="image" width="389" height="120" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">这仅仅只term weight计算公式的简单典型实现。实现全文检索系统的人会有自己的实现，Lucene就与此稍有不同。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<h4 style="color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; word-spacing: 0px; white-space: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>2. 判断Term之间的关系从而得到文档相关性的过程，也即向量空间模型的算法(VSM)。</strong></h4>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">我们把文档看作一系列词(Term)，每一个词(Term)都有一个权重(Term weight)，不同的词(Term)根据自己在文档中的权重来影响文档相关性的打分计算。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">于是我们把所有此文档中词(term)的权重(term weight) 看作一个向量。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">Document = {term1, term2, …… ,term N}</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">Document Vector = {weight1, weight2, …… ,weight N}</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">同样我们把查询语句看作一个简单的文档，也用向量来表示。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">Query = {term1, term 2, …… , term N}</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">Query Vector = {weight1, weight2, …… , weight N}</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">我们把所有搜索出的文档向量及查询向量放到一个N维空间中，每个词(term)是一维。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">如图：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/vsm_2.jpg" target="_blank"><img style="border: 0px currentColor; display: inline;" title="vsm" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/vsm_thumb.jpg" alt="vsm" width="544" height="409" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">我们认为两个向量之间的夹角越小，相关性越大。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">所以我们计算夹角的余弦值作为相关性的打分，夹角越小，余弦值越大，打分越高，相关性越大。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">有人可能会问，查询语句一般是很短的，包含的词(Term)是很少的，因而查询向量的维数很小，而文档很长，包含词(Term)很多，文档向量维数很大。你的图中两者维数怎么都是N呢？</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">在这里，既然要放到相同的向量空间，自然维数是相同的，不同时，取二者的并集，如果不含某个词(Term)时，则权重(Term Weight)为0。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">相关性打分公式如下：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/image11.png" target="_blank"><img style="border: 0px currentColor; display: inline;" title="image" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/image11_thumb.png" alt="image" width="544" height="123" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">举个例子，查询语句有11个Term，共有三篇文档搜索出来。其中各自的权重(Term weight)，如下表格。</p>
<table style="border: 1px solid silver; border-collapse: collapse;" border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">&nbsp;</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">t1</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">t2</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">t3</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">t4</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">t5</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">t6</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">t7</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">t8</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">t9</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">t10</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">t11</p>
</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">D1</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.477</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.477</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.176</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.176</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">D2</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.176</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.477</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.954</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.176</p>
</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">D3</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.176</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.176</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.176</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.176</p>
</td>
</tr>
<tr>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">Q</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.176</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.477</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">0</p>
</td>
<td style="padding: 3px; border: 1px solid silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 12px; border-collapse: collapse;" align="center" width="43">
<p style="margin: 10px auto; line-height: 1.5; text-indent: 0px; font-size: 13px;">.176</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">于是计算，三篇文档同查询语句的相关性打分分别为：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/image17.png" target="_blank"><img style="border: 0px currentColor; display: inline;" title="image" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/image17_thumb.png" alt="image" width="544" height="50" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/image20.png" target="_blank"><img style="border: 0px currentColor; display: inline;" title="image" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/image20_thumb.png" alt="image" width="544" height="51" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/image23.png" target="_blank"><img style="border: 0px currentColor; display: inline;" title="image" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/image23_thumb.png" alt="image" width="544" height="51" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">于是文档二相关性最高，先返回，其次是文档一，最后是文档三。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">到此为止，我们可以找到我们最想要的文档了。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">说了这么多，其实还没有进入到Lucene，而仅仅是信息检索技术(Information retrieval)中的基本理论，然而当我们看过Lucene后我们会发现，Lucene是对这种基本理论的一种基本的的实践。所以在以后分析Lucene的文章中，会常常看到以上理论在Lucene中的应用。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">在进入Lucene之前，对上述索引创建和搜索过程所一个总结，如图：</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">此图参照<a style="color: navy; text-decoration: none;" href="http://www.lucene.com.cn/about.htm" target="_blank">http://www.lucene.com.cn/about.htm</a>中文章《开放源代码的全文检索引擎Lucene》</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><a style="color: navy; text-decoration: none;" href="http://images.cnblogs.com/cnblogs_com/forfuture1978/WindowsLiveWriter/185c4e9316f3_147FA/clip_image016_2.jpg" target="_blank"><img style="border: 0px currentColor; display: inline;" title="clip_image016" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/clip_image016_thumb.jpg" alt="clip_image016" width="544" height="372" border="0"></a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>1. 索引过程：</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>1)<span class="Apple-converted-space">&nbsp;</span></strong><strong>有一系列被索引文件</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>2)<span class="Apple-converted-space">&nbsp;</span></strong><strong>被索引文件经过语法分析和语言处理形成一系列词(Term)</strong><strong>。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>3)<span class="Apple-converted-space">&nbsp;</span></strong><strong>经过索引创建形成词典和反向索引表。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>4)<span class="Apple-converted-space">&nbsp;</span></strong><strong>通过索引存储将索引写入硬盘。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>2. 搜索过程：</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>a)<span class="Apple-converted-space">&nbsp;</span></strong><strong>用户输入查询语句。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>b)<span class="Apple-converted-space">&nbsp;</span></strong><strong>对查询语句经过语法分析和语言分析得到一系列词(Term)</strong><strong>。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>c)<span class="Apple-converted-space">&nbsp;</span></strong><strong>通过语法分析得到一个查询树。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>d)<span class="Apple-converted-space">&nbsp;</span></strong><strong>通过索引存储将索引读入到内存。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>e)<span class="Apple-converted-space">&nbsp;</span></strong><strong>利用查询树搜索索引，从而得到每个词(Term)</strong><strong>的文档链表，对文档链表进行交，差，并得到结果文档。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>f)<span class="Apple-converted-space">&nbsp;</span></strong><strong>将搜索到的结果文档对查询的相关性进行排序。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;"><strong>g)<span class="Apple-converted-space">&nbsp;</span></strong><strong>返回查询结果给用户。</strong></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">下面我们可以进入Lucene的世界了。</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">另：&nbsp;</p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">CSDN中此文章链接为<a style="color: navy; text-decoration: none;" href="http://blog.csdn.net/forfuture1978/archive/2009/10/22/4711308.aspx" target="_blank">http://blog.csdn.net/forfuture1978/archive/2009/10/22/4711308.aspx</a></p>
<p style="font: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; margin: 10px auto; color: #000000; text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: #ffffff; -webkit-text-stroke-width: 0px;">Javaeye中此文章链接为<a style="color: navy; text-decoration: none;" href="http://forfuture1978.javaeye.com/blog/546771" target="_blank">http://forfuture1978.javaeye.com/blog/546771</a>&nbsp;</p>
</div>
<div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block"><div id="BlogPostCategory">
    分类: 
            <a href="https://www.cnblogs.com/guochunguang/category/566357.html" target="_blank">Lucene</a></div>


    <div id="blog_post_info">
<div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(3641008,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
        <a id="green_channel_follow" onclick="follow(&#39;97b7a6b9-15ba-e311-8d02-90b11c0b17d6&#39;);" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
        <div id="author_profile_detail" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/guochunguang/">春天的风</a><br>
            <a href="https://home.cnblogs.com/u/guochunguang/followees/">关注 - 0</a><br>
            <a href="https://home.cnblogs.com/u/guochunguang/followers/">粉丝 - 13</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow">
                <a href="javascript:void(0);" onclick="follow(&#39;97b7a6b9-15ba-e311-8d02-90b11c0b17d6&#39;);return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(3641008,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">3</span>
    </div>
    <div class="buryit" onclick="votePost(3641008,&#39;Bury&#39;)">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>

<script type="text/javascript">
    currentDiggType = 0;
</script></div>
    <div class="clear"></div>
    <div id="post_next_prev"></div>
</div>
            </div>
            <div class="postDesc">posted @ 
<span id="post-date">2014-04-02 16:29</span>&nbsp;
<a href="https://www.cnblogs.com/guochunguang/">春天的风</a>&nbsp;
阅读(<span id="post_view_count">11979</span>)&nbsp;
评论(<span id="post_comment_count">1</span>)&nbsp;
<a href="https://i.cnblogs.com/EditArticles.aspx?postid=3641008" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(3641008);return false;">收藏</a></div>
        </div>
	    
	    
    </div><!--end: topics 文章、评论容器-->
</div>
<script src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/highlight.min.js"></script>
<script>markdown_highlight();</script>
<script>
    var allowComments = true, cb_blogId = 181286, cb_blogApp = 'guochunguang', cb_blogUserGuid = '97b7a6b9-15ba-e311-8d02-90b11c0b17d6';
    var cb_entryId = 3641008, cb_entryCreatedDate = '2014-04-02 16:29', cb_postType = 2; 
    loadViewCount(cb_entryId);
</script><a name="!comments"></a>
<div id="blog-comments-placeholder">

<div id="comment_pager_top">
    
</div>

<br>
<div class="feedback_area_title">评论列表</div>
<div class="feedbackNoItems"><div class="feedbackNoItems"></div></div>	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;

<span class="comment_actions">
    
    
    
    
</span>


				</div>
				
<a href="https://www.cnblogs.com/guochunguang/articles/3641008.html#3181506" class="layer">#1楼</a>
<a name="3181506" id="comment_anchor_3181506"></a>

        <span id="comment-maxId" style="display:none">3181506</span>
        <span id="comment-maxDate" style="display:none">2015/5/12 上午9:49:03</span>
 
<span class="comment_date">2015-05-12 09:49</span>

 

            <a id="a_comment_author_3181506" href="https://www.cnblogs.com/hooooo/" target="_blank">三思啊</a>

			</div>
			<div class="feedbackCon">
				
<div id="comment_body_3181506" data-format-type="Ubb" class="blog_comment_body cnblogs-ubb">
    搜索的时候，是先进行词法分析和语言处理得到Term，再进行语法分析得到语法树的把
</div>
        <div class="comment_vote">
            <span class="comment_error" style="color: red"></span>
            <a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3181506, &#39;Digg&#39;, this.parentElement, false);">
                支持(0)
            </a>
            <a href="javascript:void(0);" class="comment_burry" onclick="return voteComment(3181506, &#39;Bury&#39;, this.parentElement, false);">
                反对(0)
            </a>
        </div>
        <span id="comment_3181506_avatar" style="display:none">
            https://pic.cnblogs.com/face/537830/20150504153529.png
        </span>

			</div>
		</div>

<div id="comment_pager_bottom">
    
</div>


</div>
<script>
    var commentManager = new blogCommentManager();
    commentManager.renderComments(0);
</script>

<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="https://www.cnblogs.com/guochunguang/articles/3641008.html#" onclick="return RefreshPage();">刷新页面</a><a href="https://www.cnblogs.com/guochunguang/articles/3641008.html#top">返回顶部</a></div>
    <div id="comment_form_container" style="visibility: visible;"><div class="login_tips">
    注册用户登录后才能发表评论，请 
    <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login(&#39;commentform&#39;);">登录</a>
     或 
    <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，
    <a href="https://www.cnblogs.com/">访问</a> 网站首页。
</div></div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
    <div id="ad_t2"><a href="http://www.ucancode.com/index.htm" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-ucancode&#39;)">【推荐】超50万行VC++源码: 大型组态工控、电力仿真CAD与GIS源码库</a><br><a href="https://developer.aliyun.com/topic/java2020?utm_content=g_1000113424" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-阿里云开发者社区&#39;)">【重磅】会当凌绝顶，一览众山小，《Java开发手册》泰山版正式发布</a><br><a href="https://cloud.tencent.com/act/seckill?fromSource=gwzcw.3498755.3498755.3498755&amp;utm_medium=cpc&amp;utm_id=gwzcw.3498755.3498755.3498755" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-腾讯云&#39;)">【推荐】腾讯云产品限时秒杀，爆款1核2G云服务器99元/年！</a><br><a href="https://developer.aliyun.com/live/2679?utm_content=g_1000113450" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-阿里云开发者社区&#39;)">【推荐】直播连麦阿里副总裁共探金融科技的未来</a><br><a href="https://developer.aliyun.com/ask/258515?utm_content=g_1000088951" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-阿里云开发者社区&#39;)">【推荐】精品问答：大数据常见问题之 flink 五十问</a><br></div>
    <div id="opt_under_post"></div>
    <script async="async" src="./Lucene_ 全文检索的基本原理 - 春天的风 - 博客园_files/gpt.js"></script>
    <script>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
    </script>
    <script>
        googletag.cmd.push(function () {
            googletag.defineSlot("/1090369/C1", [300, 250], "div-gpt-ad-1546353474406-0").addService(googletag.pubads());
            googletag.defineSlot("/1090369/C2", [468, 60], "div-gpt-ad-1539008685004-0").addService(googletag.pubads());
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    </script>
    <div id="cnblogs_c1" class="c_ad_block">
        <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;"></div>
    </div>
    <div id="under_post_news"></div>
    <div id="cnblogs_c2" class="c_ad_block">
        <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;">
            <script>
                if (new Date() >= new Date(2018, 9, 13)) {
                    googletag.cmd.push(function () { googletag.display("div-gpt-ad-1539008685004-0"); });
                }
            </script>
        </div>
    </div>
    <div id="under_post_kb">
<div class="itnews c_ad_block">
    <b>最新 IT 新闻</b>:
    <br>
 ·              <a href="https://news.cnblogs.com/n/660281/" target="_blank">常人不解朱啸虎，读懂已是被裁人</a>
            <br>
 ·              <a href="https://news.cnblogs.com/n/660280/" target="_blank">关于腾讯首款女性向恋爱手游，三位小姐姐这样“吐槽”</a>
            <br>
 ·              <a href="https://news.cnblogs.com/n/660279/" target="_blank">DNA存储，拯救人类数据危机的良方？</a>
            <br>
 ·              <a href="https://news.cnblogs.com/n/660277/" target="_blank">百度网盘因默认开启“用户激励计划” 道歉 网友：消无声息地叫人薅了羊毛</a>
            <br>
 ·              <a href="https://news.cnblogs.com/n/660276/" target="_blank">我在下沉市场做自媒体：“暴富”童话如何破灭？</a>
            <br>
    » <a href="https://news.cnblogs.com/" title="IT 新闻" target="_blank">更多新闻...</a>
</div></div>
    <div id="HistoryToday" class="c_ad_block"></div>
    <script type="text/javascript">
        fixPostBody();
        deliverBigBanner();
setTimeout(function() { incrementViewCount(cb_entryId); }, 50);        deliverAdT2();
        deliverAdC1();
        deliverAdC2();
        loadNewsAndKb();
        loadBlogSignature();
LoadPostCategoriesTags(cb_blogId, cb_entryId);        LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
        GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
        loadOptUnderPost();
        GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    </script>
</div>
	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<div id="sidebar_news" class="newsItem"><!--done-->
<h3 class="catListTitle">公告</h3>

<div id="blog-news">
    
    <div id="profile_block">
        昵称：
        <a href="https://home.cnblogs.com/u/guochunguang/">
            春天的风
        </a>
        <br>
        园龄：
        <a href="https://home.cnblogs.com/u/guochunguang/" title="入园时间：2014-04-02">
            6年
        </a>
        <br>
        粉丝：
        <a href="https://home.cnblogs.com/u/guochunguang/followers/">
            13
        </a>
        <br>
        关注：
        <a href="https://home.cnblogs.com/u/guochunguang/followees/">
            0
        </a>
        <div id="p_b_follow">
<a href="javascript:void(0)" onclick="follow(&#39;97b7a6b9-15ba-e311-8d02-90b11c0b17d6&#39;)">+加关注</a></div>
        <script>getFollowStatus('97b7a6b9-15ba-e311-8d02-90b11c0b17d6');</script>
    </div>
</div>

</div>

			<div id="blog-calendar" style="">

<table id="blogCalendar" class="Cal" cellspacing="0" cellpadding="0" title="Calendar" border="0">
    <tbody>
        <tr>
            <td colspan="7">
                <table class="CalTitle" cellspacing="0" border="0">
                    <tbody>
                        <tr>
                            <td class="CalNextPrev">
                                <a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2020/03/22&#39;); return false;">&lt;</a>
                            </td>
                            <td align="center">2020年4月</td>
                            <td align="right" class="CalNextPrev">
                                <a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2020/05/22&#39;); return false;">&gt;</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
        <tr>
                    <th class="CalDayHeader" align="center" abbr="日" scope="col">日</th>
                    <th class="CalDayHeader" align="center" abbr="一" scope="col">一</th>
                    <th class="CalDayHeader" align="center" abbr="二" scope="col">二</th>
                    <th class="CalDayHeader" align="center" abbr="三" scope="col">三</th>
                    <th class="CalDayHeader" align="center" abbr="四" scope="col">四</th>
                    <th class="CalDayHeader" align="center" abbr="五" scope="col">五</th>
                    <th class="CalDayHeader" align="center" abbr="六" scope="col">六</th>
        </tr>
            <tr>
                            <td class="CalOtherMonthDay" align="center">29</td>
                            <td class="CalOtherMonthDay" align="center">30</td>
                            <td class="CalOtherMonthDay" align="center">31</td>
                        <td class="" align="center">
                            1
                        </td>
                        <td class="" align="center">
                            2
                        </td>
                        <td class="" align="center">
                            3
                        </td>
                    <td class="CalWeekendDay" align="center">
                        4
                    </td>
            </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            5
                        </td>
                            <td class="" align="center">
                                6
                            </td>
                            <td class="" align="center">
                                7
                            </td>
                            <td class="" align="center">
                                8
                            </td>
                            <td class="" align="center">
                                9
                            </td>
                            <td class="" align="center">
                                10
                            </td>
                        <td class="CalWeekendDay" align="center">
                            11
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            12
                        </td>
                            <td class="" align="center">
                                13
                            </td>
                            <td class="" align="center">
                                14
                            </td>
                            <td class="" align="center">
                                15
                            </td>
                            <td class="" align="center">
                                16
                            </td>
                            <td class="" align="center">
                                17
                            </td>
                        <td class="CalWeekendDay" align="center">
                            18
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            19
                        </td>
                            <td class="" align="center">
                                20
                            </td>
                            <td class="" align="center">
                                21
                            </td>
                            <td class="CalTodayDay" align="center">
                                22
                            </td>
                            <td class="" align="center">
                                23
                            </td>
                            <td class="" align="center">
                                24
                            </td>
                        <td class="CalWeekendDay" align="center">
                            25
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            26
                        </td>
                            <td class="" align="center">
                                27
                            </td>
                            <td class="" align="center">
                                28
                            </td>
                            <td class="" align="center">
                                29
                            </td>
                            <td class="" align="center">
                                30
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                1
                            </td>
                        <td class="CalOtherMonthDay" align="center">
                            2
                        </td>
                </tr>
                <tr>
                        <td class="CalOtherMonthDay" align="center">
                            3
                        </td>
                            <td class="CalOtherMonthDay" align="center">
                                4
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                5
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                6
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                7
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                8
                            </td>
                        <td class="CalOtherMonthDay" align="center">
                            9
                        </td>
                </tr>
    </tbody>
</table></div><script>loadBlogDefaultCalendar();</script>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn">
<!-- 搜索 -->
<div id="sidebar_search" class="sidebar-block">
    <div id="sidebar_search" class="mySearch">
        <h3 class="catListTitle">搜索</h3>
        <div id="sidebar_search_box">
            <div id="widget_my_zzk" class="div_my_zzk">
                <input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk">
            </div>
            <div id="widget_my_google" class="div_my_zzk">
                <input type="text" name="google_q" id="google_q" onkeydown="return google_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="google_go()" type="button" value="谷歌搜索" class="btn_my_zzk">
            </div>
        </div>
    </div>
</div>

<!-- 常用链接 -->
<div id="sidebar_shortcut" class="sidebar-block">
    <div class="catListLink">
<h3 class="catListTitle">
常用链接
</h3>
<ul>
		<li>

<a href="https://www.cnblogs.com/guochunguang/p/" title="我的博客的随笔列表">我的随笔</a>
</li>
		<li>

<a href="https://www.cnblogs.com/guochunguang/MyComments.html" title="我的发表过的评论列表">我的评论</a>
</li>
		<li>

<a href="https://www.cnblogs.com/guochunguang/OtherPosts.html" title="我评论过的随笔列表">我的参与</a>
</li>
		<li>

<a href="https://www.cnblogs.com/guochunguang/RecentComments.html" title="我的博客的评论列表">最新评论</a>
</li>
		<li>

<a href="https://www.cnblogs.com/guochunguang/tag/" title="我的博客的标签列表">我的标签</a>
</li>

</ul>
<div id="itemListLin_con" style="display:none;">
<ul>

</ul>
</div>
</div>


</div>

<!-- 最新随笔 -->



<!-- 我的标签 -->
<div id="sidebar_toptags" class="sidebar-block">
    <div class="catListTag">
<h3 class="catListTitle">我的标签</h3>
<ul>

        <li>
            <a href="https://www.cnblogs.com/guochunguang/tag/mysql/">mysql</a>(1)
        </li>
    

</ul>
</div>


</div>

<!-- 积分与排名 -->


<!-- 随笔分类、随笔档案、文章分类、新闻分类、相册、链接 -->
<div id="sidebar_categories">
    
        <div id="sidebar_postcategory" class="catListPostCategory sidebar-block">
            <h3 class="catListTitle">
                

随笔分类



            </h3>


            <ul>

                        <li>
                            
<a href="https://www.cnblogs.com/guochunguang/category/566273.html" rel="" target="">
    java(5)
</a>
 

                        </li>
                        <li>
                            
<a href="https://www.cnblogs.com/guochunguang/category/579558.html" rel="" target="">
    mysql(5)
</a>
 

                        </li>

            </ul>


        </div>
        <div id="sidebar_postarchive" class="catListPostArchive sidebar-block">
            <h3 class="catListTitle">
                

随笔档案



            </h3>


            <ul>

                        <li>
                            
<a href="https://www.cnblogs.com/guochunguang/archive/2017/07.html" rel="" target="">
    2017年7月(1)
</a>
 

                        </li>
                        <li>
                            
<a href="https://www.cnblogs.com/guochunguang/archive/2017/06.html" rel="" target="">
    2017年6月(1)
</a>
 

                        </li>
                        <li>
                            
<a href="https://www.cnblogs.com/guochunguang/archive/2017/05.html" rel="" target="">
    2017年5月(2)
</a>
 

                        </li>
                        <li>
                            
<a href="https://www.cnblogs.com/guochunguang/archive/2017/04.html" rel="" target="">
    2017年4月(1)
</a>
 

                        </li>
                        <li>
                            
<a href="https://www.cnblogs.com/guochunguang/archive/2015/01.html" rel="" target="">
    2015年1月(1)
</a>
 

                        </li>
                        <li>
                            
<a href="https://www.cnblogs.com/guochunguang/archive/2014/06.html" rel="" target="">
    2014年6月(1)
</a>
 

                        </li>
                        <li>
                            
<a href="https://www.cnblogs.com/guochunguang/archive/2014/05.html" rel="" target="">
    2014年5月(5)
</a>
 

                        </li>
                        <li>
                            
<a href="https://www.cnblogs.com/guochunguang/archive/2014/04.html" rel="" target="">
    2014年4月(1)
</a>
 

                        </li>

            </ul>


        </div>
        <div id="sidebar_articlecategory" class="catListArticleCategory sidebar-block">
            <h3 class="catListTitle">
                

文章分类



            </h3>


            <ul>

                        <li>
                            
<a href="https://www.cnblogs.com/guochunguang/category/566298.html" rel="" target="">
    javaWeb(1)
</a>
 

                        </li>
                        <li>
                            
<a href="https://www.cnblogs.com/guochunguang/category/566357.html" rel="" target="">
    Lucene(1)
</a>
 

                        </li>

            </ul>


        </div>

</div>

<!-- 最新评论 -->
<div id="sidebar_recentcomments" class="sidebar-block">
    <div class="catListComment">
<h3 class="catListTitle">最新评论</h3>

	<div class="RecentCommentBlock">
        <ul>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/guochunguang/articles/3641008.html">1. Re:Lucene: 全文检索的基本原理</a></li>
                    <li class="recent_comment_body">搜索的时候，是先进行词法分析和语言处理得到Term，再进行语法分析得到语法树的把</li>
                    <li class="recent_comment_author">--三思啊</li>
        </ul>
    </div>
</div>


</div>



<!-- 阅读排行榜 -->
<div id="sidebar_topviewedposts" class="sidebar-block">
    <div class="catListView">
<h3 class="catListTitle">阅读排行榜</h3>
	<div id="TopViewPostsBlock">
        <ul style="word-break:break-all">
                    <li>
                        <a href="https://www.cnblogs.com/guochunguang/p/4212888.html">
                            1. exists,in的区别-mysql(6623)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/guochunguang/p/6877518.html">
                            2. Hadoop yarn任务调度策略介绍(转)(5387)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/guochunguang/p/3755288.html">
                            3. SpringMVC+Apache Shiro+JPA（hibernate）案例教学（三）给Shiro登录验证加上验证码(1408)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/guochunguang/p/3755267.html">
                            4. SpringMVC+Apache Shiro+JPA（hibernate）案例教学（二）基于SpringMVC+Shiro的用户登录权限验证(1171)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/guochunguang/p/3755228.html">
                            5. SpringMVC+Apache Shiro+JPA（hibernate）整合配置(543)
                        </a>
                    </li>
        </ul>
    </div>
</div>


</div>

<!-- 评论排行榜 -->
<div id="sidebar_topcommentedposts" class="sidebar-block">
    
</div>

<!-- 推荐排行榜 -->
<div id="sidebar_topdiggedposts" class="sidebar-block">
    
<div id="topdigg_posts_wrap">
    <div class="catListView">
        <h3 class="catListTitle">推荐排行榜</h3>
        <div id="TopDiggPostsBlock">
            <ul style="word-break: break-all">
                        <li>
                            <a href="https://www.cnblogs.com/guochunguang/p/3755267.html">
                                1. SpringMVC+Apache Shiro+JPA（hibernate）案例教学（二）基于SpringMVC+Shiro的用户登录权限验证(2)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/guochunguang/p/6877518.html">
                                2. Hadoop yarn任务调度策略介绍(转)(1)
                            </a>
                        </li>
            </ul>
        </div>
    </div>
</div>
</div></div>
                    <script>loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		<!--done-->
Copyright © 2020 春天的风
<br><span id="poweredby">Powered by .NET Core on Kubernetes</span>



	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->


    

</body></html>