!function(){var d;(d={},function(i,e){var t,n,a,r=i?e?"is"+e+"IE"+i:"isIE"+i:"isIE",o=d[r];return void 0!==o?o:(i?(t=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:|Edge\/)(\d+)/))?(n=parseInt(t[1]),o=e?"lt"===e?n<i:"gt"===e?i<n:void 0:n===i):i<=9&&((a=document.createElement("b")).innerHTML="\x3c!--[if "+(e||"")+" IE "+i+"]><i></i><![endif]--\x3e",o=1===a.getElementsByTagName("i").length):o=-1!==navigator.userAgent.indexOf("MSIE")||-1<navigator.appVersion.indexOf("Trident/"),d[r]=o)})(11,"lt")&&-1===document.cookie.indexOf("ie_compatibility_hide=")&&(location.href="/ie_compatibility")}();
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.OSCRequire={module:{},base:{},page:{define:null},stringUtil:{isNull:function(e){return!("string"==typeof e&&e&&e.replace(/(^\s*)|(\s*$)/g,""))}},fetchBase:function(e){var t;return"function"==typeof this.base[e]&&(t=this.base[e].apply(Object),this.base[e]="function"==typeof t?new t:t),this.base[e]},buildModule:function(e,t,n){var i=this.stringUtil,r={require:null,target:null};if(!i.isNull(e)&&n instanceof Function){if(r.target=n,t instanceof Array){var o=[];for(var u in t){var a=t[u];if(i.isNull(a)||!this.base.hasOwnProperty(a))throw new Error("依赖参数错误!");o.push(a)}o.length&&(r.require=o)}this.module[e]=r}},initPage:function(){var e=document.querySelector("[data-define]")||document.querySelector("x-foo-define");e instanceof HTMLElement&&(this.page.define=e.getAttribute("data-define"));for(var t=null,n="",i="",r=document.querySelectorAll("val"),o=0,u=r.length;o<u;++o)(t=r[o])instanceof HTMLElement&&(n=t.getAttribute("data-name"),i=t.getAttribute("data-value"),n&&("true"!==i&&"false"!==i||(i="true"===i),this.page[n]=i));return this.page},initModule:function(e,t){var n=[];if("function"!=typeof e)throw new Error("非法模块调用!");if(Array.isArray(t)&&0<t.length)for(var i in t){var r=t[i];n.push(this.fetchBase(r))}return new(e.apply(Object,n))}},window.OSCDefine=function(){var e,t,n,i,r,o=arguments,u=o.length;2<=u&&(n=o[0],r=3===u?o[2]:null,(i=o[1])instanceof Function&&(e=i),r instanceof Function&&(e=r),i instanceof Array&&(t=i),OSCRequire.stringUtil.isNull(n)||OSCRequire.buildModule(n,t,e))},window.OSCPlugin=function(e,t){"string"==typeof e&&/^object|function$/.test(_typeof(t))&&""!==e&&void 0===OSCRequire.base[e]&&(OSCRequire.base[e]=t)};
"use strict";!function(a,e){function t(){this._timer=null,this._totalCountTransitionTimer=null,this._messageEl=a("#message"),this._messageTotalCountEl=this._messageEl.find(".total-count"),this._messageHeaderEl=this._messageEl.find(".message-header"),this._messageActionWrap=this._messageEl.find(".action"),this._messageMarkReadAllEl=this._messageEl.find(".mark-read-all")}var s="暂没有未读消息",i="未读消息";t.prototype.init=function(){this._messageEl.dropdown({on:"hover"}),this.bindMarkReadAll()},t.prototype.markReadAll=function(){var t=this;a.post(page.space_user_url+"/msg/updateReadStatu",{userId:page.g_user_id},function(e){1===e.code?(t.setAll({totalMsgCount:0}),"space-admin-inbox"!==page.define&&"space-admin-msgs"!==page.define||(a(".messages-wrap").find(".private-message.un-read").removeClass("un-read"),a("body").toast({type:"success",content:"成功设置全部已读"}))):a("body").toast({type:"error",content:"网络错误，请稍后再试"})})},t.prototype.bindMarkReadAll=function(){var t=this;this._messageEl.on("click",".mark-read-all",function(e){e.stopPropagation(),t.markReadAll()})},t.prototype.setAll=function(e){this.setMsgTotalCount(e),this.setMsgHeader(e),this.setMsgList(e),this.setMsgMarkReadAll(e),this.setSpaceAdminSidebar(e)},t.prototype.setMsgTotalCount=function(e){var t=this,s=void 0!==e&&e.totalMsgCount||0;t._messageTotalCountEl.html(s),0<s?(t._messageTotalCountEl.show(),t._totalCountTransitionTimer&&(clearInterval(t._totalCountTransitionTimer),t._totalCountTransitionTimer=null),t._totalCountTransitionTimer=setInterval(function(){t._messageTotalCountEl.transition("flash")},4e3)):(clearInterval(t._totalCountTransitionTimer),t._totalCountTransitionTimer=null,t._messageTotalCountEl.transition("hide"))},t.prototype.setMsgHeader=function(e){0<(void 0!==e&&e.totalMsgCount||0)?this._messageHeaderEl.html(i):this._messageHeaderEl.html(s)},t.prototype.setMsgList=function(e){if(!e)return!1;var t,s=e.totalMsgCount||0;this._messageEl.find(".message-item").remove(),0<s&&(t="",0<e.fansCount&&(t+='<a class="item message-item" href="{{g_user_url}}/followers">{{fansCount}} 位新粉丝</a>'.replace("{{g_user_url}}",page.g_user_url).replace("{{fansCount}}",e.fansCount)),0<e.privateMsgCount&&(t+='<a class="item message-item" href="{{g_user_url}}/admin/inbox">{{privateMsgCount}} 条新私信</a>'.replace("{{g_user_url}}",page.g_user_url).replace("{{privateMsgCount}}",e.privateMsgCount)),0<e.repliesCount&&(t+='<a class="item message-item" href="{{g_user_url}}?tab=activity&scope=reply">{{repliesCount}} 条新评论</a>'.replace("{{g_user_url}}",page.g_user_url).replace("{{repliesCount}}",e.repliesCount)),0<e.refMeCount&&(t+='<a class="item message-item" href="{{g_user_url}}?tab=activity&scope=atme">{{refMeCount}} 条提到我</a>'.replace("{{g_user_url}}",page.g_user_url).replace("{{refMeCount}}",e.refMeCount)),this._messageActionWrap.before(t))},t.prototype.setMsgMarkReadAll=function(e){0<(void 0!==e&&e.totalMsgCount||0)?this._messageMarkReadAllEl.show():this._messageMarkReadAllEl.hide()},t.prototype.setSpaceAdminSidebar=function(e){var t;-1<(page.define||"").indexOf("space-admin")&&(0<(t=void 0!==e&&e.privateMsgCount||0)?a(".un-read-count-label").text(t).show():a(".un-read-count-label").hide())},t.prototype.fetchMsgCount=function(){var s=this;a.post(page.space_user_url+"/msg/findAllMsgCount",{user_code:page.g_user_code,userId:page.g_user_id},function(e,t){1===e.code&&e.result&&s.setAll(e.result)})},t.prototype.startPolling=function(){this._timer&&(clearInterval(this._timer),this._timer=null);var e=this;this._timer=setInterval(function(){e.fetchMsgCount()},24e4)},t.prototype.stopPolling=function(){this._timer&&(clearInterval(this._timer),this._timer=null)},e.OSCPollingMsg=t}(window.jQuery||window.$,window);
"use strict";!function(l){function u(e,t,n,i,r){var a=this,c=!1!==i;function o(e,t){return null!=e&&null!=t&&-1!==e.indexOf(t,e.length-t.length)}this.log=function(e){},this.getFileName=function(e){var t=l.__STATIC_DOMAIN||"";return/^http(s?):\/\//.test(e)||(e=t+e),c||(-1===e.indexOf("?")?e+="?no_cache="+(new Date).getTime():e+="&no_cache="+(new Date).getTime()),e},this.execStyleCallback=function(){"function"==typeof n&&n()},this.execScriptCallback=function(){"function"==typeof t&&t()},this.loadStyle=function(e){var t=a._css_files[e];if(c&&-1!==a.cssCacheList.indexOf(t))return a.log('Skip style file "'+t+'" cached.'),void r();var n=document.createElement("link"),i=!1;function r(){e+1<a._css_files.length?a.loadStyle(e+1):a.execStyleCallback()}function o(){i||(i=!0,c&&a.cssCacheList.push(t),a.log('Loaded style "'+t+'".'),r())}n.rel="stylesheet",n.type="text/css",n.href=a.getFileName(t),n.onload=o,n.onreadystatechange=function(){i||"complete"!==n.readyState||o()},n.onerror=function(){i||(i=!0,a.log('Error loading style "'+t+'".'),r())},a.log("Loading style "+t),a._head.appendChild(n)},this.loadScript=function(e){var t=a._js_files[e];if(c&&-1!==a.scriptCacheList.indexOf(t))return a.log('Skip script file "'+t+'" cached.'),void r();var n=document.createElement("script"),i=!1;function r(){e+1<a._js_files.length?a.loadScript(e+1):a.execScriptCallback()}function o(){i||(i=!0,c&&a.scriptCacheList.push(t),a.log('Loaded script "'+t+'".'),r())}n.type="text/javascript",n.src=a.getFileName(t),n.onload=o,n.onreadystatechange=function(){i||"complete"!==n.readyState||o()},n.onerror=function(){i||(i=!0,a.log('Error loading script "'+t+'".'),r())},a.log('Loading script "'+t+'".'),a._head.appendChild(n)},this.loadFiles=function(){0<a._css_files.length&&a.loadStyle(0),0<a._js_files.length&&a.loadScript(0)},this.cssCacheList=u.cssCacheList,this.scriptCacheList=u.scriptCacheList,this._js_files=[],this._css_files=[],this._head=document.getElementsByTagName("head")[0];for(var s=0;s<e.length;++s)o(e[s],".css")||o(e[s].split("?")[0],".css")?this._css_files.push(e[s]):o(e[s],".js")||o(e[s].split("?")[0],".js")?this._js_files.push(e[s]):this.log('Error unknown filetype "'+e[s]+'".')}l.common={dynamicLoader:(u.cssCacheList=[],u.scriptCacheList=[],u),throttle:function(n,i,r){var o,a,c,s=Date.now||function(){return(new Date).getTime()},l=null,u=0;r=r||{};function h(){u=!1===r.leading?0:s(),l=null,c=n.apply(o,a),l||(o=a=null)}return function(){var e=s();u||!1!==r.leading||(u=e);var t=i-(e-u);return o=this,a=arguments,t<=0||i<t?(clearTimeout(l),l=null,u=e,c=n.apply(o,a),l||(o=a=null)):l||!1===r.trailing||(l=setTimeout(h,t)),c}},debounce:function(i,r,o){var a;return function(){var e=this,t=arguments,n=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||i.apply(e,t)},r),n&&i.apply(e,t)}},getImagesBySizeFilter:function(e,t){for(var n=[],i=$(e),r=0;r<i.length;r++){var o=i.eq(r),a=parseInt(o.css("width")),c=parseInt(o.css("height"));o[0]&&o[0].naturalWidth&&(a=o[0].naturalWidth,c=o[0].naturalHeight),$.isFunction(t)&&t(a,c)&&n.push(o)}return n},getWeChatShareImgUrl:function(e){var n=[];return this.getImagesBySizeFilter(e,function(e,t){return 300<=e&&300<=t}).forEach(function(e){var t=e.attr("src");/http(s?):\/\//.test(t)&&n.push(t)}),0<n.length?n[0]:""},checkLogin:function(){if(page.g_user_code)return!0;var e=page.login_page?'点击<a href="'+page.login_page+'" target="_blank">此处</a>':"请先";return $("body").toast({type:"error",content:"您还没有登录，"+e+"登录",duration:0}),!1},checkLoginForWeChat:function(e,t){if(!l.common.checkWeChat()||page.g_user_code)return l.common.checkLogin();var n=page.site_url+"/action/openid/before_bind?op=wechat_mobile",i=e||location.href||"";return i&&(n=n+"&goto="+encodeURIComponent(i)),t&&"[object Function]"==={}.toString.call(t)&&t(),l.location.href=n,!1},checkPC:function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,i=0;i<t.length;i++)if(-1<e.indexOf(t[i])){n=!1;break}return n},checkWeChat:function(){for(var e=navigator.userAgent,t=["MicroMessenger"],n=!1,i=0;i<t.length;i++)if(-1<e.indexOf(t[i])){n=!0;break}return n},checkMobileSafari:function(){var e=navigator.userAgent,t=!!e.match(/Version\/[\d.]+.*Safari/),n=/iPad|iPhone|iPod/.test(e)&&!l.MSStream;return t&&n},formatNumberK:function(e){var t=Number(e)||0;if(1<=t/1e3){var n=(n=t/1e3).toFixed(1);return-1<String(n).indexOf(".0")&&(n=parseInt(n)),n+"K"}return t},getCurrentUrl:function(e){return e?l.location.href.split("#")[0]:l.location.href},queryString:function(t){return Object.keys(t).map(function(e){return e+"="+t[e]}).join("&")},addQueryParams:function(e,t){var n=(e=e||"").split("#"),i=n[1]||"",r=n[0].split("?"),o=r[0],a=r[1]||"",c=this.queryString(t);return a?a+=c?"&"+c:"":a=c,o+(a?"?"+a:"")+(i?"#"+i:"")},setCookie:function(e,t,n){var i,r="";n&&((i=new Date).setTime(i.getTime()+864e5*n),r="; expires="+i.toUTCString()),document.cookie=e+"="+(t||"")+r+"; path=/"},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},eraseCookie:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/"},htmlEncode:function(e){return $("<div/>").text(e).html()},htmlDecode:function(e){return $("<div/>").html(e).text()}},$(function(){if(l.page=l.OSCRequire.initPage(),page.define){var e=l.OSCRequire.module[page.define];if(e instanceof Object){l.currentModule=l.OSCRequire.initModule(e.target,e.require);try{"function"==typeof currentModule.ready&&currentModule.ready(),"function"==typeof currentModule.register&&currentModule.register()}catch(e){}}}})}(window);
"use strict";$(function(){var e=$("#headerNavMenu");e.find(".dropdown").dropdown(),$("#btnDownloadApp").popup({position:"right center",popup:$("#btnDownloadAppContent")});var n=$("#mobileNavSidebar");n.sidebar({dimPage:!0,transition:"overlay",mobileTransition:"overlay",useLegacy:!1,exclusive:!0}),n.sidebar("attach events",".toggle-mobile-nav-sidebar");var i=$("#mobileUserSidebar");i.sidebar({dimPage:!0,transition:"overlay",mobileTransition:"overlay",useLegacy:!1,exclusive:!0}),i.sidebar("attach events",".toggle-mobile-user-sidebar");var o=$("#userSidebar");o.sidebar({dimPage:!0,transition:"uncover",useLegacy:"auto",duration:500,exclusive:!0}),$(".toggle-user-sidebar").on("click",function(e){o.sidebar("toggle"),e.preventDefault()});function t(){200<$(window).scrollTop()&&768<=window.innerWidth?d.fadeIn(100):d.fadeOut(100)}var a,s,c,r,l,p,u,g,d=$(".back-to-top");function m(){page.objType&&page.objId&&$.post(page.api_prefix+"/user/log_share",{objType:page.objType,objId:page.objId},function(e){e.code})}function w(){window.common.getImagesBySizeFilter(".article-detail .content img:not(.ad-wrap img)",function(e,n){return 200<=e||200<=n}).forEach(function(e){return!e.parent().is("a")&&(e.addClass("zoom-in-cursor"),void e.viewer({button:!0,navbar:!1,title:!1,toolbar:!1,zoomRatio:.2,maxZoomRatio:2,viewed:function(){this.viewer.options.minZoomRatio=this.viewer.initialImageData.ratio}}))})}t(),window.addEventListener("scroll",window.common.throttle(t,300),!1),$(document).on("click",".back-to-top-toggle",function(){$("html, body").stop().animate({scrollTop:0},500,"swing")}),$(document).on("click",'a[href*="#"]:not([href="#"]), area[href*="#"]',function(){var e,n,i;location.pathname.replace(/^\//,"")!==this.pathname.replace(/^\//,"")||location.hostname!==this.hostname||(i=(i=$(this.hash)).length&&i||$('[name="'+this.hash.slice(1)+'"]')).length&&(e=i.offset().top,n=parseInt(i.data("offset"))||0,0<e-80&&(e-=80),isNaN(n)||(e+=n),$("html, body").stop(!0).animate({scrollTop:e},500,"swing"))}),$(document).on("click",".logout-btn",function(){$.post(page.api_prefix+"/user/logout",{session:page.g_user_code},function(e){200===e.code?($("body").toast({type:"success",content:"退出成功"}),setTimeout(function(){location.reload()},0)):$("body").toast({type:"error",content:e.message||"退出失败，请稍后再试"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}),e.on("click",".search-item .search.link.icon",function(){var e=$(this).parents(".search-item:eq(0)");0<e.find("input[name=q]").val().trim().length&&e.submit()}),window.name||(c=(c=$(location.hash)).length&&c||$('[name="'+location.hash.slice(1)+'"]')).length&&(a=c.offset().top,s=parseInt(c.data("offset"))||0,0<a-80&&(a-=80),isNaN(s)||(a+=s),$("html, body").stop(!0).animate({scrollTop:a},500,"swing"),window.name="opened"),page.g_user_code&&(window.pollingMsg=new OSCPollingMsg,pollingMsg.init(),pollingMsg.startPolling(),pollingMsg.fetchMsgCount(),$(window).on("pageshow",function(e){(e.originalEvent.persisted||window.performance&&2===window.performance.navigation.type)&&pollingMsg.fetchMsgCount()})),l=page.weixinAppId,p=page.weixinTimestamp,u=page.weixinNonceStr,g=page.weixinSignature,l&&p&&u&&g&&(r={title:page.weixinShareTitle||document.title,desc:page.weixinShareDescription||$('meta[name="description"]').attr("content")||"",imgUrl:page.weixinShareImgUrl||"https://static.oschina.net/uploads/space/2017/0606/104418_CPLl_2733728.png",link:page.weixinShareUrl||location.href},page.beforeWeChatShareHook&&"function"==typeof page.beforeWeChatShareHook&&(r=page.beforeWeChatShareHook(r)),wx.config({debug:!1,appId:l,timestamp:p,nonceStr:u,signature:g,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]}),wx.ready(function(){wx.onMenuShareTimeline({title:r.title,link:r.link,imgUrl:r.imgUrl,success:function(){m()},cancel:function(){}}),wx.onMenuShareAppMessage({title:r.title,desc:r.desc,link:r.link,imgUrl:r.imgUrl,type:"link",dataUrl:"",success:function(){m()},cancel:function(){}}),wx.onMenuShareQQ({title:r.title,desc:r.desc,link:r.link,imgUrl:r.imgUrl,success:function(){m()},cancel:function(){}}),wx.onMenuShareWeibo({title:r.title,desc:r.desc,link:r.link,imgUrl:r.imgUrl,success:function(){m()},cancel:function(){}}),wx.onMenuShareQZone({title:r.title,desc:r.desc,link:r.link,imgUrl:r.imgUrl,success:function(){m()},cancel:function(){}})})),$(".dropdown-share").dropdown({action:"hide",onChange:function(){m()}}),$(".menu-share").on("click",".item[data-value]",function(){$(this).data("value");m()}),$(document).on("click","[check-login]",function(e){if(window.common&&window.common.checkLogin&&!window.common.checkLogin())return e.preventDefault(),!1}),page.is_detail_page&&(window.Viewer?w():new window.common.dynamicLoader(["/new-osc/js/utils/plugins/viewer/viewer.min.css","/new-osc/js/utils/plugins/viewer/viewer.osc.css","/new-osc/js/utils/plugins/viewer/viewer.js","/new-osc/js/utils/plugins/viewer/jquery-viewer.min.js"],function(){w()}).loadFiles()),$(".osc-gitee-6th-label").popup()});
!function(t){var a,e,c,o,l,i,h,n='<svg><symbol id="oicon-switch" viewBox="0 0 1024 1024"><path d="M924.379429 145.700571L709.632 1.536a9.142857 9.142857 0 0 0-14.189714 7.753143V102.4H366.006857C163.913143 102.4 0 267.483429 0 471.04V544.914286c0 52.882286 11.117714 103.277714 31.012571 148.626285a9.216 9.216 0 0 0 13.458286 4.022858L153.6 624.274286a9.362286 9.362286 0 0 0 3.657143-10.605715 223.085714 223.085714 0 0 1-10.752-68.754285V471.04c0-59.099429 22.893714-114.614857 64.365714-156.525714a217.307429 217.307429 0 0 1 155.136-64.731429h329.435429v93.696c0 7.387429 8.192 11.776 14.189714 7.753143l214.601143-144.164571c21.869714-14.628571 21.869714-46.811429 0.146286-61.44zM99.766857 878.299429l214.601143 144.164571a9.142857 9.142857 0 0 0 14.189714-7.753143V921.6h329.435429C860.086857 921.6 1024 756.516571 1024 552.96V479.085714c0-52.882286-11.117714-103.277714-31.012571-148.626285a9.216 9.216 0 0 0-13.458286-4.022858l-108.982857 73.289143a9.362286 9.362286 0 0 0-3.657143 10.605715c7.021714 21.869714 10.678857 45.056 10.678857 68.754285V552.96c0 59.099429-22.893714 114.614857-64.292571 156.525714a217.234286 217.234286 0 0 1-155.282286 64.731429H328.557714V680.448c0-7.387429-8.192-11.776-14.189714-7.753143l-214.601143 144.164572a37.229714 37.229714 0 0 0 0 61.44z"  ></path></symbol><symbol id="oicon-org" viewBox="0 0 1024 1024"><path d="M456.96 22.656a78.016 78.016 0 0 1 110.08 0l100.48 100.544h155.52c42.88 0.128 77.632 34.88 77.76 77.76v155.52l100.48 100.544a78.016 78.016 0 0 1 0 109.952l-100.48 100.48v155.52a78.016 78.016 0 0 1-77.76 77.824h-155.52l-100.48 100.48a78.016 78.016 0 0 1-110.016 0l-100.48-100.48H200.96a78.016 78.016 0 0 1-77.824-77.76v-155.52L22.72 567.04a78.016 78.016 0 0 1 0-110.016l100.48-100.48V200.96A78.016 78.016 0 0 1 200.96 123.136h155.52z m235.904 375.104c-16.64-18.368-38.976-18.368-55.68 0L459.2 593.792l-72.32-79.68c-16.704-18.368-39.04-18.368-55.68 0A49.28 49.28 0 0 0 320 544.768a49.28 49.28 0 0 0 11.136 30.592l100.16 116.416c5.568 6.08 16.704 12.224 27.84 12.224a40.576 40.576 0 0 0 27.84-12.224l205.888-226.624C704 459.008 704 446.72 704 428.416a49.28 49.28 0 0 0-11.136-30.656z"  ></path></symbol><symbol id="oicon-gitee-circle" viewBox="0 0 1024 1024"><path d="M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0z m259.145143 227.547429h-354.011429a189.659429 189.659429 0 0 0-189.586285 189.659428v354.011429c0 13.897143 11.337143 25.234286 25.307428 25.234285h372.955429a170.642286 170.642286 0 0 0 170.642285-170.642285V480.402286a25.307429 25.307429 0 0 0-25.307428-25.307429H480.402286a25.307429 25.307429 0 0 0-25.307429 25.307429v63.195428c0 12.214857 8.630857 22.454857 20.187429 24.795429l5.12 0.512h177.005714c12.214857 0 22.381714 8.630857 24.722286 20.187428l0.512 5.12v12.580572c0 41.910857-33.938286 75.849143-75.849143 75.849143H366.592a25.307429 25.307429 0 0 1-25.307429-25.234286V417.206857c0-39.131429 29.622857-71.314286 67.584-75.410286l8.265143-0.438857h354.011429c13.897143 0 25.234286-11.337143 25.234286-25.307428v-63.195429a25.307429 25.307429 0 0 0-20.114286-24.795428l-5.12-0.512z"  ></path></symbol><symbol id="oicon-ask" viewBox="0 0 1024 1024"><path d="M146.295156 1024v-232.727273H73.079156A73.774545 73.774545 0 0 1 0.002793 716.986182V74.193455C0.002793 33.28 32.817338 0 73.125702 0H950.926429C991.188247 0 1024.002793 33.28 1024.002793 74.193455v642.839272c0 40.96-32.814545 74.193455-73.122909 74.193455H375.810793L146.295156 1024zM73.079156 49.431273a24.576 24.576 0 0 0-24.343272 24.762182v642.839272c0 13.684364 10.891636 24.762182 24.343272 24.762182h121.949091v162.816l160.581818-162.816h595.223273a24.529455 24.529455 0 0 0 24.343273-24.762182V74.193455a24.576 24.576 0 0 0-24.343273-24.762182H73.079156zM292.58752 438.458182c15.080727 8.843636 33.652364 8.843636 48.733091 0 15.080727-8.843636 24.389818-25.134545 24.389818-42.821818s-9.309091-33.978182-24.389818-42.821819a48.174545 48.174545 0 0 0-48.733091 0c-15.080727 8.843636-24.389818 25.134545-24.389818 42.821819s9.309091 33.978182 24.389818 42.821818z m390.050909 0c15.127273 8.843636 33.698909 8.843636 48.779636 0 15.080727-8.843636 24.389818-25.134545 24.389819-42.821818 0-27.322182-21.829818-49.477818-48.779637-49.477819-26.903273 0-48.733091 22.155636-48.733091 49.477819 0 17.687273 9.309091 33.978182 24.389819 42.821818zM512.002793 445.067636c26.949818 0 48.779636-22.155636 48.779636-49.431272 0-27.322182-21.876364-49.477818-48.779636-49.477819-26.949818 0-48.779636 22.155636-48.779637 49.477819 0 27.275636 21.876364 49.431273 48.779637 49.431272z"  ></path></symbol><symbol id="oicon-write" viewBox="0 0 1024 1024"><path d="M975.073029 1023.83715H48.926971A48.764121 48.764121 0 0 1 0.16285 975.073029V48.926971C0.16285 21.985725 21.985725 0.16285 48.926971 0.16285H585.053121a24.382061 24.382061 0 0 1 0 48.764121h-511.837151a24.382061 24.382061 0 0 0-24.33553 24.33553V950.78403c0 13.447358 10.888172 24.33553 24.33553 24.33553h877.56806a24.33553 24.33553 0 0 0 24.33553-24.33553v-511.837151a24.382061 24.382061 0 0 1 48.764121 0v536.172681c0 26.941246-21.822875 48.764121-48.764121 48.764121z m-487.362028-292.491666H316.338617a24.102877 24.102877 0 0 1-23.963285-24.195938c0-0.465307 0.279184-0.884082 0.279184-1.349389V535.730632c0-4.28082 0.186123-12.19103 0.465306-23.730632L790.346348 14.773474a48.764121 48.764121 0 0 1 68.911893 0l137.870316 137.870316a48.764121 48.764121 0 0 1 0 68.958423L487.711001 731.345484z m457.768535-561.624945L842.088431 66.236373a24.382061 24.382061 0 0 0-34.432681 0L340.534555 533.357568a19.496342 19.496342 0 0 1 0.465306 2.419594v147.222977h125.725817l478.800388-478.800389a24.382061 24.382061 0 0 0 0-34.525742h-0.093061z"  ></path></symbol><symbol id="oicon-plus" viewBox="0 0 1024 1024"><path d="M1024 426.666667H597.333333V0H426.666667v426.666667H0v170.666666h426.666667v426.666667h170.666666V597.333333h426.666667z"  ></path></symbol><symbol id="oicon-write_bak" viewBox="0 0 1024 1024"><path d="M975.234437 1023.9744H48.765563A48.739963 48.739963 0 0 1 0.0256 975.234437V48.765563C0.0256 21.835709 21.835709 0.0256 48.765563 0.0256H585.212339a24.369981 24.369981 0 1 1 0 48.739963h-511.9744a24.369981 24.369981 0 0 0-24.421179 24.421179V950.762061c0 13.464927 10.956252 24.421179 24.421179 24.421179h877.524122a24.369981 24.369981 0 0 0 24.421179-24.421179v-511.9744a24.369981 24.369981 0 0 1 48.739963 0v536.395579a48.739963 48.739963 0 0 1-48.739963 48.739963z m-463.592819-316.912154v0.102395a24.062797 24.062797 0 0 1-23.909205 24.216389H316.272187a24.062797 24.062797 0 0 1-23.909205-24.216389c0-0.460777 0.20479-0.819159 0.255988-1.279936v-170.129093c0-6.450877 2.662267-12.59457 7.321234-17.099945L293.079747 512 790.411679 14.668068a48.739963 48.739963 0 0 1 68.962951 0l137.925904 137.925903a48.739963 48.739963 0 0 1 0 68.962952L511.641618 707.062246zM945.642317 169.591521l-103.470026-103.418829a24.369981 24.369981 0 0 0-34.455878 0L340.488576 533.298135a19.455027 19.455027 0 0 1 0.511974 2.457477v147.243838h125.689716l478.952051-478.952052a24.369981 24.369981 0 0 0 0-34.558272h-0.051198z"  ></path></symbol><symbol id="oicon-ask_bak" viewBox="0 0 1186 1024"><path d="M154.565371 1009.712762V780.190476H81.422514C41.096419 780.190476 8.279657 747.373714 8.279657 707.047619v-633.904762C8.279657 32.816762 41.096419 0 81.422514 0h1024c40.326095 0 73.142857 32.816762 73.142857 73.142857v633.904762c0 40.326095-32.816762 73.142857-73.142857 73.142857H384.087657L154.565371 1009.712762zM81.422514 48.761905a24.380952 24.380952 0 0 0-24.380952 24.380952v633.904762a24.380952 24.380952 0 0 0 24.380952 24.380952H203.327276v160.572953L363.900228 731.428571H1105.422514a24.380952 24.380952 0 0 0 24.380953-24.380952v-633.904762a24.380952 24.380952 0 0 0-24.380953-24.380952h-1024zM349.61299 390.095238a48.761905 48.761905 0 1 0 97.52381 0 48.761905 48.761905 0 0 0-97.52381 0z m390.095238 0a48.761905 48.761905 0 1 0 97.52381 0 48.761905 48.761905 0 0 0-97.52381 0z m-195.047619 0a48.761905 48.761905 0 1 0 97.52381 0 48.761905 48.761905 0 0 0-97.52381 0z"  ></path></symbol><symbol id="oicon-trending" viewBox="0 0 1106 1024"><path d="M0 290.766798m55.308301 0l0 0q55.308301 0 55.3083 55.3083l0 608.391307q0 55.308301-55.3083 55.3083l0 0q-55.308301 0-55.308301-55.3083l0-608.391307q0-55.308301 55.308301-55.3083Z" fill="#F5A623" ></path><path d="M331.849803 14.225295m55.308301 0l0 0q55.308301 0 55.308301 55.3083l0 884.93281q0 55.308301-55.308301 55.3083l0 0q-55.308301 0-55.308301-55.3083l0-884.93281q0-55.308301 55.308301-55.3083Z" fill="#F5A623" opacity=".8" ></path><path d="M663.699607 401.383399m55.3083 0l0 0q55.308301 0 55.308301 55.3083l0 497.774706q0 55.308301-55.308301 55.3083l0 0q-55.308301 0-55.3083-55.3083l0-497.774706q0-55.308301 55.3083-55.3083Z" fill="#F5A623" opacity=".6" ></path><path d="M995.54941 124.841896m55.308301 0l0 0q55.308301 0 55.3083 55.308301l0 774.316208q0 55.308301-55.3083 55.3083l0 0q-55.308301 0-55.308301-55.3083l0-774.316208q0-55.308301 55.308301-55.308301Z" fill="#F5A623" opacity=".4" ></path></symbol><symbol id="oicon-gitee" viewBox="0 0 1024 1024"><path d="M966.524718 400.672821H456.520205c-24.497231 0-44.347077 19.954872-44.347077 44.557128v133.540102c0 24.602256 19.849846 44.530872 44.347077 44.530872h288.295385c33.266872 0 44.320821 11.132718 44.347077 44.530872 0.026256 89.035487-50.884923 133.566359-133.041231 133.566359h-376.779487c-24.602256 0-44.530872-19.954872-44.530872-44.530872v-400.67282c0-73.780513 59.575795-133.592615 133.014974-133.592616h598.593641c24.470974 0 44.320821-19.928615 44.320821-44.504615V44.530872C1010.740513 19.928615 990.916923 0 966.419692 0H367.826051C171.979487 0 13.128205 159.455179 13.128205 356.168205v623.32718C13.128205 1004.045128 32.978051 1024 57.475282 1024h598.646154c196.187897 0 352.439795-170.325333 354.619077-367.327179 0.131282-11.106462 0.131282-200.33641 0.131282-211.442872a44.478359 44.478359 0 0 0-44.347077-44.530872z"  ></path></symbol><symbol id="oicon-world" viewBox="0 0 1024 1024"><path d="M921.6 204.8h-1.024A510.464 510.464 0 0 0 512 0C229.696 0 0 229.696 0 512s229.696 512 512 512c167.04 0 315.072-80.64 408.576-204.8h1.024v-1.28C985.6 732.416 1024 626.816 1024 512s-38.4-220.416-102.4-305.92V204.8zM358.4 891.456A409.984 409.984 0 0 1 102.4 512c0-17.408 1.408-34.432 3.52-51.2H153.6l51.2 102.4v102.4L307.2 768l51.2 51.2v72.256zM512 921.6a408.32 408.32 0 0 1-96.448-11.904L460.8 819.2l51.2-102.4V614.4H409.6l-51.2-51.2h-51.2L256 460.8l51.2-102.4 51.2-51.2 51.2-51.2 51.2-102.4v-47.68c16.768-2.112 33.792-3.52 51.2-3.52a407.04 407.04 0 0 1 256 90.368V256l-51.2 102.4 51.2 51.2v51.2l-102.4 51.2-51.2 52.032 51.2 50.368 51.2 51.2 51.2 102.4 33.472 33.472A408.32 408.32 0 0 1 512 921.6z"  ></path></symbol><symbol id="oicon-setting" viewBox="0 0 1162 1024"><path d="M1055.479204 128.810127H442.676311c-10.415913-55.551537-57.287523-97.21519-116.311031-97.21519-57.287523 0-105.895118 41.663653-116.31103 97.21519H53.815552c-10.415913 0-19.095841 8.679928-19.095841 20.831826s8.679928 20.831826 20.831826 20.831826h156.238698c10.415913 55.551537 57.287523 97.21519 116.311031 97.21519 57.287523 0 105.895118-41.663653 116.311031-97.21519h611.066907c12.151899 0 20.831826-8.679928 20.831827-20.831826s-8.679928-20.831826-20.831827-20.831826zM328.101266 224.289331c-41.663653 0-76.383363-34.719711-76.383364-76.383364 0-41.663653 34.719711-76.383363 76.383364-76.383363 41.663653 0 76.383363 34.719711 76.383363 76.383363 0 41.663653-34.719711 76.383363-76.383363 76.383364zM1055.479204 840.564195H637.106691c-10.415913-55.551537-57.287523-97.21519-116.311031-97.21519-57.287523 0-105.895118 41.663653-116.311031 97.21519H55.551537c-12.151899 0-20.831826 8.679928-20.831826 20.831827s8.679928 20.831826 20.831826 20.831826h348.933092c10.415913 55.551537 57.287523 97.21519 116.311031 97.21519 57.287523 0 105.895118-41.663653 116.311031-97.21519H1055.479204c12.151899 0 20.831826-8.679928 20.831827-20.831826 0-10.415913-8.679928-20.831826-20.831827-20.831827z m-534.683544 97.21519c-41.663653 0-76.383363-34.719711-76.383363-76.383363 0-41.663653 34.719711-76.383363 76.383363-76.383364 41.663653 0 76.383363 34.719711 76.383364 76.383364-1.735986 41.663653-34.719711 76.383363-76.383364 76.383363zM1055.479204 484.687161h-67.703435c-10.415913-55.551537-57.287523-97.21519-116.311031-97.21519-57.287523 0-105.895118 41.663653-116.311031 97.21519H55.551537c-12.151899 0-20.831826 8.679928-20.831826 20.831826s8.679928 20.831826 20.831826 20.831827h699.60217c10.415913 55.551537 57.287523 97.21519 116.311031 97.21519 57.287523 0 105.895118-41.663653 116.311031-97.21519h67.703435c12.151899 0 20.831826-8.679928 20.831827-20.831827s-8.679928-20.831826-20.831827-20.831826z m-184.014466 97.21519c-41.663653 0-76.383363-34.719711-76.383364-76.383364 0-41.663653 34.719711-76.383363 76.383364-76.383363 41.663653 0 76.383363 34.719711 76.383363 76.383363 0 41.663653-34.719711 76.383363-76.383363 76.383364z"  ></path></symbol></svg>';if((a=document.getElementsByTagName("script"))[a.length-1].getAttribute("data-injectcss")&&!t.__oicon__svg__cssinject__){t.__oicon__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(a){console}}function s(){i||(i=!0,o())}e=function(){var t,a,e,c,o;(t=document.createElement("div")).innerHTML=n,n=null,(a=t.getElementsByTagName("svg")[0])&&(a.setAttribute("aria-hidden","true"),a.style.position="absolute",a.style.width=0,a.style.height=0,a.style.overflow="hidden",e=a,(c=document.body).firstChild?(o=c.firstChild).parentNode.insertBefore(e,o):c.appendChild(e))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(e,0):(c=function(){document.removeEventListener("DOMContentLoaded",c,!1),e()},document.addEventListener("DOMContentLoaded",c,!1)):document.attachEvent&&(o=e,l=t.document,i=!1,(h=function(){try{l.documentElement.doScroll("left")}catch(t){return void setTimeout(h,50)}s()})(),l.onreadystatechange=function(){"complete"==l.readyState&&(l.onreadystatechange=null,s())})}(window);
!function(x){function t(t,e,n){return n=u(e,n),this.on("click.pjax",t,function(t){var e=n;e.container||((e=x.extend({},n)).container=x(this).attr("data-pjax")),a(t,e)})}function a(t,e,n){n=u(e,n);var a,r,o,i=t.currentTarget,c=x(i);if("A"!==i.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";1<t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol===i.protocol&&location.hostname===i.hostname&&(-1<i.href.indexOf("#")&&s(i)==s(location)||t.isDefaultPrevented()||(a={url:i.href,container:c.attr("data-pjax"),target:i},r=x.extend({},a,n),o=x.Event("pjax:click"),c.trigger(o,[r]),o.isDefaultPrevented()||(v(r),t.preventDefault(),c.trigger("pjax:clicked",[r]))))}function e(t,e,n){n=u(e,n);var a=t.currentTarget,r=x(a);if("FORM"!==a.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var o={type:(r.attr("method")||"GET").toUpperCase(),url:r.attr("action"),container:r.attr("data-pjax"),target:a};if("GET"!==o.type&&void 0!==window.FormData)o.data=new FormData(a),o.processData=!1,o.contentType=!1;else{if(r.find(":file").length)return;o.data=r.serializeArray()}v(x.extend({},o,n)),t.preventDefault()}function v(d){d=x.extend(!0,{},x.ajaxSettings,v.defaults,d),x.isFunction(d.url)&&(d.url=d.url());var f=b(d.url).hash,t=x.type(d.container);if("string"!==t)throw"expected string value for 'container' option; got "+t;var a,h=d.context=x(d.container);if(!h.length)throw"the container selector '"+d.container+"' did not match anything";function m(t,e,n){(n=n||{}).relatedTarget=d.target;var a=x.Event(t,n);return h.trigger(a,e),!a.isDefaultPrevented()}d.data||(d.data={}),x.isArray(d.data)?d.data.push({name:"_pjax",value:d.container}):d.data._pjax=d.container,d.beforeSend=function(t,e){if("GET"!==e.type&&(e.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",d.container),!m("pjax:beforeSend",[t,e]))return!1;0<e.timeout&&(a=setTimeout(function(){m("pjax:timeout",[t,d])&&t.abort("timeout")},e.timeout),e.timeout=0);var n=b(e.url);f&&(n.hash=f),d.requestUrl=l(n)},d.complete=function(t,e){a&&clearTimeout(a),m("pjax:complete",[t,e,d]),m("pjax:end",[t,d])},d.error=function(t,e,n){var a=T("",t,d),r=m("pjax:error",[t,e,n,d]);"GET"==d.type&&"abort"!==e&&r&&g(a.url)},d.success=function(t,e,n){var a=v.state,r="function"==typeof x.pjax.defaults.version?x.pjax.defaults.version():x.pjax.defaults.version,o=n.getResponseHeader("X-PJAX-Version"),i=T(t,n,d),c=b(i.url);if(f&&(c.hash=f,i.url=c.href),r&&o&&r!==o)g(i.url);else if(i.contents){if(v.state={id:d.id||j(),url:i.url,title:i.title,container:d.container,fragment:d.fragment,timeout:d.timeout},(d.push||d.replace)&&window.history.replaceState(v.state,i.title,i.url),x.contains(h,document.activeElement))try{document.activeElement.blur()}catch(t){}i.title&&(document.title=i.title),m("pjax:beforeReplace",[i.contents,d],{state:v.state,previousState:a}),h.html(i.contents);var s=h.find("input[autofocus], textarea[autofocus]").last()[0];s&&document.activeElement!==s&&s.focus(),function(t){if(!t)return;var a=x("script[src]");t.each(function(){var t,e,n=this.src;a.filter(function(){return this.src===n}).length||(t=document.createElement("script"),(e=x(this).attr("type"))&&(t.type=e),t.src=x(this).attr("src"),document.head.appendChild(t))})}(i.scripts);var u,l,p=d.scrollTo;f&&(u=decodeURIComponent(f.slice(1)),(l=document.getElementById(u)||document.getElementsByName(u)[0])&&(p=x(l).offset().top)),"number"==typeof p&&x(window).scrollTop(p),m("pjax:success",[t,e,n,d])}else g(i.url)},v.state||(v.state={id:j(),url:window.location.href,title:document.title,container:d.container,fragment:d.fragment,timeout:d.timeout},window.history.replaceState(v.state,document.title)),y(v.xhr),v.options=d;var e,n,r=v.xhr=x.ajax(d);return 0<r.readyState&&(d.push&&!d.replace&&(e=v.state.id,n=[d.container,w(h)],E[e]=n,P.push(e),C(S,0),C(P,v.defaults.maxCacheLength),window.history.pushState(null,"",d.requestUrl)),m("pjax:start",[r,d]),m("pjax:send",[r,d])),v.xhr}function n(t,e){var n={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return v(x.extend(n,u(t,e)))}function g(t){window.history.replaceState(null,"",v.state.url),window.location.replace(t)}var p=!0,d=window.location.href,r=window.history.state;function o(t){p||y(v.xhr);var e,n=v.state,a=t.state;if(a&&a.container){if(p&&d==a.url)return;if(n){if(n.id===a.id)return;e=n.id<a.id?"forward":"back"}var r,o,i,c=E[a.id]||[],s=c[0]||a.container,u=x(s),l=c[1];u.length?(n&&function(t,e,n){var a,r;E[e]=n,r="forward"===t?(a=P,S):(a=S,P);a.push(e),(e=r.pop())&&delete E[e];C(a,v.defaults.maxCacheLength)}(e,n.id,[s,w(u)]),r=x.Event("pjax:popstate",{state:a,direction:e}),u.trigger(r),o={id:a.id,url:a.url,container:s,push:!1,fragment:a.fragment,timeout:a.timeout,scrollTo:!1},l?(u.trigger("pjax:start",[null,o]),(v.state=a).title&&(document.title=a.title),i=x.Event("pjax:beforeReplace",{state:a,previousState:n}),u.trigger(i,[l,o]),u.html(l),u.trigger("pjax:end",[null,o])):v(o),u[0].offsetHeight):g(location.href)}p=!1}function i(t){var e=x.isFunction(t.url)?t.url():t.url,n=t.type?t.type.toUpperCase():"GET",a=x("<form>",{method:"GET"===n?"GET":"POST",action:e,style:"display:none"});"GET"!==n&&"POST"!==n&&a.append(x("<input>",{type:"hidden",name:"_method",value:n.toLowerCase()}));var r,o=t.data;if("string"==typeof o)x.each(o.split("&"),function(t,e){var n=e.split("=");a.append(x("<input>",{type:"hidden",name:n[0],value:n[1]}))});else if(x.isArray(o))x.each(o,function(t,e){a.append(x("<input>",{type:"hidden",name:e.name,value:e.value}))});else if("object"==typeof o){for(r in o)a.append(x("<input>",{type:"hidden",name:r,value:o[r]}))}x(document.body).append(a),a.submit()}function y(t){t&&t.readyState<4&&(t.onreadystatechange=x.noop,t.abort())}function j(){return(new Date).getTime()}function w(t){var e=t.clone();return e.find("script").each(function(){this.src||x._data(this,"globalEval",!1)}),e.contents()}function l(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,"").replace(/^&/,""),t.href.replace(/\?($|#)/,"$1")}function b(t){var e=document.createElement("a");return e.href=t,e}function s(t){return t.href.replace(/#.*/,"")}function u(t,e){return t&&e?((e=x.extend({},e)).container=t,e):x.isPlainObject(t)?t:{container:t}}function f(t,e){return t.filter(e).add(t.find(e))}function h(t){return x.parseHTML(t,document,!0)}function T(t,e,n){var a,r,o,i,c={},s=/<html/i.test(t),u=e.getResponseHeader("X-PJAX-URL");return c.url=u?l(b(u)):n.requestUrl,o=s?(a=x(h(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0])),null!=(r=t.match(/<head[^>]*>([\s\S.]*)<\/head>/i))?x(h(r[0])):a):a=x(h(t)),0===a.length||(c.title=f(o,"title").last().text(),n.fragment?(i=a,"body"!==n.fragment&&(i=f(i,n.fragment).first()),i.length&&(c.contents="body"===n.fragment?i:i.contents(),c.title||(c.title=i.attr("title")||i.data("title")))):s||(c.contents=a),c.contents&&(c.contents=c.contents.not(function(){return x(this).is("title")}),c.contents.find("title").remove(),c.scripts=f(c.contents,"script[src]").remove(),c.contents=c.contents.not(c.scripts)),c.title&&(c.title=x.trim(c.title))),c}r&&r.container&&(v.state=r),"state"in window.history&&(p=!1);var E={},S=[],P=[];function C(t,e){for(;t.length>e;)delete E[t.shift()]}function c(){return x("meta").filter(function(){var t=x(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()}).attr("content")}function m(){x.fn.pjax=t,x.pjax=v,x.pjax.enable=x.noop,x.pjax.disable=A,x.pjax.click=a,x.pjax.submit=e,x.pjax.reload=n,x.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:c},x(window).on("popstate.pjax",o)}function A(){x.fn.pjax=function(){return this},x.pjax=i,x.pjax.enable=m,x.pjax.disable=x.noop,x.pjax.click=x.noop,x.pjax.submit=x.noop,x.pjax.reload=function(){window.location.reload()},x(window).off("popstate.pjax",o)}x.event.props&&x.inArray("state",x.event.props)<0?x.event.props.push("state"):"state"in x.Event.prototype||x.event.addProp("state"),x.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),(x.support.pjax?m:A)()}(jQuery);
!function(e,i){var r;"function"==typeof define&&define.amd?define(["exports","jquery"],i):"undefined"!=typeof exports?(r=require("jquery"),i(exports,r)):i(e,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,d){function i(t,r){function n(e,i,r){return e[i]=r,e}function a(e,i){for(var r,t,a=e.match(f.key);void 0!==(r=a.pop());){f.push.test(r)?i=n([],(t=e.replace(/\[\]$/,""),void 0===u[t]&&(u[t]=0),u[t]++),i):f.fixed.test(r)?i=n([],r,i):f.named.test(r)&&(i=n({},r,i))}return i}function e(){return s}var s={},u={};this.addPair=function(e){if(!f.validate.test(e.name))return this;var i=a(e.name,function(e){switch(d('[name="'+e.name+'"]',r).attr("type")){case"checkbox":return"on"===e.value||e.value;default:return e.value}}(e));return s=t.extend(!0,s,i),this},this.addPairs=function(e){if(!t.isArray(e))throw new Error("formSerializer.addPairs expects an Array");for(var i=0,r=e.length;i<r;i++)this.addPair(e[i]);return this},this.serialize=e,this.serializeJSON=function(){return JSON.stringify(s)}}var f={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};return i.patterns=f,i.serializeObject=function(){return new i(d,this).addPairs(this.serializeArray()).serialize()},i.serializeJSON=function(){return new i(d,this).addPairs(this.serializeArray()).serializeJSON()},void 0!==d.fn&&(d.fn.serializeObject=i.serializeObject,d.fn.serializeJSON=i.serializeJSON),e.FormSerializer=i});
var QRCode;!function(){function r(t){this.mode=n.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=[],r=0,o=this.data.length;r<o;r++){var i=this.data.charCodeAt(r);65536<i?(e[0]=240|(1835008&i)>>>18,e[1]=128|(258048&i)>>>12,e[2]=128|(4032&i)>>>6,e[3]=128|63&i):2048<i?(e[0]=224|(61440&i)>>>12,e[1]=128|(4032&i)>>>6,e[2]=128|63&i):128<i?(e[0]=192|(1984&i)>>>6,e[1]=128|63&i):e[0]=i,this.parsedData=this.parsedData.concat(e)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function h(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function _(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var o=0;o<t.length-r;o++)this.num[o]=t[o+r]}function u(t,e){this.totalCount=t,this.dataCount=e}function l(){this.buffer=[],this.length=0}function o(){var t=!1,e=navigator.userAgent;return/android/i.test(e)&&(t=!0,aMat=e.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(t=parseFloat(aMat[1]))),t}function e(t,e){for(var r,o,i=1,n=(r=t,(o=encodeURI(r).toString().replace(/\%[0-9a-fA-F]{2}/g,"a")).length+(o.length!=r?3:0)),a=0,s=w.length;a<=s;a++){var h=0;switch(e){case g.L:h=w[a][0];break;case g.M:h=w[a][1];break;case g.Q:h=w[a][2];break;case g.H:h=w[a][3]}if(n<=h)break;i++}if(w.length<i)throw new Error("Too long data");return i}r.prototype={getLength:function(){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}},h.prototype={addData:function(t){var e=new r(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[r][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),7<=this.typeNumber&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=h.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var o=-1;o<=7;o++)e+o<=-1||this.moduleCount<=e+o||(this.modules[t+r][e+o]=0<=r&&r<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=o&&o<=4)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var o=v.getLostPoint(this);(0==r||o<t)&&(t=o,e=r)}return e},createMovieClip:function(t,e,r){var o=t.createEmptyMovieClip(e,r);this.make();for(var i=0;i<this.modules.length;i++)for(var n=+i,a=0;a<this.modules[i].length;a++){var s=+a;this.modules[i][a]&&(o.beginFill(0,100),o.moveTo(s,n),o.lineTo(1+s,n),o.lineTo(1+s,1+n),o.lineTo(s,1+n),o.endFill())}return o},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=0==t%2);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=0==e%2)},setupPositionAdjustPattern:function(){for(var t=v.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var o=t[e],i=t[r];if(null==this.modules[o][i])for(var n=-2;n<=2;n++)for(var a=-2;a<=2;a++)this.modules[o+n][i+a]=-2==n||2==n||-2==a||2==a||0==n&&0==a}},setupTypeNumber:function(t){for(var e=v.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var o=!t&&1==(1&e>>r);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(r=0;r<18;r++){o=!t&&1==(1&e>>r);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,o=v.getBCHTypeInfo(r),i=0;i<15;i++){var n=!t&&1==(1&o>>i);i<6?this.modules[i][8]=n:i<8?this.modules[i+1][8]=n:this.modules[this.moduleCount-15+i][8]=n}for(i=0;i<15;i++){n=!t&&1==(1&o>>i);i<8?this.modules[8][this.moduleCount-i-1]=n:i<9?this.modules[8][15-i-1+1]=n:this.modules[8][15-i-1]=n}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,o=this.moduleCount-1,i=7,n=0,a=this.moduleCount-1;0<a;a-=2)for(6==a&&a--;;){for(var s,h=0;h<2;h++){null==this.modules[o][a-h]&&(s=!1,n<t.length&&(s=1==(1&t[n]>>>i)),v.getMask(e,o,a-h)&&(s=!s),this.modules[o][a-h]=s,-1==--i&&(n++,i=7))}if((o+=r)<0||this.moduleCount<=o){o-=r,r=-r;break}}}},h.PAD0=236,h.PAD1=17,h.createData=function(t,e,r){for(var o=u.getRSBlocks(t,e),i=new l,n=0;n<r.length;n++){var a=r[n];i.put(a.mode,4),i.put(a.getLength(),v.getLengthInBits(a.mode,t)),a.write(i)}for(var s=0,n=0;n<o.length;n++)s+=o[n].dataCount;if(i.getLengthInBits()>8*s)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*s+")");for(i.getLengthInBits()+4<=8*s&&i.put(0,4);0!=i.getLengthInBits()%8;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*s)&&(i.put(h.PAD0,8),!(i.getLengthInBits()>=8*s));)i.put(h.PAD1,8);return h.createBytes(i,o)},h.createBytes=function(t,e){for(var r=0,o=0,i=0,n=new Array(e.length),a=new Array(e.length),s=0;s<e.length;s++){var h=e[s].dataCount,l=e[s].totalCount-h,o=Math.max(o,h),i=Math.max(i,l);n[s]=new Array(h);for(var u=0;u<n[s].length;u++)n[s][u]=255&t.buffer[u+r];r+=h;var g=v.getErrorCorrectPolynomial(l),f=new _(n[s],g.getLength()-1).mod(g);a[s]=new Array(g.getLength()-1);for(u=0;u<a[s].length;u++){var d=u+f.getLength()-a[s].length;a[s][u]=0<=d?f.get(d):0}}for(var c=0,u=0;u<e.length;u++)c+=e[u].totalCount;for(var p=new Array(c),m=0,u=0;u<o;u++)for(s=0;s<e.length;s++)u<n[s].length&&(p[m++]=n[s][u]);for(u=0;u<i;u++)for(s=0;s<e.length;s++)u<a[s].length&&(p[m++]=a[s][u]);return p};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},g={L:1,M:0,Q:3,H:2},i=0,a=1,s=2,f=3,d=4,c=5,p=6,m=7,v={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;0<=v.getBCHDigit(e)-v.getBCHDigit(v.G15);)e^=v.G15<<v.getBCHDigit(e)-v.getBCHDigit(v.G15);return(t<<10|e)^v.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;0<=v.getBCHDigit(e)-v.getBCHDigit(v.G18);)e^=v.G18<<v.getBCHDigit(e)-v.getBCHDigit(v.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return v.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case i:return 0==(e+r)%2;case a:return 0==e%2;case s:return 0==r%3;case f:return 0==(e+r)%3;case d:return 0==(Math.floor(e/2)+Math.floor(r/3))%2;case c:return 0==e*r%2+e*r%3;case p:return 0==(e*r%2+e*r%3)%2;case m:return 0==(e*r%3+(e+r)%2)%2;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new _([1],0),r=0;r<t;r++)e=e.multiply(new _([1,C.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,o=0;o<e;o++)for(var i=0;i<e;i++){for(var n=0,a=t.isDark(o,i),s=-1;s<=1;s++)if(!(o+s<0||e<=o+s))for(var h=-1;h<=1;h++)i+h<0||e<=i+h||0==s&&0==h||a!=t.isDark(o+s,i+h)||n++;5<n&&(r+=3+n-5)}for(o=0;o<e-1;o++)for(i=0;i<e-1;i++){var l=0;t.isDark(o,i)&&l++,t.isDark(o+1,i)&&l++,t.isDark(o,i+1)&&l++,t.isDark(o+1,i+1)&&l++,0!=l&&4!=l||(r+=3)}for(o=0;o<e;o++)for(i=0;i<e-6;i++)t.isDark(o,i)&&!t.isDark(o,i+1)&&t.isDark(o,i+2)&&t.isDark(o,i+3)&&t.isDark(o,i+4)&&!t.isDark(o,i+5)&&t.isDark(o,i+6)&&(r+=40);for(i=0;i<e;i++)for(o=0;o<e-6;o++)t.isDark(o,i)&&!t.isDark(o+1,i)&&t.isDark(o+2,i)&&t.isDark(o+3,i)&&t.isDark(o+4,i)&&!t.isDark(o+5,i)&&t.isDark(o+6,i)&&(r+=40);for(var u=0,i=0;i<e;i++)for(o=0;o<e;o++)t.isDark(o,i)&&u++;return r+10*(Math.abs(100*u/e/e-50)/5)}},C={glog:function(t){if(t<1)throw new Error("glog("+t+")");return C.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;256<=t;)t-=255;return C.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},t=0;t<8;t++)C.EXP_TABLE[t]=1<<t;for(t=8;t<256;t++)C.EXP_TABLE[t]=C.EXP_TABLE[t-4]^C.EXP_TABLE[t-5]^C.EXP_TABLE[t-6]^C.EXP_TABLE[t-8];for(t=0;t<255;t++)C.LOG_TABLE[C.EXP_TABLE[t]]=t;_.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var o=0;o<t.getLength();o++)e[r+o]^=C.gexp(C.glog(this.get(r))+C.glog(t.get(o)));return new _(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=C.glog(this.get(0))-C.glog(t.get(0)),r=new Array(this.getLength()),o=0;o<this.getLength();o++)r[o]=this.get(o);for(o=0;o<t.getLength();o++)r[o]^=C.gexp(C.glog(t.get(o))+e);return new _(r,0).mod(t)}},u.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],u.getRSBlocks=function(t,e){var r=u.getRsBlockTable(t,e);if(null==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=r.length/3,i=[],n=0;n<o;n++)for(var a=r[3*n+0],s=r[3*n+1],h=r[3*n+2],l=0;l<a;l++)i.push(new u(s,h));return i},u.getRsBlockTable=function(t,e){switch(e){case g.L:return u.RS_BLOCK_TABLE[4*(t-1)+0];case g.M:return u.RS_BLOCK_TABLE[4*(t-1)+1];case g.Q:return u.RS_BLOCK_TABLE[4*(t-1)+2];case g.H:return u.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},l.prototype={get:function(t){var e=Math.floor(t/8);return 1==(1&this.buffer[e]>>>7-t%8)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(1&t>>>e-r-1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var w=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],D=(L.prototype.draw=function(t){function e(t,e){var r=document.createElementNS("http://www.w3.org/2000/svg",t);for(var o in e)e.hasOwnProperty(o)&&r.setAttribute(o,e[o]);return r}var r=this._htOption,o=this._el,i=t.getModuleCount();Math.floor(r.width/i),Math.floor(r.height/i),this.clear();var n=e("svg",{viewBox:"0 0 "+String(i)+" "+String(i),width:"100%",height:"100%",fill:r.colorLight});n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.appendChild(n),n.appendChild(e("rect",{fill:r.colorDark,width:"1",height:"1",id:"template"}));for(var a,s=0;s<i;s++)for(var h=0;h<i;h++)t.isDark(s,h)&&((a=e("use",{x:String(s),y:String(h)})).setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),n.appendChild(a))},L.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},L),A="svg"===document.documentElement.tagName.toLowerCase()?D:"undefined"!=typeof CanvasRenderingContext2D?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}var l,u;this._android&&this._android<=2.1&&(l=1/window.devicePixelRatio,u=CanvasRenderingContext2D.prototype.drawImage,CanvasRenderingContext2D.prototype.drawImage=function(t,e,r,o,i,n,a,s){if("nodeName"in t&&/img/i.test(t.nodeName))for(var h=arguments.length-1;1<=h;h--)arguments[h]=arguments[h]*l;else void 0===s&&(e*=l,r*=l,o*=l,i*=l);u.apply(this,arguments)});function e(t,e){this._bIsPainted=!1,this._android=o(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null}return e.prototype.draw=function(t){var e=this._elImage,r=this._oContext,o=this._htOption,i=t.getModuleCount(),n=o.width/i,a=o.height/i,s=Math.round(n),h=Math.round(a);e.style.display="none",this.clear();for(var l=0;l<i;l++)for(var u=0;u<i;u++){var g=t.isDark(l,u),f=u*n,d=l*a;r.strokeStyle=g?o.colorDark:o.colorLight,r.lineWidth=1,r.fillStyle=g?o.colorDark:o.colorLight,r.fillRect(f,d,n,a),r.strokeRect(Math.floor(f)+.5,Math.floor(d)+.5,s,h),r.strokeRect(Math.ceil(f)-.5,Math.ceil(d)-.5,s,h)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&function(t,e){var r=this;if(r._fFail=e,r._fSuccess=t,null===r._bSupportDataURI){function o(){r._bSupportDataURI=!1,r._fFail&&_fFail.call(r)}var i=document.createElement("img");return i.onabort=o,i.onerror=o,i.onload=function(){r._bSupportDataURI=!0,r._fSuccess&&r._fSuccess.call(r)},void(i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===r._bSupportDataURI&&r._fSuccess?r._fSuccess.call(r):!1===r._bSupportDataURI&&r._fFail&&r._fFail.call(r)}.call(this,t)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},e.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},e}():(E.prototype.draw=function(t){for(var e=this._htOption,r=this._el,o=t.getModuleCount(),i=Math.floor(e.width/o),n=Math.floor(e.height/o),a=['<table style="border:0;border-collapse:collapse;">'],s=0;s<o;s++){a.push("<tr>");for(var h=0;h<o;h++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+i+"px;height:"+n+"px;background-color:"+(t.isDark(s,h)?e.colorDark:e.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),r.innerHTML=a.join("");var l=r.childNodes[0],u=(e.width-l.offsetWidth)/2,g=(e.height-l.offsetHeight)/2;0<u&&0<g&&(l.style.margin=g+"px "+u+"px")},E.prototype.clear=function(){this._el.innerHTML=""},E);function E(t,e){this._el=t,this._htOption=e}function L(t,e){this._el=t,this._htOption=e}(QRCode=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:g.H},"string"==typeof e&&(e={text:e}),e)for(var r in e)this._htOption[r]=e[r];"string"==typeof t&&(t=document.getElementById(t)),this._android=o(),this._el=t,this._oQRCode=null,this._oDrawing=new A(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(t){this._oQRCode=new h(e(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=g}();
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r){function a(e){"object"!==_typeof(e)||(this.option=r.extend({},t,e))}var t={weibokey:"",source:""};a.templates={qq:"http://connect.qq.com/widget/shareqq/index.html?url={{URL}}&title={{TITLE}}&source={{SOURCE}}&desc={{DESCRIPTION}}&pics={{IMAGE}}&summary={{SUMMARY}}",weibo:"http://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}"},a.prototype.init=function(){var i=this,n=["qq","weibo","wechat"];r(".osc-share").on("click","[data-platform]",function(){var e=r(this).data("platform");if(n.indexOf(e)<0)return!1;if("wechat"===e)return i.showWeChatShare(),!1;var t=a.templates[e],o=i.generateUrl(t);o&&window.open(o,"_blank")})},a.prototype.generateUrl=function(e){var t=e,o=page.shareUrl||location.href||"",i=page.shareTitle||window.document.title||"",n=page.shareDesc||"",r={URL:o,TITLE:i,DESCRIPTION:n,IMAGE:page.sharePic||"",SUMMARY:n,SOURCE:this.option.source,WEIBOKEY:this.option.weibokey};for(var a in r)t=t.replace("{{"+a+"}}",encodeURIComponent(r[a]||""));return t},a.prototype.showWeChatShare=function(){if(0<r("#wechatShareDialog").length)return!1;var e=r('<div id="wechatShareDialog">    <div class="wx-header"><span>分享到微信</span><a class="wx-close">×</a></div>    <div class="wx-qrcode" id="wechatQrCode"></div>    <div class="wx-footer">打开微信“扫一扫”分享</div></div>');r("body").append(e),e.on("click",".wx-close",function(){e.remove()}),new QRCode(document.getElementById("wechatQrCode"),{text:location.href,width:180,height:180})},r(function(){new a({weibokey:"582509177",source:"oschina"}).init()})}(window.jQuery||window.$);
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(c){var a={type:"info",header:"",content:"",closeable:!1,disappear:0},l={hideAll:function(){c(this).find(".ui.message.osc").addClass("hidden")}};c.fn.message=function(e){if("string"!=typeof e){if("object"===_typeof(e)){var t=c.extend({},a,e),n=c(this),o=0<t.type.length?"."+t.type:"",i=n.find(".ui.message.osc"+o),s="";return t.closeable&&(s+='<i class="close icon"></i>',i.on("click",".close",function(){i.transition("fade")})),0<t.header.length&&(s+='<div class="header">'+t.header+"</div>"),0<t.content.length&&(s+="<p>"+t.content+"</p>"),i.html(s),i.removeClass("hidden"),void(0<t.disappear&&setTimeout(function(){i.addClass("hidden")},t.disappear))}}else c.isFunction(l[e])&&l[e].call(this)}}(window.jQuery||window.$);
"use strict";!function(a){a.fn.toast=function(t){var o=a(this),e=a.extend({type:"success",position:"fixed",duration:3e3,animateDuration:1e3,content:"提示",top:"50%",left:"50%",zIndex:1002,closePrev:!0},t||{});!function(){var t=e.content||"";0===e.duration&&(t+='<i class="close icon close-btn"></i>'),e.closePrev&&a(".cpt-toast").remove();var n=-1<["info","success","positive","error","negative","warning"].indexOf(e.type)?e.type:"info",i=a("<div class='ui "+n+" message compact transition cpt-toast'></div>").css({position:e.position,top:e.top,left:e.left,"z-index":e.zIndex,"-webkit-transform":"translate3d(-50%, -50%, 0)","-moz-transform":"translate3d(-50%, -50%, 0)",transform:"translate3d(-50%, -50%, 0)","-webkit-animation-duration":e.animateDuration/1e3+"s","-moz-animation-duration":e.animateDuration/1e3+"s","animation-duration":e.animateDuration/1e3+"s"}).html(t);i.appendTo(o),i.fadeIn("this",function(){0===e.duration&&i.find(".close-btn").on("click",function(){i.fadeOut(400,function(){i.remove()})})}),0<e.duration&&setTimeout(function(){i.fadeOut(400,function(){a(this).remove()})},e.duration)}()}}(jQuery,window);
"use strict";({bindLink:function(){var s=this;$(document).on("click",".send-message-btn",function(){if(!window.common.checkLogin())return!1;var e=$(this),t=e.attr("data-user-id"),a=e.attr("data-user-name");0===$.find(".send-message.modal").length&&!0!==window.oscSendMessageLoading?(window.oscSendMessageLoading=!0,$.get(page.space_user_url+"/widgets/private_message_modal",function(e){var n=document.createElement("div");n.innerHTML=e,document.body.appendChild(n),s.initModal(),s.showModal(t,a)}).always(function(){window.oscSendMessageLoading=!1})):s.showModal(t,a)})},initModal:function(){var a=$(".send-message.modal"),n=$("#sendMessageForm");n.form({inline:!0,fields:{content:{rules:[{type:"empty",prompt:"请输入内容"},{type:"maxLength[250]",prompt:"内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:page.space_user_url+"/msg/send",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var n=a.attr("data-user-id"),t=e.data;return e.data={receiver:n,content:t.content},e},onSuccess:function(e){1===e.code?($(this).message({type:"positive",content:e.message||"发送成功"}),n.form("reset"),setTimeout(function(){a.modal("hide")},2e3)):$(this).message({type:"negative",content:e.message||"发送失败"})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),a.modal({onShow:function(){n.form("reset"),n.message("hideAll");var e=$(this).attr("data-user-name")||"";0<(e=e.trim()).length&&a.find("span.user-name").html(e)},onApprove:function(){return n.message("hideAll"),n.form("submit"),!1}}),a.on("keydown",function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&a.find(".positive.button").click()})},showModal:function(e,n){var t=$(".send-message.modal");t.attr("data-user-id",e),t.attr("data-user-name",n),t.modal("show")}}).bindLink();
"use strict";({statusCode:{UN_FOLLOW:1,FOLLOWED:2,FOLLOW_EACH_OTHER:3},statusStyles:{heart:{UN_FOLLOW:{normal:{text:"关注",icon:"heart outline icon"},hover:{text:"关注",icon:"heart icon"}},FOLLOWED:{normal:{text:"已关注",icon:"heart icon"},hover:{text:"取消关注",icon:"heart outline icon"}},FOLLOW_EACH_OTHER:{normal:{text:"互相关注",icon:"exchange icon"},hover:{text:"取消关注",icon:"heart outline icon"}}},"simple-star":{UN_FOLLOW:{normal:{text:"关注",icon:"star outline grey icon"},hover:{text:"关注",icon:"star outline grey icon"}},FOLLOWED:{normal:{text:"关注",icon:"star yellow icon"},hover:{text:"关注",icon:"star yellow icon"}},FOLLOW_EACH_OTHER:{normal:{text:"关注",icon:"star yellow icon"},hover:{text:"关注",icon:"star yellow icon"}}},"simple-heart":{UN_FOLLOW:{normal:{text:"关注",icon:"heart outline grey icon"},hover:{text:"关注",icon:"heart outline grey icon"}},FOLLOWED:{normal:{text:"关注",icon:"heart red icon"},hover:{text:"关注",icon:"heart red icon"}},FOLLOW_EACH_OTHER:{normal:{text:"关注",icon:"heart red icon"},hover:{text:"关注",icon:"heart red icon"}}}},init:function(){this.bindHover(),this.bindClick()},bindHover:function(){var a=this;$(document).on("mouseenter",".follow-btn",function(){var t=$(this),o=parseInt(t.attr("data-follow-status")),e=t.attr("data-icon-color");a.setBtnFollowStatus(o,"hover",t,e)}),$(document).on("mouseleave",".follow-btn",function(){var t=$(this),o=parseInt(t.attr("data-follow-status")),e=t.attr("data-icon-color");a.setBtnFollowStatus(o,"normal",t,e)})},bindClick:function(){var n=this;$(document).on("click",".follow-btn",function(){if(!window.common.checkLogin())return!1;var o=$(this),e=o.attr("data-user-id"),a=o.attr("data-icon-color");$.post(page.space_user_url+"/user/switch_follow",{friendid:e},function(t){1===t.code?(n.setBtnFollowStatus(t.result.status,"normal",o,a),n.setGlobalFollowCount(page.g_user_id,t.result.meFollowing||0,t.result.meFollowers||0),n.setGlobalFollowCount(e,t.result.friendFollowing||0,t.result.friendFollowers||0)):$("body").toast({type:"error",content:t.message||"操作失败"})})})},setBtnFollowStatus:function(t,o,e,a){o="normal"===o?"normal":"hover",a="red"===a?"red":"";var n,r=this,l=e.find(".text"),i=e.find("i"),s=r.statusStyles.heart,c=e.attr("data-status-style")||"";switch(c&&r.statusStyles[c]&&(s=r.statusStyles[c]),t){case r.statusCode.UN_FOLLOW:e.attr("data-follow-status",r.statusCode.UN_FOLLOW),l.text(s.UN_FOLLOW[o].text),l&&0===l.length&&e.attr("title",s.UN_FOLLOW[o].text),n=s.UN_FOLLOW[o].icon,i.attr("class","hover"===o?n+" "+a:n);break;case r.statusCode.FOLLOWED:e.attr("data-follow-status",r.statusCode.FOLLOWED),l.text(s.FOLLOWED[o].text),l&&0===l.length&&e.attr("title",s.FOLLOWED[o].text),n=s.FOLLOWED[o].icon,i.attr("class","normal"===o?n+" "+a:n);break;case r.statusCode.FOLLOW_EACH_OTHER:e.attr("data-follow-status",r.statusCode.FOLLOW_EACH_OTHER),l.text(s.FOLLOW_EACH_OTHER[o].text),l&&0===l.length&&e.attr("title",s.FOLLOW_EACH_OTHER[o].text),n=s.FOLLOW_EACH_OTHER[o].icon,i.attr("class","normal"===o?n+" "+a:n)}},setGlobalFollowCount:function(t,r,l){if(null==t||""===t||""===t.trim())return!1;$('[data-following-count][data-user-id="'+t+'"]').each(function(t,o){var e=$(o),a=e.data("format"),n=r;a&&(n=window.common.formatNumberK(r)),e.text(n),e.attr("data-following-count",r)}),$('[data-followers-count][data-user-id="'+t+'"]').each(function(t,o){var e=$(o),a=e.data("format"),n=l;a&&(n=window.common.formatNumberK(l)),e.text(n),e.attr("data-followers-count",l)})}}).init();
"use strict";!function(c){c.fn.imgOptimize=function(h,a){function n(t,i,s){var h,a;void 0!==i&&void 0!==s&&(c(t).data("init")||(c(t).data("init",!0),h=t.naturalWidth,a=t.naturalHeight,h<i&&a<s?(c(t).css("width","100%"),c(t).css("height","100%"),c(t).css("object-fit","fill")):i/s<h/a?(c(t).css("width","auto"),c(t).css("height","100%")):(c(t).css("width","100%"),c(t).css("height","auto"))))}return this.each(function(){var t=this,i=h,s=a;void 0!==i&&void 0!==s||(i=c(this).data("width"),s=c(this).data("height")),t.onload=function(){n(t,i,s)},t.complete&&n(t,i,s)})}}(jQuery);
!function(i){i.fn.emoticon=function(e){var o=i.extend({},e),r={replaceEmoticonText:function(e){var r=this,a=String(e||"");return a=(a=a.replace(/:\w+?:/gi,function(e){var a=e.replace(/:/g,"");return"bowtie,smile,laughing,blush,smiley,relaxed,smirk,heart_eyes,kissing_heart,kissing_closed_eyes,flushed,relieved,satisfied,grin,wink,stuck_out_tongue_winking_eye,stuck_out_tongue_closed_eyes,grinning,kissing,kissing_smiling_eyes,stuck_out_tongue,sleeping,worried,frowning,anguished,open_mouth,grimacing,confused,hushed,expressionless,unamused,sweat_smile,sweat,disappointed_relieved,weary,pensive,disappointed,confounded,fearful,cold_sweat,persevere,cry,sob,joy,astonished,scream,neckbeard,tired_face,angry,rage,triumph,sleepy,yum,mask,sunglasses,dizzy_face,imp,smiling_imp,neutral_face,no_mouth,innocent,alien,yellow_heart,blue_heart,purple_heart,heart,green_heart,broken_heart,heartbeat,heartpulse,two_hearts,revolving_hearts,cupid,sparkling_heart,sparkles,star,star2,dizzy,boom,collision,anger,exclamation,question,grey_exclamation,grey_question,zzz,dash,sweat_drops,notes,musical_note,fire,hankey,poop,shit,+1,thumbsup,-1,thumbsdown,ok_hand,punch,facepunch,fist,v,wave,hand,raised_hand,open_hands,point_up,point_down,point_left,point_right,raised_hands,pray,point_up_2,clap,muscle,metal,fu,walking,runner,running,couple,family,two_men_holding_hands,two_women_holding_hands,dancer,dancers,ok_woman,no_good,information_desk_person,raising_hand,bride_with_veil,person_with_pouting_face,person_frowning,bow,couplekiss,couple_with_heart,massage,haircut,nail_care,boy,girl,woman,man,baby,older_woman,older_man,person_with_blond_hair,man_with_gua_pi_mao,man_with_turban,construction_worker,cop,angel,princess,smiley_cat,smile_cat,heart_eyes_cat,kissing_cat,smirk_cat,scream_cat,crying_cat_face,joy_cat,pouting_cat,japanese_ogre,japanese_goblin,see_no_evil,hear_no_evil,speak_no_evil,guardsman,skull,feet,lips,kiss,droplet,ear,eyes,nose,tongue,love_letter,bust_in_silhouette,busts_in_silhouette,speech_balloon,thought_balloon,feelsgood,finnadie,goberserk,godmode,hurtrealbad,rage1,rage2,rage3,rage4,suspect,trollface,sunny,umbrella,cloud,snowflake,snowman,zap,cyclone,foggy,ocean,cat,dog,mouse,hamster,rabbit,wolf,frog,tiger,koala,bear,pig,pig_nose,cow,boar,monkey_face,monkey,horse,racehorse,camel,sheep,elephant,panda_face,snake,bird,baby_chick,hatched_chick,hatching_chick,chicken,penguin,turtle,bug,honeybee,ant,beetle,snail,octopus,tropical_fish,fish,whale,whale2,dolphin,cow2,ram,rat,water_buffalo,tiger2,rabbit2,dragon,goat,rooster,dog2,pig2,mouse2,ox,dragon_face,blowfish,crocodile,dromedary_camel,leopard,cat2,poodle,paw_prints,bouquet,cherry_blossom,tulip,four_leaf_clover,rose,sunflower,hibiscus,maple_leaf,leaves,fallen_leaf,herb,mushroom,cactus,palm_tree,evergreen_tree,deciduous_tree,chestnut,seedling,blossom,ear_of_rice,shell,globe_with_meridians,sun_with_face,full_moon_with_face,new_moon_with_face,new_moon,waxing_crescent_moon,first_quarter_moon,waxing_gibbous_moon,full_moon,waning_gibbous_moon,last_quarter_moon,waning_crescent_moon,last_quarter_moon_with_face,first_quarter_moon_with_face,moon,earth_africa,earth_americas,earth_asia,volcano,milky_way,partly_sunny,octocat,squirrel,bamboo,gift_heart,dolls,school_satchel,mortar_board,flags,fireworks,sparkler,wind_chime,rice_scene,jack_o_lantern,ghost,santa,christmas_tree,gift,bell,no_bell,tanabata_tree,tada,confetti_ball,balloon,crystal_ball,cd,dvd,floppy_disk,camera,video_camera,movie_camera,computer,tv,iphone,phone,telephone,telephone_receiver,pager,fax,minidisc,vhs,sound,speaker,mute,loudspeaker,mega,hourglass,hourglass_flowing_sand,alarm_clock,watch,radio,satellite,loop,mag,mag_right,unlock,lock,lock_with_ink_pen,closed_lock_with_key,key,bulb,flashlight,high_brightness,low_brightness,electric_plug,battery,calling,email,mailbox,postbox,bath,bathtub,shower,toilet,wrench,nut_and_bolt,hammer,seat,moneybag,yen,dollar,pound,euro,credit_card,money_with_wings,e-mail,inbox_tray,outbox_tray,envelope,incoming_envelope,postal_horn,mailbox_closed,mailbox_with_mail,mailbox_with_no_mail,package,door,smoking,bomb,gun,hocho,pill,syringe,page_facing_up,page_with_curl,bookmark_tabs,bar_chart,chart_with_upwards_trend,chart_with_downwards_trend,scroll,clipboard,calendar,date,card_index,file_folder,open_file_folder,scissors,pushpin,paperclip,black_nib,pencil2,straight_ruler,triangular_ruler,closed_book,green_book,blue_book,orange_book,notebook,notebook_with_decorative_cover,ledger,books,bookmark,name_badge,microscope,telescope,newspaper,football,basketball,soccer,baseball,tennis,8ball,rugby_football,bowling,golf,mountain_bicyclist,bicyclist,horse_racing,snowboarder,swimmer,surfer,ski,spades,hearts,clubs,diamonds,gem,ring,trophy,musical_score,musical_keyboard,violin,space_invader,video_game,black_joker,flower_playing_cards,game_die,dart,mahjong,clapper,memo,pencil,book,art,microphone,headphones,trumpet,saxophone,guitar,shoe,sandal,high_heel,lipstick,boot,shirt,tshirt,necktie,womans_clothes,dress,running_shirt_with_sash,jeans,kimono,bikini,ribbon,tophat,crown,womans_hat,mans_shoe,closed_umbrella,briefcase,handbag,pouch,purse,eyeglasses,fishing_pole_and_fish,coffee,tea,sake,baby_bottle,beer,beers,cocktail,tropical_drink,wine_glass,fork_and_knife,pizza,hamburger,fries,poultry_leg,meat_on_bone,spaghetti,curry,fried_shrimp,bento,sushi,fish_cake,rice_ball,rice_cracker,rice,ramen,stew,oden,dango,egg,bread,doughnut,custard,icecream,ice_cream,shaved_ice,birthday,cake,cookie,chocolate_bar,candy,lollipop,honey_pot,apple,green_apple,tangerine,lemon,cherries,grapes,watermelon,strawberry,peach,melon,banana,pear,pineapple,sweet_potato,eggplant,tomato,corn,house,house_with_garden,school,office,post_office,hospital,bank,convenience_store,love_hotel,hotel,wedding,church,department_store,european_post_office,city_sunrise,city_sunset,japanese_castle,european_castle,tent,factory,tokyo_tower,japan,mount_fuji,sunrise_over_mountains,sunrise,stars,statue_of_liberty,bridge_at_night,carousel_horse,rainbow,ferris_wheel,fountain,roller_coaster,ship,speedboat,boat,sailboat,rowboat,anchor,rocket,airplane,helicopter,steam_locomotive,tram,mountain_railway,bike,aerial_tramway,suspension_railway,mountain_cableway,tractor,blue_car,oncoming_automobile,car,red_car,taxi,oncoming_taxi,articulated_lorry,bus,oncoming_bus,rotating_light,police_car,oncoming_police_car,fire_engine,ambulance,minibus,truck,train,station,train2,bullettrain_front,bullettrain_side,light_rail,monorail,railway_car,trolleybus,ticket,fuelpump,vertical_traffic_light,traffic_light,warning,construction,beginner,atm,slot_machine,busstop,barber,hotsprings,checkered_flag,crossed_flags,izakaya_lantern,moyai,circus_tent,performing_arts,round_pushpin,triangular_flag_on_post,jp,kr,cn,us,fr,es,it,ru,gb,uk,de,one,two,three,four,five,six,seven,eight,nine,keycap_ten,1234,zero,hash,symbols,arrow_backward,arrow_down,arrow_forward,arrow_left,capital_abcd,abcd,abc,arrow_lower_left,arrow_lower_right,arrow_right,arrow_up,arrow_upper_left,arrow_upper_right,arrow_double_down,arrow_double_up,arrow_down_small,arrow_heading_down,arrow_heading_up,leftwards_arrow_with_hook,arrow_right_hook,left_right_arrow,arrow_up_down,arrow_up_small,arrows_clockwise,arrows_counterclockwise,rewind,fast_forward,information_source,ok,twisted_rightwards_arrows,repeat,repeat_one,new,top,up,cool,free,ng,cinema,koko,signal_strength,u5272,u5408,u55b6,u6307,u6708,u6709,u6e80,u7121,u7533,u7a7a,u7981,sa,restroom,mens,womens,baby_symbol,no_smoking,parking,wheelchair,metro,baggage_claim,accept,wc,potable_water,put_litter_in_its_place,secret,congratulations,m,passport_control,left_luggage,customs,ideograph_advantage,cl,sos,id,no_entry_sign,underage,no_mobile_phones,do_not_litter,non-potable_water,no_bicycles,no_pedestrians,children_crossing,no_entry,eight_spoked_asterisk,sparkle,eight_pointed_black_star,heart_decoration,vs,vibration_mode,mobile_phone_off,chart,currency_exchange,aries,taurus,gemini,cancer,leo,virgo,libra,scorpius,sagittarius,capricorn,aquarius,pisces,ophiuchus,six_pointed_star,negative_squared_cross_mark,a,b,ab,o2,diamond_shape_with_a_dot_inside,recycle,end,back,on,soon,clock1,clock130,clock10,clock1030,clock11,clock1130,clock12,clock1230,clock2,clock230,clock3,clock330,clock4,clock430,clock5,clock530,clock6,clock630,clock7,clock730,clock8,clock830,clock9,clock930,heavy_dollar_sign,copyright,registered,tm,x,heavy_exclamation_mark,bangbang,interrobang,o,heavy_multiplication_x,heavy_plus_sign,heavy_minus_sign,heavy_division_sign,white_flower,100,heavy_check_mark,ballot_box_with_check,radio_button,link,curly_loop,wavy_dash,part_alternation_mark,trident,black_small_square,white_small_square,black_medium_small_square,white_medium_small_square,black_medium_square,white_medium_square,black_large_square,white_large_square,white_check_mark,black_square_button,white_square_button,black_circle,white_circle,red_circle,large_blue_circle,large_blue_diamond,large_orange_diamond,small_blue_diamond,small_orange_diamond,small_red_triangle,small_red_triangle_down,shipit".split(",").some(function(e){return e===a})?r.emojiRender(a):e})).replace(/(?:<pre>.+?<\/pre>)|(?:\[\d+])/gm,function(e){var a=/^\[(\d+)]$/g.exec(e);if(a){var o=parseInt(a[1]);if(0<=o&&o<=134)return r.qqEmoticonRender(o)}return e})},emojiRender:function(e){return'<emoji data-emoji="emoji '+e+'" data-name="'+e+'"></emoji>'},qqEmoticonRender:function(e){return'<img data-emoticon="qq" src="'+(window.__STATIC_DOMAIN||"")+"/new-osc/js/ke/plugins/emoticons/"+e+'.gif" alt="">'}};return window.emoticonUtil=r,this.each(function(){var e=i(this).html(),a=r.replaceEmoticonText(e)||e;i(this).html(a),"function"==typeof o.callback&&o.callback(a)})}}(jQuery);
"use strict";({bindLink:function(){var i=this;$(document).on("click","a.ban[ban-report]",function(e){if(!window.common.checkLogin())return!1;var t=$(this),a=t.attr("data-id"),o=t.attr("data-key"),n=t.attr("data-obj-type"),r=t.attr("data-url");0===$.find(".ban-report.modal").length&&!0!==window.oscBanReportLoading?(window.oscBanReportLoading=!0,$.get(page.space_user_url+"/widgets/ban_report_modal",function(e){var t=document.createElement("div");t.innerHTML=e,document.body.appendChild(t),i.initModal(),i.showModal(a,o,n,r)}).always(function(){window.oscBanReportLoading=!1})):i.showModal(a,o,n,r)})},initModal:function(){var i=$(".ban-report.modal"),e=$("#banReportForm");i.find(".checkbox").checkbox(),e.form({inline:!0,fields:{reason:{identifier:"reason",rules:[{type:"empty",prompt:"请选择原因"}]},memo:{identifier:"memo",rules:[{type:"maxLength[250]",prompt:"原因内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:page.space_user_url+"/communityManage/reportv2",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=i.attr("data-id"),a=i.attr("data-key"),o=i.attr("data-obj-type"),n=i.attr("data-url"),r=e.data;return e.data={reason:r.reason,memo:r.memo,obj_type:o,url:n,user_code:r.user_code},t&&""!==t&&0<parseInt(t)?e.data.obj_id=t:a&&""!==a&&(e.data.articleKey=a),e},onSuccess:function(e){1===e.code?($(this).message({type:"positive",content:e.message||"举报成功"}),setTimeout(function(){i.modal("hide")},2e3)):$(this).message({type:"negative",content:e.message||"网络错误，请稍后再试"})},onFailure:function(e){$(this).message({type:"negative",content:e.message||"网络错误，请稍后再试"})}}),i.modal({onShow:function(){e.form("reset"),e.message("hideAll")},onApprove:function(){return e.message("hideAll"),e.form("submit"),!1}}),i.on("keydown",function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&i.find(".positive.button").click()})},showModal:function(e,t,a,o){var n=$(".ban-report.modal");n.attr("data-id",e),n.attr("data-key",t),n.attr("data-obj-type",a),n.attr("data-url",o),n.modal("show")}}).bindLink();
"use strict";$(function(){({blockedBtnStatusCode:{UN_BLOCK:0,BLOCKED:1},bindLink:function(){var n=this;$(document).on("click","[user-block]",function(t){if(!window.common.checkLogin())return!1;var e=$(this),o=e.attr("data-id"),a=e.attr("data-status");0===$.find(".user-block.modal").length&&!0!==window.oscuserBlockLoading?(window.oscuserBlockLoading=!0,$.get(page.space_user_url+"/widgets/user_block_modal",function(t){var e=document.createElement("div");e.innerHTML=t,document.body.appendChild(e),n.initModal(),n.showModal(o,a)}).always(function(){window.oscuserBlockLoading=!1})):n.showModal(o,a)})},initModal:function(){var s=this,d=$(".user-block.modal");d.find(".checkbox").checkbox(),d.modal({onShow:function(){var t=d.attr("data-status");parseInt(t)===s.blockedBtnStatusCode.BLOCKED?(d.find(".header").text("解除加灰"),d.find(".content p").text("确定解除加灰该用户吗？"),d.find(".actions .ok.button").text("解除")):(d.find(".header").text("确认加灰"),d.find(".content p").text("将用户加入加灰名单后，对方将不可评论你的动态，同时你也不能看到对方的动态。"),d.find(".actions .ok.button").text("加灰"))},onApprove:function(){var o=d.attr("data-id"),a=d.attr("data-status"),n=parseInt(a)===s.blockedBtnStatusCode.BLOCKED?"解除加灰":"加灰";$.ajax({url:page.space_user_url+"/user/update_blacklist",method:"post",data:{blackId:o},success:function(t){var e;1===t.code?($("body").toast({type:"success",content:t.message||n+"成功"}),e=$('[user-block][data-id="'+o+'"][data-status="'+a+'"]'),!!t.result?(e.attr("data-status",s.blockedBtnStatusCode.BLOCKED),e.find(".text").text("解除加灰")):(e.attr("data-status",s.blockedBtnStatusCode.UN_BLOCK),e.find(".text").text("加灰")),d.modal("hide")):$("body").toast({type:"error",content:t.message||n+"失败"})},error:function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})}})}})},showModal:function(t,e){var o=$(".user-block.modal");o.attr("data-id",t),o.attr("data-status",e),o.modal("show")}}).bindLink();var t={blockedBtnStatusCode:{UN_BLOCK:0,BLOCKED:1},blockedBtnStatusConf:{UN_BLOCK:{normal:{selfRemoveClass:"green",selfAddClass:"",text:"加灰",icon:"plus icon",textIcon:"+",textIconClass:"plus"},hover:{selfRemoveClass:"green",selfAddClass:"",text:"加灰",icon:"plus icon",textIcon:"+",textIconClass:"plus"}},BLOCKED:{normal:{selfRemoveClass:"green",selfAddClass:"green",text:"解除加灰",icon:"check icon",textIcon:"×",textIconClass:"check"},hover:{selfRemoveClass:"green",selfAddClass:"green",text:"解除加灰",icon:"",textIcon:"×",textIconClass:"check"}}},setBlockedBtnStatus:function(t,e,o){e="normal"===e?"normal":"hover";var a,n,s,d,c,l,i=this,r=o.find(".text"),u=o.find("i"),k=o.find(".text-icon");switch(t){case i.blockedBtnStatusCode.UN_BLOCK:a=i.blockedBtnStatusConf.UN_BLOCK[e],o.attr("data-blocked-status",i.blockedBtnStatusCode.UN_BLOCK);break;case i.blockedBtnStatusCode.BLOCKED:a=i.blockedBtnStatusConf.BLOCKED[e],o.attr("data-blocked-status",i.blockedBtnStatusCode.BLOCKED)}r.text(a.text),n=a.icon,u.attr("class",n),s=a.textIcon,d=a.textIconClass,k.text(s),k.attr("class","").addClass("text-icon").addClass(d),c=a.selfRemoveClass,l=a.selfAddClass,o.removeClass(c).addClass(l)},bindBlockedBtnHover:function(){var o=this;$(document).on("mouseenter",".blocked-btn",function(){var t=$(this),e=parseInt(t.attr("data-blocked-status"));o.setBlockedBtnStatus(e,"hover",t)}),$(document).on("mouseleave",".blocked-btn",function(){var t=$(this),e=parseInt(t.attr("data-blocked-status"));o.setBlockedBtnStatus(e,"normal",t)})},bindBlockedBtnClick:function(){var d=this;$(document).on("click",".blocked-btn",function(t){t.preventDefault();var e=$(this),o=this,a=parseInt(e.attr("data-blocked-status"))===d.blockedBtnStatusCode.BLOCKED?"解除加灰":"加灰",n=e.attr("data-id");if(!window.common.checkLogin())return!1;var s=$('.blocked-btn[data-id="'+n+'"]');$.post(page.space_user_url+"/user/update_blacklist",{blackId:n},function(t){var e;1===t.code?(e=!!t.result?d.blockedBtnStatusCode.BLOCKED:d.blockedBtnStatusCode.UN_BLOCK,d.setBlockedBtnStatus(e,"normal",s)):$("body").toast({type:"error",content:t.message||a+"失败"})}).always(function(){var t=document.createEvent("Event");t.initEvent("subscribe",!0,!0),o.dispatchEvent(t)})})}};t.bindBlockedBtnHover(),t.bindBlockedBtnClick(),$(document).on("mouseenter",".blocked",function(){var t=$(this);0===t.find(".blocked-cover-tip").length&&t.append('<div class="blocked-cover-tip"><span>亲，是不是眼花了？还是此人已被你“加灰” ？</span></div>'),setTimeout(function(){t.find(".blocked-cover-tip").addClass("hover")},0)}),$(document).on("mouseleave",".blocked",function(){$(this).find(".blocked-cover-tip").removeClass("hover")})});
"use strict";!function(e){function t(t,o){var n=this;if(n.actionItems=t||[],n.actionItems&&0<n.actionItems.length){for(var i=n.actionItems.length,a=0;a<i;a++){n.actionItems[a].addListener(function(){n.updatePopupStatus()})}n.bindEvent(),o&&n.updatePopupStatus()}}t.prototype={constructor:t,bindEvent:function(){var t=this;e("body").on("click",".action-tip .btn-close",function(){var o=e(this).parents(".action-tip:eq(0)").attr("data-name");t.actionItems.some(function(t){return t.name===o&&(t._closed=!0)}),t.destroyPopup(o),t.updatePopupStatus()})},showPopup:function(t,o){var n=e('.action-tip[data-name="'+t+'"]');if(0===n.length)return!1;var i=n.data("position"),a=n.find(".action-tip__toggle");a.popup("is visible")&&!0!==o||a.popup({position:i,on:"manual"}).popup("show")},destroyPopup:function(t){var o=e('.action-tip[data-name="'+t+'"]').find(".action-tip__toggle");o.popup("is visible")&&o.popup("hide")},destroyAllPopup:function(t){var o=this,n=t||[];o.actionItems.forEach(function(t){n.indexOf(t.name)<0&&o.destroyPopup(t.name)})},updatePopupStatus:function(o){var n=this;if(n.actionItems&&0<n.actionItems.length){for(var t=n.actionItems.length,i=[],a=0;a<t;a++){var e=n.actionItems[a];if(!e._closed&&(e.shouldShow()&&(i.push(e.name),!1!==e.interrupt)))break}0<i.length&&i.forEach(function(t){n.showPopup(t,o)}),n.destroyAllPopup(i)}}},window.OSCActionTip=t}(jQuery);
!function(e){var t="object"==typeof window&&window||"object"==typeof self&&self;"undefined"==typeof exports||exports.nodeType?t&&(t.hljs=e({}),"function"==typeof define&&define.amd&&define([],function(){return t.hljs})):e(exports)}(function(n){var u=[],s=Object.keys,v={},b={},t=/^(no-?highlight|plain|text)$/i,p=/\blang(?:uage)?-([\w-]+)\b/i,r=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,a={case_insensitive:"cI",lexemes:"l",contains:"c",keywords:"k",subLanguage:"sL",className:"cN",begin:"b",beginKeywords:"bK",end:"e",endsWithParent:"eW",illegal:"i",excludeBegin:"eB",excludeEnd:"eE",returnBegin:"rB",returnEnd:"rE",variants:"v",IDENT_RE:"IR",UNDERSCORE_IDENT_RE:"UIR",NUMBER_RE:"NR",C_NUMBER_RE:"CNR",BINARY_NUMBER_RE:"BNR",RE_STARTERS_RE:"RSR",BACKSLASH_ESCAPE:"BE",APOS_STRING_MODE:"ASM",QUOTE_STRING_MODE:"QSM",PHRASAL_WORDS_MODE:"PWM",C_LINE_COMMENT_MODE:"CLCM",C_BLOCK_COMMENT_MODE:"CBCM",HASH_COMMENT_MODE:"HCM",NUMBER_MODE:"NM",C_NUMBER_MODE:"CNM",BINARY_NUMBER_MODE:"BNM",CSS_NUMBER_MODE:"CSSNM",REGEXP_MODE:"RM",TITLE_MODE:"TM",UNDERSCORE_TITLE_MODE:"UTM",COMMENT:"C",beginRe:"bR",endRe:"eR",illegalRe:"iR",lexemesRe:"lR",terminators:"t",terminator_end:"tE"},y="</span>",N={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},c="of and for in not or if then".split(" ");function w(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(e){return e.nodeName.toLowerCase()}function m(e){return t.test(e)}function i(e){var t,r={},a=Array.prototype.slice.call(arguments,1);for(t in e)r[t]=e[t];return a.forEach(function(e){for(t in e)r[t]=e[t]}),r}function g(e){var n=[];return function e(t,r){for(var a=t.firstChild;a;a=a.nextSibling)3===a.nodeType?r+=a.nodeValue.length:1===a.nodeType&&(n.push({event:"start",offset:r,node:a}),r=e(a,r),f(a).match(/br|hr|img|input/)||n.push({event:"stop",offset:r,node:a}));return r}(e,0),n}function o(e){if(a&&!e.langApiRestored){for(var t in e.langApiRestored=!0,a)e[t]&&(e[a[t]]=e[t]);(e.c||[]).concat(e.v||[]).forEach(o)}}function _(t,r){var i={};return"string"==typeof t?a("keyword",t):s(t).forEach(function(e){a(e,t[e])}),i;function a(n,e){r&&(e=e.toLowerCase()),e.split(" ").forEach(function(e){var t,r,a=e.split("|");i[a[0]]=[n,(t=a[0],(r=a[1])?Number(r):-1!=c.indexOf(t.toLowerCase())?0:1)]})}}function x(a){function l(e){return e&&e.source||e}function d(e,t){return new RegExp(l(e),"m"+(a.cI?"i":"")+(t?"g":""))}!function t(r,e){r.compiled||(r.compiled=!0,r.k=r.k||r.bK,r.k&&(r.k=_(r.k,a.cI)),r.lR=d(r.l||/\w+/,!0),e&&(r.bK&&(r.b="\\b("+r.bK.split(" ").join("|")+")\\b"),r.b||(r.b=/\B|\b/),r.bR=d(r.b),r.endSameAsBegin&&(r.e=r.b),r.e||r.eW||(r.e=/\B|\b/),r.e&&(r.eR=d(r.e)),r.tE=l(r.e)||"",r.eW&&e.tE&&(r.tE+=(r.e?"|":"")+e.tE)),r.i&&(r.iR=d(r.i)),null==r.relevance&&(r.relevance=1),r.c||(r.c=[]),r.c=Array.prototype.concat.apply([],r.c.map(function(e){return(t="self"===e?r:e).v&&!t.cached_variants&&(t.cached_variants=t.v.map(function(e){return i(t,{v:null},e)})),t.cached_variants?t.cached_variants:function e(t){return!!t&&(t.eW||e(t.starts))}(t)?[i(t,{starts:t.starts?i(t.starts):null})]:[t];var t})),r.c.forEach(function(e){t(e,r)}),r.starts&&t(r.starts,e),r.t=function(n){var e,i={},s=[],c={},r=1;function t(e,t){i[r]=e,s.push([e,t]),r+=new RegExp(t.toString()+"|").exec("").length-1+1}for(var a=0;a<n.c.length;a++)t(e=n.c[a],e.bK?"\\.?(?:"+e.b+")\\.?":e.b);n.tE&&t("end",n.tE),n.i&&t("illegal",n.i);var o=d(function(e){for(var t=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,r=0,a="",n=0;n<e.length;n++){var i=r+=1,s=l(e[n]);for(0<n&&(a+="|"),a+="(";0<s.length;){var c=t.exec(s);if(null==c){a+=s;break}a+=s.substring(0,c.index),s=s.substring(c.index+c[0].length),"\\"==c[0][0]&&c[1]?a+="\\"+String(Number(c[1])+i):(a+=c[0],"("==c[0]&&r++)}a+=")"}return a}(s.map(function(e){return e[1]})),!0);return c.lastIndex=0,c.exec=function(e){var t;if(0===s.length)return null;o.lastIndex=c.lastIndex;var r=o.exec(e);if(!r)return null;for(var a=0;a<r.length;a++)if(null!=r[a]&&null!=i[""+a]){t=i[""+a];break}return"string"==typeof t?(r.type=t,r.extra=[n.i,n.tE]):(r.type="begin",r.rule=t),r},c}(r))}(a)}function k(e,c,o,t){function l(e,t,r,a){if(!r&&""===t)return"";if(!e)return t;var n='<span class="'+(a?"":N.classPrefix);return(n+=e+'">')+t+(r?"":y)}function d(){m+=(null!=f.sL?function(){var e="string"==typeof f.sL;if(e&&!v[f.sL])return w(g);var t=e?k(f.sL,g,!0,a[f.sL]):E(g,f.sL.length?f.sL:void 0);return 0<f.relevance&&(_+=t.relevance),e&&(a[f.sL]=t.top),l(t.language,t.value,!1,!0)}:function(){var e,t,r,a,n,i,s;if(!f.k)return w(g);for(a="",t=0,f.lR.lastIndex=0,r=f.lR.exec(g);r;)a+=w(g.substring(t,r.index)),n=f,i=r,s=p.cI?i[0].toLowerCase():i[0],(e=n.k.hasOwnProperty(s)&&n.k[s])?(_+=e[1],a+=l(e[0],w(r[0]))):a+=w(r[0]),t=f.lR.lastIndex,r=f.lR.exec(g);return a+w(g.substr(t))})(),g=""}function u(e){m+=e.cN?l(e.cN,"",!0):"",f=Object.create(e,{parent:{value:f}})}var b={};function r(e,a){var t,r,n,i=a&&a[0];if(g+=e,null==i)return d(),0;if("begin"==b.type&&"end"==a.type&&b.index==a.index&&""===i)return g+=c.slice(a.index,a.index+1),1;if("begin"===(b=a).type)return r=(t=a)[0],(n=t.rule)&&n.endSameAsBegin&&(n.eR=new RegExp(r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")),n.skip?g+=r:(n.eB&&(g+=r),d(),n.rB||n.eB||(g=r)),u(n),n.rB?0:r.length;if("illegal"===a.type&&!o)throw new Error('Illegal lexeme "'+i+'" for mode "'+(f.cN||"<unnamed>")+'"');if("end"===a.type){var s=function(){var e=a[0],t=function e(t,r){if(a=t.eR,(n=a&&a.exec(r))&&0===n.index){for(;t.endsParent&&t.parent;)t=t.parent;return t}var a,n;if(t.eW)return e(t.parent,r)}(f,e);if(t){var r=f;for(r.skip?g+=e:(r.rE||r.eE||(g+=e),d(),r.eE&&(g=e));f.cN&&(m+=y),f.skip||f.sL||(_+=f.relevance),(f=f.parent)!==t.parent;);return t.starts&&(t.endSameAsBegin&&(t.starts.eR=t.eR),u(t.starts)),r.rE?0:e.length}}();if(null!=s)return s}return g+=i,i.length}var p=M(e);if(!p)throw new Error('Unknown language: "'+e+'"');x(p);for(var f=t||p,a={},m="",n=f;n!==p;n=n.parent)n.cN&&(m=l(n.cN,"",!0)+m);var g="",_=0;try{for(var i,s,h=0;f.t.lastIndex=h,i=f.t.exec(c);)s=r(c.substring(h,i.index),i),h=i.index+s;for(r(c.substr(h)),n=f;n.parent;n=n.parent)n.cN&&(m+=y);return{relevance:_,value:m,i:!1,language:e,top:f}}catch(e){if(e.message&&-1!==e.message.indexOf("Illegal"))return{i:!0,relevance:0,value:w(c)};throw e}}function E(r,e){e=e||N.languages||s(v);var a={relevance:0,value:w(r)},n=a;return e.filter(M).filter(C).forEach(function(e){var t=k(e,r,!1);t.language=e,t.relevance>n.relevance&&(n=t),t.relevance>a.relevance&&(n=a,a=t)}),n.language&&(a.second_best=n),a}function h(e){return N.tabReplace||N.useBR?e.replace(r,function(e,t){return N.useBR&&"\n"===e?"<br>":N.tabReplace?t.replace(/\t/g,N.tabReplace):""}):e}function l(i){var e,t,r,a,n,s,c,o,l,d=function(){var e,t,r,a,n=i.className+" ";if(n+=i.parentNode?i.parentNode.className:"",t=p.exec(n))return M(t[1])?t[1]:"no-highlight";for(e=0,r=(n=n.split(/\s+/)).length;e<r;e++)if(m(a=n[e])||M(a))return a}();m(d)||(N.useBR?(e=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=i.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):e=i,n=e.textContent,r=d?k(d,n,!0):E(n),(t=g(e)).length&&((a=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=r.value,r.value=function(e,t,r){var a=0,n="",i=[];function s(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function c(e){n+="<"+f(e)+u.map.call(e.attributes,function(e){return" "+e.nodeName+'="'+w(e.value).replace('"',"&quot;")+'"'}).join("")+">"}function o(e){n+="</"+f(e)+">"}function l(e){("start"===e.event?c:o)(e.node)}for(;e.length||t.length;){var d=s();if(n+=w(r.substring(a,d[0].offset)),a=d[0].offset,d===e){for(i.reverse().forEach(o);l(d.splice(0,1)[0]),(d=s())===e&&d.length&&d[0].offset===a;);i.reverse().forEach(c)}else"start"===d[0].event?i.push(d[0].node):i.pop(),l(d.splice(0,1)[0])}return n+w(r.substr(a))}(t,g(a),n)),r.value=h(r.value),i.innerHTML=r.value,i.className=(s=i.className,c=r.language,o=d?b[d]:c,l=[s.trim()],s.match(/\bhljs\b/)||l.push("hljs"),-1===s.indexOf(o)&&l.push(o),l.join(" ").trim()),i.result={language:r.language,re:r.relevance},r.second_best&&(i.second_best={language:r.second_best.language,re:r.second_best.relevance}))}function d(){var e;d.called||(d.called=!0,e=document.querySelectorAll("pre code"),u.forEach.call(e,l))}function M(e){return e=(e||"").toLowerCase(),v[e]||v[b[e]]}function C(e){var t=M(e);return t&&!t.disableAutodetect}return n.highlight=k,n.highlightAuto=E,n.fixMarkup=h,n.highlightBlock=l,n.configure=function(e){N=i(N,e)},n.initHighlighting=d,n.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",d,!1),addEventListener("load",d,!1)},n.registerLanguage=function(t,e){var r=v[t]=e(n);o(r),r.rawDefinition=e.bind(null,n),r.aliases&&r.aliases.forEach(function(e){b[e]=t})},n.listLanguages=function(){return s(v)},n.getLanguage=M,n.autoDetection=C,n.inherit=i,n.IR=n.IDENT_RE="[a-zA-Z]\\w*",n.UIR=n.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",n.NR=n.NUMBER_RE="\\b\\d+(\\.\\d+)?",n.CNR=n.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",n.BNR=n.BINARY_NUMBER_RE="\\b(0b[01]+)",n.RSR=n.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",n.BE=n.BACKSLASH_ESCAPE={b:"\\\\[\\s\\S]",relevance:0},n.ASM=n.APOS_STRING_MODE={cN:"string",b:"'",e:"'",i:"\\n",c:[n.BE]},n.QSM=n.QUOTE_STRING_MODE={cN:"string",b:'"',e:'"',i:"\\n",c:[n.BE]},n.PWM=n.PHRASAL_WORDS_MODE={b:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},n.C=n.COMMENT=function(e,t,r){var a=n.inherit({cN:"comment",b:e,e:t,c:[]},r||{});return a.c.push(n.PWM),a.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),a},n.CLCM=n.C_LINE_COMMENT_MODE=n.C("//","$"),n.CBCM=n.C_BLOCK_COMMENT_MODE=n.C("/\\*","\\*/"),n.HCM=n.HASH_COMMENT_MODE=n.C("#","$"),n.NM=n.NUMBER_MODE={cN:"number",b:n.NR,relevance:0},n.CNM=n.C_NUMBER_MODE={cN:"number",b:n.CNR,relevance:0},n.BNM=n.BINARY_NUMBER_MODE={cN:"number",b:n.BNR,relevance:0},n.CSSNM=n.CSS_NUMBER_MODE={cN:"number",b:n.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},n.RM=n.REGEXP_MODE={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[n.BE,{b:/\[/,e:/\]/,relevance:0,c:[n.BE]}]},n.TM=n.TITLE_MODE={cN:"title",b:n.IR,relevance:0},n.UTM=n.UNDERSCORE_TITLE_MODE={cN:"title",b:n.UIR,relevance:0},n.METHOD_GUARD={b:"\\.\\s*"+n.UIR,relevance:0},n}),hljs.registerLanguage("properties",function(e){var t="[ \\t\\f]*",r="("+t+"[:=]"+t+"|[ \\t\\f]+)",a="([^\\\\\\W:= \\t\\f\\n]|\\\\.)+",n="([^\\\\:= \\t\\f\\n]|\\\\.)+",i={e:r,relevance:0,starts:{cN:"string",e:/$/,relevance:0,c:[{b:"\\\\\\n"}]}};return{cI:!0,i:/\S/,c:[e.C("^\\s*[!#]","$"),{b:a+r,rB:!0,c:[{cN:"attr",b:a,endsParent:!0,relevance:0}],starts:i},{b:n+r,rB:!0,relevance:0,c:[{cN:"meta",b:n,endsParent:!0,relevance:0}],starts:i},{cN:"attr",relevance:0,b:n+t+"$"}]}}),hljs.registerLanguage("python",function(e){var t={keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10",built_in:"Ellipsis NotImplemented",literal:"False None True"},r={cN:"meta",b:/^(>>>|\.\.\.) /},a={cN:"subst",b:/\{/,e:/\}/,k:t,i:/#/},n={b:/\{\{/,relevance:0},i={cN:"string",c:[e.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[e.BE,r],relevance:10},{b:/(u|b)?r?"""/,e:/"""/,c:[e.BE,r],relevance:10},{b:/(fr|rf|f)'''/,e:/'''/,c:[e.BE,r,n,a]},{b:/(fr|rf|f)"""/,e:/"""/,c:[e.BE,r,n,a]},{b:/(u|r|ur)'/,e:/'/,relevance:10},{b:/(u|r|ur)"/,e:/"/,relevance:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},{b:/(fr|rf|f)'/,e:/'/,c:[e.BE,n,a]},{b:/(fr|rf|f)"/,e:/"/,c:[e.BE,n,a]},e.ASM,e.QSM]},s={cN:"number",relevance:0,v:[{b:e.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:e.CNR+"[lLjJ]?"}]},c={cN:"params",b:/\(/,e:/\)/,c:["self",r,s,i,e.HCM]};return a.c=[i,s,r],{aliases:["py","gyp","ipython"],k:t,i:/(<\/|->|\?)|=>/,c:[r,s,i,e.HCM,{v:[{cN:"function",bK:"def"},{cN:"class",bK:"class"}],e:/:/,i:/[${=;\n,]/,c:[e.UTM,c,{b:/->/,eW:!0,k:"None"}]},{cN:"meta",b:/^[\t ]*@/,e:/$/},{b:/\b(print|exec)\(/}]}}),hljs.registerLanguage("rust",function(e){var t="([ui](8|16|32|64|128|size)|f(32|64))?",r="drop i8 i16 i32 i64 i128 isize u8 u16 u32 u64 u128 usize f32 f64 str char bool Box Option Result String Vec Copy Send Sized Sync Drop Fn FnMut FnOnce ToOwned Clone Debug PartialEq PartialOrd Eq Ord AsRef AsMut Into From Default Iterator Extend IntoIterator DoubleEndedIterator ExactSizeIterator SliceConcatExt ToString assert! assert_eq! bitflags! bytes! cfg! col! concat! concat_idents! debug_assert! debug_assert_eq! env! panic! file! format! format_args! include_bin! include_str! line! local_data_key! module_path! option_env! print! println! select! stringify! try! unimplemented! unreachable! vec! write! writeln! macro_rules! assert_ne! debug_assert_ne!";return{aliases:["rs"],k:{keyword:"abstract as async await become box break const continue crate do dyn else enum extern false final fn for if impl in let loop macro match mod move mut override priv pub ref return self Self static struct super trait true try type typeof unsafe unsized use virtual where while yield",literal:"true false Some None Ok Err",built_in:r},l:e.IR+"!?",i:"</",c:[e.CLCM,e.C("/\\*","\\*/",{c:["self"]}),e.inherit(e.QSM,{b:/b?"/,i:null}),{cN:"string",v:[{b:/r(#*)"(.|\n)*?"\1(?!#)/},{b:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{cN:"symbol",b:/'[a-zA-Z_][a-zA-Z0-9_]*/},{cN:"number",v:[{b:"\\b0b([01_]+)"+t},{b:"\\b0o([0-7_]+)"+t},{b:"\\b0x([A-Fa-f0-9_]+)"+t},{b:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+t}],relevance:0},{cN:"function",bK:"fn",e:"(\\(|<)",eE:!0,c:[e.UTM]},{cN:"meta",b:"#\\!?\\[",e:"\\]",c:[{cN:"meta-string",b:/"/,e:/"/}]},{cN:"class",bK:"type",e:";",c:[e.inherit(e.UTM,{endsParent:!0})],i:"\\S"},{cN:"class",bK:"trait enum struct union",e:"{",c:[e.inherit(e.UTM,{endsParent:!0})],i:"[\\w\\d]"},{b:e.IR+"::",k:{built_in:r}},{b:"->"}]}}),hljs.registerLanguage("less",function(e){function t(e){return{cN:"string",b:"~?"+e+".*?"+e}}function r(e,t,r){return{cN:e,b:t,relevance:r}}var a="[\\w-]+",n="("+a+"|@{"+a+"})",i=[],s=[],c={b:"\\(",e:"\\)",c:s,relevance:0};s.push(e.CLCM,e.CBCM,t("'"),t('"'),e.CSSNM,{b:"(url|data-uri)\\(",starts:{cN:"string",e:"[\\)\\n]",eE:!0}},r("number","#[0-9A-Fa-f]+\\b"),c,r("variable","@@?"+a,10),r("variable","@{"+a+"}"),r("built_in","~?`[^`]*?`"),{cN:"attribute",b:a+"\\s*:",e:":",rB:!0,eE:!0},{cN:"meta",b:"!important"});var o=s.concat({b:"{",e:"}",c:i}),l={bK:"when",eW:!0,c:[{bK:"and not"}].concat(s)},d={b:n+"\\s*:",rB:!0,e:"[;}]",relevance:0,c:[{cN:"attribute",b:n,e:":",eE:!0,starts:{eW:!0,i:"[<=$]",relevance:0,c:s}}]},u={cN:"keyword",b:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{e:"[;{}]",rE:!0,c:s,relevance:0}},b={cN:"variable",v:[{b:"@"+a+"\\s*:",relevance:15},{b:"@"+a}],starts:{e:"[;}]",rE:!0,c:o}},p={v:[{b:"[\\.#:&\\[>]",e:"[;{}]"},{b:n,e:"{"}],rB:!0,rE:!0,i:"[<='$\"]",relevance:0,c:[e.CLCM,e.CBCM,l,r("keyword","all\\b"),r("variable","@{"+a+"}"),r("selector-tag",n+"%?",0),r("selector-id","#"+n),r("selector-class","\\."+n,0),r("selector-tag","&",0),{cN:"selector-attr",b:"\\[",e:"\\]"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"\\(",e:"\\)",c:o},{b:"!important"}]};return i.push(e.CLCM,e.CBCM,u,b,d,p),{cI:!0,i:"[=>'/<($\"]",c:i}}),hljs.registerLanguage("perl",function(e){var t="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",r={cN:"subst",b:"[$@]\\{",e:"\\}",k:t},a={b:"->{",e:"}"},n={v:[{b:/\$\d/},{b:/[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/},{b:/[\$%@][^\s\w{]/,relevance:0}]},i=[e.BE,r,n],s=[n,e.HCM,e.C("^\\=\\w","\\=cut",{eW:!0}),a,{cN:"string",c:i,v:[{b:"q[qwxr]?\\s*\\(",e:"\\)",relevance:5},{b:"q[qwxr]?\\s*\\[",e:"\\]",relevance:5},{b:"q[qwxr]?\\s*\\{",e:"\\}",relevance:5},{b:"q[qwxr]?\\s*\\|",e:"\\|",relevance:5},{b:"q[qwxr]?\\s*\\<",e:"\\>",relevance:5},{b:"qw\\s+q",e:"q",relevance:5},{b:"'",e:"'",c:[e.BE]},{b:'"',e:'"'},{b:"`",e:"`",c:[e.BE]},{b:"{\\w+}",c:[],relevance:0},{b:"-?\\w+\\s*\\=\\>",c:[],relevance:0}]},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{b:"(\\/\\/|"+e.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",relevance:0,c:[e.HCM,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",relevance:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[e.BE],relevance:0}]},{cN:"function",bK:"sub",e:"(\\s*\\(.*?\\))?[;{]",eE:!0,relevance:5,c:[e.TM]},{b:"-\\w\\b",relevance:0},{b:"^__DATA__$",e:"^__END__$",sL:"mojolicious",c:[{b:"^@@.*",e:"$",cN:"comment"}]}];return r.c=s,{aliases:["pl","pm"],l:/[\w\.]+/,k:t,c:a.c=s}}),hljs.registerLanguage("diff",function(e){return{aliases:["patch"],c:[{cN:"meta",relevance:10,v:[{b:/^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"comment",v:[{b:/Index: /,e:/$/},{b:/={3,}/,e:/$/},{b:/^\-{3}/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+{3}/,e:/$/},{b:/^\*{15}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"addition",b:"^\\!",e:"$"}]}}),hljs.registerLanguage("scss",function(e){var t={cN:"variable",b:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b"},r={cN:"number",b:"#[0-9A-Fa-f]+"};return e.CSSNM,e.QSM,e.ASM,e.CBCM,{cI:!0,i:"[=/|']",c:[e.CLCM,e.CBCM,{cN:"selector-id",b:"\\#[A-Za-z0-9_-]+",relevance:0},{cN:"selector-class",b:"\\.[A-Za-z0-9_-]+",relevance:0},{cN:"selector-attr",b:"\\[",e:"\\]",i:"$"},{cN:"selector-tag",b:"\\b(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|frame|frameset|(h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|map|mark|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)\\b",relevance:0},{b:":(visited|valid|root|right|required|read-write|read-only|out-range|optional|only-of-type|only-child|nth-of-type|nth-last-of-type|nth-last-child|nth-child|not|link|left|last-of-type|last-child|lang|invalid|indeterminate|in-range|hover|focus|first-of-type|first-line|first-letter|first-child|first|enabled|empty|disabled|default|checked|before|after|active)"},{b:"::(after|before|choices|first-letter|first-line|repeat-index|repeat-item|selection|value)"},t,{cN:"attribute",b:"\\b(z-index|word-wrap|word-spacing|word-break|width|widows|white-space|visibility|vertical-align|unicode-bidi|transition-timing-function|transition-property|transition-duration|transition-delay|transition|transform-style|transform-origin|transform|top|text-underline-position|text-transform|text-shadow|text-rendering|text-overflow|text-indent|text-decoration-style|text-decoration-line|text-decoration-color|text-decoration|text-align-last|text-align|tab-size|table-layout|right|resize|quotes|position|pointer-events|perspective-origin|perspective|page-break-inside|page-break-before|page-break-after|padding-top|padding-right|padding-left|padding-bottom|padding|overflow-y|overflow-x|overflow-wrap|overflow|outline-width|outline-style|outline-offset|outline-color|outline|orphans|order|opacity|object-position|object-fit|normal|none|nav-up|nav-right|nav-left|nav-index|nav-down|min-width|min-height|max-width|max-height|mask|marks|margin-top|margin-right|margin-left|margin-bottom|margin|list-style-type|list-style-position|list-style-image|list-style|line-height|letter-spacing|left|justify-content|initial|inherit|ime-mode|image-orientation|image-resolution|image-rendering|icon|hyphens|height|font-weight|font-variant-ligatures|font-variant|font-style|font-stretch|font-size-adjust|font-size|font-language-override|font-kerning|font-feature-settings|font-family|font|float|flex-wrap|flex-shrink|flex-grow|flex-flow|flex-direction|flex-basis|flex|filter|empty-cells|display|direction|cursor|counter-reset|counter-increment|content|column-width|column-span|column-rule-width|column-rule-style|column-rule-color|column-rule|column-gap|column-fill|column-count|columns|color|clip-path|clip|clear|caption-side|break-inside|break-before|break-after|box-sizing|box-shadow|box-decoration-break|bottom|border-width|border-top-width|border-top-style|border-top-right-radius|border-top-left-radius|border-top-color|border-top|border-style|border-spacing|border-right-width|border-right-style|border-right-color|border-right|border-radius|border-left-width|border-left-style|border-left-color|border-left|border-image-width|border-image-source|border-image-slice|border-image-repeat|border-image-outset|border-image|border-color|border-collapse|border-bottom-width|border-bottom-style|border-bottom-right-radius|border-bottom-left-radius|border-bottom-color|border-bottom|border|background-size|background-repeat|background-position|background-origin|background-image|background-color|background-clip|background-attachment|background-blend-mode|background|backface-visibility|auto|animation-timing-function|animation-play-state|animation-name|animation-iteration-count|animation-fill-mode|animation-duration|animation-direction|animation-delay|animation|align-self|align-items|align-content)\\b",i:"[^\\s]"},{b:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{b:":",e:";",c:[t,r,e.CSSNM,e.QSM,e.ASM,{cN:"meta",b:"!important"}]},{b:"@",e:"[{;]",k:"mixin include extend for if else each while charset import debug media page content font-face namespace warn",c:[t,e.QSM,e.ASM,r,e.CSSNM,{b:"\\s[A-Za-z0-9_.-]+",relevance:0}]}]}}),hljs.registerLanguage("bash",function(e){var t={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)}/}]},r={cN:"string",b:/"/,e:/"/,c:[e.BE,t,{cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]}]};return{aliases:["sh","zsh"],l:/\b-?[a-z\._]+\b/,k:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",_:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"meta",b:/^#![^\n]+sh\s*$/,relevance:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[e.inherit(e.TM,{b:/\w[\w\d_]*/})],relevance:0},e.HCM,r,{cN:"",b:/\\"/},{cN:"string",b:/'/,e:/'/},t]}}),hljs.registerLanguage("shell",function(e){return{aliases:["console"],c:[{cN:"meta",b:"^\\s{0,3}[/\\w\\d\\[\\]()@-]*[>%$#]",starts:{e:"$",sL:"bash"}}]}}),hljs.registerLanguage("makefile",function(e){var t={cN:"variable",v:[{b:"\\$\\("+e.UIR+"\\)",c:[e.BE]},{b:/\$[@%<?\^\+\*]/}]},r={cN:"string",b:/"/,e:/"/,c:[e.BE,t]},a={cN:"variable",b:/\$\([\w-]+\s/,e:/\)/,k:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},c:[t]},n={b:"^"+e.UIR+"\\s*[:+?]?=",i:"\\n",rB:!0,c:[{b:"^"+e.UIR,e:"[:+?]?=",eE:!0}]},i={cN:"section",b:/^[^\s]+:/,e:/$/,c:[t]};return{aliases:["mk","mak"],k:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath",l:/[\w-]+/,c:[e.HCM,t,r,a,n,{cN:"meta",b:/^\.PHONY:/,e:/$/,k:{"meta-keyword":".PHONY"},l:/[\.\w]+/},i]}}),hljs.registerLanguage("json",function(e){var t={literal:"true false null"},r=[e.CLCM,e.CBCM],a=[e.QSM,e.CNM],n={e:",",eW:!0,eE:!0,c:a,k:t},i={b:"{",e:"}",c:[{cN:"attr",b:/"/,e:/"/,c:[e.BE],i:"\\n"},e.inherit(n,{b:/:/})].concat(r),i:"\\S"},s={b:"\\[",e:"\\]",c:[e.inherit(n)],i:"\\S"};return a.push(i,s),r.forEach(function(e){a.push(e)}),{c:a,k:t,i:"\\S"}}),hljs.registerLanguage("ini",function(e){var t={cN:"string",c:[e.BE],v:[{b:"'''",e:"'''",relevance:10},{b:'"""',e:'"""',relevance:10},{b:'"',e:'"'},{b:"'",e:"'"}]};return{aliases:["toml"],cI:!0,i:/\S/,c:[e.C(";","$"),e.HCM,{cN:"section",b:/^\s*\[+/,e:/\]+/},{b:/^[a-z0-9\[\]_\.-]+\s*=\s*/,e:"$",rB:!0,c:[{cN:"attr",b:/[a-z0-9\[\]_\.-]+/},{b:/=/,eW:!0,relevance:0,c:[e.C(";","$"),e.HCM,{cN:"literal",b:/\bon|off|true|false|yes|no\b/},{cN:"variable",v:[{b:/\$[\w\d"][\w\d_]*/},{b:/\$\{(.*?)}/}]},t,{cN:"number",b:/([\+\-]+)?[\d]+_[\d_]+/},e.NM]}]}]}}),hljs.registerLanguage("http",function(e){var t="HTTP/[0-9\\.]+";return{aliases:["https"],i:"\\S",c:[{b:"^"+t,e:"$",c:[{cN:"number",b:"\\b\\d{3}\\b"}]},{b:"^[A-Z]+ (.*?) "+t+"$",rB:!0,e:"$",c:[{cN:"string",b:" ",e:" ",eB:!0,eE:!0},{b:t},{cN:"keyword",b:"[A-Z]+"}]},{cN:"attribute",b:"^\\w",e:": ",eE:!0,i:"\\n|\\s|=",starts:{e:"$",relevance:0}},{b:"\\n\\n",starts:{sL:[],eW:!0}}]}}),hljs.registerLanguage("coffeescript",function(e){var t={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super yield import export from as default await then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",built_in:"npm require console print module global window document"},r="[A-Za-z$_][0-9A-Za-z$_]*",a={cN:"subst",b:/#\{/,e:/}/,k:t},n=[e.BNM,e.inherit(e.CNM,{starts:{e:"(\\s*/)?",relevance:0}}),{cN:"string",v:[{b:/'''/,e:/'''/,c:[e.BE]},{b:/'/,e:/'/,c:[e.BE]},{b:/"""/,e:/"""/,c:[e.BE,a]},{b:/"/,e:/"/,c:[e.BE,a]}]},{cN:"regexp",v:[{b:"///",e:"///",c:[a,e.HCM]},{b:"//[gim]*",relevance:0},{b:/\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W)/}]},{b:"@"+r},{sL:"javascript",eB:!0,eE:!0,v:[{b:"```",e:"```"},{b:"`",e:"`"}]}];a.c=n;var i=e.inherit(e.TM,{b:r}),s="(\\(.*\\))?\\s*\\B[-=]>",c={cN:"params",b:"\\([^\\(]",rB:!0,c:[{b:/\(/,e:/\)/,k:t,c:["self"].concat(n)}]};return{aliases:["coffee","cson","iced"],k:t,i:/\/\*/,c:n.concat([e.C("###","###"),e.HCM,{cN:"function",b:"^\\s*"+r+"\\s*=\\s*"+s,e:"[-=]>",rB:!0,c:[i,c]},{b:/[:\(,=]\s*/,relevance:0,c:[{cN:"function",b:s,e:"[-=]>",rB:!0,c:[c]}]},{cN:"class",bK:"class",e:"$",i:/[:="\[\]]/,c:[{bK:"extends",eW:!0,i:/[:="\[\]]/,c:[i]},i]},{b:r+":",e:":",rB:!0,rE:!0,relevance:0}])}}),hljs.registerLanguage("css",function(e){var t={b:/(?:[A-Z\_\.\-]+|--[a-zA-Z0-9_-]+)\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[e.ASM,e.QSM]}]},e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[e.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",i:/:/,c:[{cN:"keyword",b:/\w+/},{b:/\s/,eW:!0,eE:!0,relevance:0,c:[e.ASM,e.QSM,e.CSSNM]}]},{cN:"selector-tag",b:"[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},{b:"{",e:"}",i:/\S/,c:[e.CBCM,t]}]}}),hljs.registerLanguage("objectivec",function(e){var t=/[a-zA-Z@][a-zA-Z0-9_]*/,r="@interface @class @protocol @implementation";return{aliases:["mm","objc","obj-c"],k:{keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required @encode @package @import @defs @compatibility_alias __bridge __bridge_transfer __bridge_retained __bridge_retain __covariant __contravariant __kindof _Nonnull _Nullable _Null_unspecified __FUNCTION__ __PRETTY_FUNCTION__ __attribute__ getter setter retain unsafe_unretained nonnull nullable null_unspecified null_resettable class instancetype NS_DESIGNATED_INITIALIZER NS_UNAVAILABLE NS_REQUIRES_SUPER NS_RETURNS_INNER_POINTER NS_INLINE NS_AVAILABLE NS_DEPRECATED NS_ENUM NS_OPTIONS NS_SWIFT_UNAVAILABLE NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_REFINED_FOR_SWIFT NS_SWIFT_NAME NS_SWIFT_NOTHROW NS_DURING NS_HANDLER NS_ENDHANDLER NS_VALUERETURN NS_VOIDRETURN",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},l:t,i:"</",c:[{cN:"built_in",b:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},e.CLCM,e.CBCM,e.CNM,e.QSM,{cN:"string",v:[{b:'@"',e:'"',i:"\\n",c:[e.BE]},{b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"}]},{cN:"meta",b:"#",e:"$",c:[{cN:"meta-string",v:[{b:'"',e:'"'},{b:"<",e:">"}]}]},{cN:"class",b:"("+r.split(" ").join("|")+")\\b",e:"({|$)",eE:!0,k:r,l:t,c:[e.UTM]},{b:"\\."+e.UIR,relevance:0}]}}),hljs.registerLanguage("ruby",function(e){var t="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",r={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",literal:"true false nil"},a={cN:"doctag",b:"@[A-Za-z]+"},n={b:"#<",e:">"},i=[e.C("#","$",{c:[a]}),e.C("^\\=begin","^\\=end",{c:[a],relevance:10}),e.C("^__END__","\\n$")],s={cN:"subst",b:"#\\{",e:"}",k:r},c={cN:"string",c:[e.BE,s],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/`/,e:/`/},{b:"%[qQwWx]?\\(",e:"\\)"},{b:"%[qQwWx]?\\[",e:"\\]"},{b:"%[qQwWx]?{",e:"}"},{b:"%[qQwWx]?<",e:">"},{b:"%[qQwWx]?/",e:"/"},{b:"%[qQwWx]?%",e:"%"},{b:"%[qQwWx]?-",e:"-"},{b:"%[qQwWx]?\\|",e:"\\|"},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/},{b:/<<[-~]?'?(\w+)(?:.|\n)*?\n\s*\1\b/,rB:!0,c:[{b:/<<[-~]?'?/},{b:/\w+/,endSameAsBegin:!0,c:[e.BE,s]}]}]},o={cN:"params",b:"\\(",e:"\\)",endsParent:!0,k:r},l=[c,n,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[e.inherit(e.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{b:"<\\s*",c:[{b:"("+e.IR+"::)?"+e.IR}]}].concat(i)},{cN:"function",bK:"def",e:"$|;",c:[e.inherit(e.TM,{b:t}),o].concat(i)},{b:e.IR+"::"},{cN:"symbol",b:e.UIR+"(\\!|\\?)?:",relevance:0},{cN:"symbol",b:":(?!\\s)",c:[c,{b:t}],relevance:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{cN:"params",b:/\|/,e:/\|/,k:r},{b:"("+e.RSR+"|unless)\\s*",k:"unless",c:[n,{cN:"regexp",c:[e.BE,s],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}].concat(i),relevance:0}].concat(i);s.c=l;var d=[{b:/^\s*=>/,starts:{e:"$",c:o.c=l}},{cN:"meta",b:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+>|(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>)",starts:{e:"$",c:l}}];return{aliases:["rb","gemspec","podspec","thor","irb"],k:r,i:/\/\*/,c:i.concat(d).concat(l)}}),hljs.registerLanguage("yaml",function(e){var t="true false yes no null",r={cN:"string",relevance:0,v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/\S+/}],c:[e.BE,{cN:"template-variable",v:[{b:"{{",e:"}}"},{b:"%{",e:"}"}]}]};return{cI:!0,aliases:["yml","YAML","yaml"],c:[{cN:"attr",v:[{b:"\\w[\\w :\\/.-]*:(?=[ \t]|$)"},{b:'"\\w[\\w :\\/.-]*":(?=[ \t]|$)'},{b:"'\\w[\\w :\\/.-]*':(?=[ \t]|$)"}]},{cN:"meta",b:"^---s*$",relevance:10},{cN:"string",b:"[\\|>]([0-9]?[+-])?[ ]*\\n( *)[\\S ]+\\n(\\2[\\S ]+\\n?)*"},{b:"<%[%=-]?",e:"[%-]?%>",sL:"ruby",eB:!0,eE:!0,relevance:0},{cN:"type",b:"!"+e.UIR},{cN:"type",b:"!!"+e.UIR},{cN:"meta",b:"&"+e.UIR+"$"},{cN:"meta",b:"\\*"+e.UIR+"$"},{cN:"bullet",b:"\\-(?=[ ]|$)",relevance:0},e.HCM,{bK:t,k:{literal:t}},{cN:"number",b:e.CNR+"\\b"},r]}}),hljs.registerLanguage("java",function(e){var t="false synchronized int abstract float private char boolean var static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do";return{aliases:["jsp"],k:t,i:/<\/|#/,c:[e.C("/\\*\\*","\\*/",{relevance:0,c:[{b:/\w+@/,relevance:0},{cN:"doctag",b:"@[A-Za-z]+"}]}),e.CLCM,e.CBCM,e.ASM,e.QSM,{cN:"class",bK:"class interface",e:/[{;=]/,eE:!0,k:"class interface",i:/[:"\[\]]/,c:[{bK:"extends implements"},e.UTM]},{bK:"new throw return else",relevance:0},{cN:"function",b:"([À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*(<[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*(\\s*,\\s*[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*)*>)?\\s+)+"+e.UIR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:t,c:[{b:e.UIR+"\\s*\\(",rB:!0,relevance:0,c:[e.UTM]},{cN:"params",b:/\(/,e:/\)/,k:t,relevance:0,c:[e.ASM,e.QSM,e.CNM,e.CBCM]},e.CLCM,e.CBCM]},{cN:"number",b:"\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",relevance:0},{cN:"meta",b:"@[A-Za-z]+"}]}});hljs.registerLanguage("sql",function(e){var t=e.C("--","$");return{cI:!0,i:/[<>{}*]/,c:[{bK:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke comment values with",e:/;/,eW:!0,l:/[\w\.]+/,k:{keyword:"as abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias all allocate allow alter always analyze ancillary and anti any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound bucket buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain explode export export_set extended extent external external_1 external_2 externally extract failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force foreign form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour hours http id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lateral lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minutes minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notnull notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second seconds section securefile security seed segment select self semi sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tablesample tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unnest unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace window with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",literal:"true false null unknown",built_in:"array bigint binary bit blob bool boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text time timestamp tinyint varchar varchar2 varying void"},c:[{cN:"string",b:"'",e:"'",c:[e.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[e.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[e.BE]},e.CNM,e.CBCM,t,e.HCM]},e.CBCM,t,e.HCM]}}),hljs.registerLanguage("apache",function(e){var t={cN:"number",b:"[\\$%]\\d+"};return{aliases:["apacheconf"],cI:!0,c:[e.HCM,{cN:"section",b:"</?",e:">"},{cN:"attribute",b:/\w+/,relevance:0,k:{nomarkup:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{e:/$/,relevance:0,k:{literal:"on off all"},c:[{cN:"meta",b:"\\s\\[",e:"\\]$"},{cN:"variable",b:"[\\$%]\\{",e:"\\}",c:["self",t]},t,e.QSM]}}],i:/\S/}}),hljs.registerLanguage("kotlin",function(e){var t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual trait volatile transient native default",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},r={cN:"symbol",b:e.UIR+"@"},a={cN:"subst",b:"\\${",e:"}",c:[e.CNM]},n={cN:"variable",b:"\\$"+e.UIR},i={cN:"string",v:[{b:'"""',e:'"""',c:[n,a]},{b:"'",e:"'",i:/\n/,c:[e.BE]},{b:'"',e:'"',i:/\n/,c:[e.BE,n,a]}]};a.c.push(i);var s={cN:"meta",b:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UIR+")?"},c={cN:"meta",b:"@"+e.UIR,c:[{b:/\(/,e:/\)/,c:[e.inherit(i,{cN:"meta-string"})]}]},o=e.C("/\\*","\\*/",{c:[e.CBCM]}),l={v:[{cN:"type",b:e.UIR},{b:/\(/,e:/\)/,c:[]}]},d=l;return d.v[1].c=[l],l.v[1].c=[d],{aliases:["kt"],k:t,c:[e.C("/\\*\\*","\\*/",{relevance:0,c:[{cN:"doctag",b:"@[A-Za-z]+"}]}),e.CLCM,o,{cN:"keyword",b:/\b(break|continue|return|this)\b/,starts:{c:[{cN:"symbol",b:/@\w+/}]}},r,s,c,{cN:"function",bK:"fun",e:"[(]|$",rB:!0,eE:!0,k:t,i:/fun\s+(<.*>)?[^\s\(]+(\s+[^\s\(]+)\s*=/,relevance:5,c:[{b:e.UIR+"\\s*\\(",rB:!0,relevance:0,c:[e.UTM]},{cN:"type",b:/</,e:/>/,k:"reified",relevance:0},{cN:"params",b:/\(/,e:/\)/,endsParent:!0,k:t,relevance:0,c:[{b:/:/,e:/[=,\/]/,eW:!0,c:[l,e.CLCM,o],relevance:0},e.CLCM,o,s,c,i,e.CNM]},o]},{cN:"class",bK:"class interface trait",e:/[:\{(]|$/,eE:!0,i:"extends implements",c:[{bK:"public protected internal private constructor"},e.UTM,{cN:"type",b:/</,e:/>/,eB:!0,eE:!0,relevance:0},{cN:"type",b:/[,:]\s*/,e:/[<\(,]|$/,eB:!0,rE:!0},s,c]},i,{cN:"meta",b:"^#!/usr/bin/env",e:"$",i:"\n"},{cN:"number",b:"\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",relevance:0}]}}),hljs.registerLanguage("xml",function(e){var t={eW:!0,i:/</,relevance:0,c:[{cN:"attr",b:"[A-Za-z0-9\\._:-]+",relevance:0},{b:/=\s*/,relevance:0,c:[{cN:"string",endsParent:!0,v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],cI:!0,c:[{cN:"meta",b:"<!DOCTYPE",e:">",relevance:10,c:[{b:"\\[",e:"\\]"}]},e.C("\x3c!--","--\x3e",{relevance:10}),{b:"<\\!\\[CDATA\\[",e:"\\]\\]>",relevance:10},{cN:"meta",b:/<\?xml/,e:/\?>/,relevance:10},{b:/<\?(php)?/,e:/\?>/,sL:"php",c:[{b:"/\\*",e:"\\*/",skip:!0},{b:'b"',e:'"',skip:!0},{b:"b'",e:"'",skip:!0},e.inherit(e.ASM,{i:null,cN:null,c:null,skip:!0}),e.inherit(e.QSM,{i:null,cN:null,c:null,skip:!0})]},{cN:"tag",b:"<style(?=\\s|>)",e:">",k:{name:"style"},c:[t],starts:{e:"</style>",rE:!0,sL:["css","xml"]}},{cN:"tag",b:"<script(?=\\s|>)",e:">",k:{name:"script"},c:[t],starts:{e:"<\/script>",rE:!0,sL:["actionscript","javascript","handlebars","xml"]}},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"name",b:/[^\/><\s]+/,relevance:0},t]}]}}),hljs.registerLanguage("markdown",function(e){return{aliases:["md","mkdown","mkd"],c:[{cN:"section",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",relevance:0},{cN:"bullet",b:"^\\s*([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",relevance:0}]},{cN:"quote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"^```\\w*\\s*$",e:"^```[ ]*$"},{b:"`.+?`"},{b:"^( {4}|\\t)",e:"$",relevance:0}]},{b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].*?[\\)\\]]",rB:!0,c:[{cN:"string",b:"\\[",e:"\\]",eB:!0,rE:!0,relevance:0},{cN:"link",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"symbol",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],relevance:10},{b:/^\[[^\n]+\]:/,rB:!0,c:[{cN:"symbol",b:/\[/,e:/\]/,eB:!0,eE:!0},{cN:"link",b:/:\s*/,e:/$/,eB:!0}]}]}}),hljs.registerLanguage("swift",function(e){var t={keyword:"#available #colorLiteral #column #else #elseif #endif #file #fileLiteral #function #if #imageLiteral #line #selector #sourceLocation _ __COLUMN__ __FILE__ __FUNCTION__ __LINE__ Any as as! as? associatedtype associativity break case catch class continue convenience default defer deinit didSet do dynamic dynamicType else enum extension fallthrough false fileprivate final for func get guard if import in indirect infix init inout internal is lazy left let mutating nil none nonmutating open operator optional override postfix precedence prefix private protocol Protocol public repeat required rethrows return right self Self set static struct subscript super switch throw throws true try try! try? Type typealias unowned var weak where while willSet",literal:"true false nil",built_in:"abs advance alignof alignofValue anyGenerator assert assertionFailure bridgeFromObjectiveC bridgeFromObjectiveCUnconditional bridgeToObjectiveC bridgeToObjectiveCUnconditional c contains count countElements countLeadingZeros debugPrint debugPrintln distance dropFirst dropLast dump encodeBitsAsWords enumerate equal fatalError filter find getBridgedObjectiveCType getVaList indices insertionSort isBridgedToObjectiveC isBridgedVerbatimToObjectiveC isUniquelyReferenced isUniquelyReferencedNonObjC join lazy lexicographicalCompare map max maxElement min minElement numericCast overlaps partition posix precondition preconditionFailure print println quickSort readLine reduce reflect reinterpretCast reverse roundUpToAlignment sizeof sizeofValue sort split startsWith stride strideof strideofValue swap toString transcode underestimateCount unsafeAddressOf unsafeBitCast unsafeDowncast unsafeUnwrap unsafeReflect withExtendedLifetime withObjectAtPlusZero withUnsafePointer withUnsafePointerToObject withUnsafeMutablePointer withUnsafeMutablePointers withUnsafePointer withUnsafePointers withVaList zip"},r=e.C("/\\*","\\*/",{c:["self"]}),a={cN:"subst",b:/\\\(/,e:"\\)",k:t,c:[]},n={cN:"string",c:[e.BE,a],v:[{b:/"""/,e:/"""/},{b:/"/,e:/"/}]},i={cN:"number",b:"\\b([\\d_]+(\\.[\\deE_]+)?|0x[a-fA-F0-9_]+(\\.[a-fA-F0-9p_]+)?|0b[01_]+|0o[0-7_]+)\\b",relevance:0};return a.c=[i],{k:t,c:[n,e.CLCM,r,{cN:"type",b:"\\b[A-Z][\\wÀ-ʸ']*[!?]"},{cN:"type",b:"\\b[A-Z][\\wÀ-ʸ']*",relevance:0},i,{cN:"function",bK:"func",e:"{",eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{b:/</,e:/>/},{cN:"params",b:/\(/,e:/\)/,endsParent:!0,k:t,c:["self",i,n,e.CBCM,{b:":"}],i:/["']/}],i:/\[|%/},{cN:"class",bK:"struct protocol class extension enum",k:t,e:"\\{",eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/})]},{cN:"meta",b:"(@discardableResult|@warn_unused_result|@exported|@lazy|@noescape|@NSCopying|@NSManaged|@objc|@objcMembers|@convention|@required|@noreturn|@IBAction|@IBDesignable|@IBInspectable|@IBOutlet|@infix|@prefix|@postfix|@autoclosure|@testable|@available|@nonobjc|@NSApplicationMain|@UIApplicationMain|@dynamicMemberLookup|@propertyWrapper)"},{bK:"import",e:/$/,c:[e.CLCM,r]}]}}),hljs.registerLanguage("plaintext",function(e){return{disableAutodetect:!0}}),hljs.registerLanguage("typescript",function(e){var t="[A-Za-z$_][0-9A-Za-z$_]*",r={keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class public private protected get set super static implements enum export import declare type namespace abstract as from extends async await",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document any number boolean string void Promise"},a={cN:"meta",b:"@"+t},n={b:"\\(",e:/\)/,k:r,c:["self",e.QSM,e.ASM,e.NM]},i={cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,k:r,c:[e.CLCM,e.CBCM,a,n]},s={cN:"number",v:[{b:"\\b(0[bB][01]+)n?"},{b:"\\b(0[oO][0-7]+)n?"},{b:e.CNR+"n?"}],relevance:0},c={cN:"subst",b:"\\$\\{",e:"\\}",k:r,c:[]},o={b:"html`",e:"",starts:{e:"`",rE:!1,c:[e.BE,c],sL:"xml"}},l={b:"css`",e:"",starts:{e:"`",rE:!1,c:[e.BE,c],sL:"css"}},d={cN:"string",b:"`",e:"`",c:[e.BE,c]};return c.c=[e.ASM,e.QSM,o,l,d,s,e.RM],{aliases:["ts"],k:r,c:[{cN:"meta",b:/^\s*['"]use strict['"]/},e.ASM,e.QSM,o,l,d,e.CLCM,e.CBCM,s,{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{cN:"function",b:"(\\(.*?\\)|"+e.IR+")\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:e.IR},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:r,c:["self",e.CLCM,e.CBCM]}]}]}],relevance:0},{cN:"function",bK:"function",e:/[\{;]/,eE:!0,k:r,c:["self",e.inherit(e.TM,{b:t}),i],i:/%/,relevance:0},{bK:"constructor",e:/[\{;]/,eE:!0,c:["self",i]},{b:/module\./,k:{built_in:"module"},relevance:0},{bK:"module",e:/\{/,eE:!0},{bK:"interface",e:/\{/,eE:!0,k:"interface extends"},{b:/\$[(.]/},{b:"\\."+e.IR,relevance:0},a,n]}}),hljs.registerLanguage("nginx",function(e){var t={cN:"variable",v:[{b:/\$\d+/},{b:/\$\{/,e:/}/},{b:"[\\$\\@]"+e.UIR}]},r={eW:!0,l:"[a-z/_]+",k:{literal:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},relevance:0,i:"=>",c:[e.HCM,{cN:"string",c:[e.BE,t],v:[{b:/"/,e:/"/},{b:/'/,e:/'/}]},{b:"([a-z]+):/",e:"\\s",eW:!0,eE:!0,c:[t]},{cN:"regexp",c:[e.BE,t],v:[{b:"\\s\\^",e:"\\s|{|;",rE:!0},{b:"~\\*?\\s+",e:"\\s|{|;",rE:!0},{b:"\\*(\\.[a-z\\-]+)+"},{b:"([a-z\\-]+\\.)+\\*"}]},{cN:"number",b:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{cN:"number",b:"\\b\\d+[kKmMgGdshdwy]*\\b",relevance:0},t]};return{aliases:["nginxconf"],c:[e.HCM,{b:e.UIR+"\\s+{",rB:!0,e:"{",c:[{cN:"section",b:e.UIR}],relevance:0},{b:e.UIR+"\\s",e:";|{",rB:!0,c:[{cN:"attribute",b:e.UIR,starts:r}],relevance:0}],i:"[^\\s\\}]"}}),hljs.registerLanguage("go",function(e){var t={keyword:"break default func interface select case map struct chan else goto package switch const fallthrough if range type continue for import return var go defer bool byte complex64 complex128 float32 float64 int8 int16 int32 int64 string uint8 uint16 uint32 uint64 int uint uintptr rune",literal:"true false iota nil",built_in:"append cap close complex copy imag len make new panic print println real recover delete"};return{aliases:["golang"],k:t,i:"</",c:[e.CLCM,e.CBCM,{cN:"string",v:[e.QSM,{b:"'",e:"[^\\\\]'"},{b:"`",e:"`"}]},{cN:"number",v:[{b:e.CNR+"[i]",relevance:1},e.CNM]},{b:/:=/},{cN:"function",bK:"func",e:"\\s*(\\{|$)",eE:!0,c:[e.TM,{cN:"params",b:/\(/,e:/\)/,k:t,i:/["']/}]}]}}),hljs.registerLanguage("javascript",function(e){var t="[A-Za-z$_][0-9A-Za-z$_]*",r={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},a={cN:"number",v:[{b:"\\b(0[bB][01]+)n?"},{b:"\\b(0[oO][0-7]+)n?"},{b:e.CNR+"n?"}],relevance:0},n={cN:"subst",b:"\\$\\{",e:"\\}",k:r,c:[]},i={b:"html`",e:"",starts:{e:"`",rE:!1,c:[e.BE,n],sL:"xml"}},s={b:"css`",e:"",starts:{e:"`",rE:!1,c:[e.BE,n],sL:"css"}},c={cN:"string",b:"`",e:"`",c:[e.BE,n]};n.c=[e.ASM,e.QSM,i,s,c,a,e.RM];var o=n.c.concat([e.CBCM,e.CLCM]);return{aliases:["js","jsx"],k:r,c:[{cN:"meta",relevance:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},e.ASM,e.QSM,i,s,c,e.CLCM,e.CBCM,a,{b:/[{,\n]\s*/,relevance:0,c:[{b:t+"\\s*:",rB:!0,relevance:0,c:[{cN:"attr",b:t,relevance:0}]}]},{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{cN:"function",b:"(\\(.*?\\)|"+t+")\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:t},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:r,c:o}]}]},{cN:"",b:/\s/,e:/\s*/,skip:!0},{b:/</,e:/(\/[A-Za-z0-9\\._:-]+|[A-Za-z0-9\\._:-]+\/)>/,sL:"xml",c:[{b:/<[A-Za-z0-9\\._:-]+\s*\/>/,skip:!0},{b:/<[A-Za-z0-9\\._:-]+/,e:/(\/[A-Za-z0-9\\._:-]+|[A-Za-z0-9\\._:-]+\/)>/,skip:!0,c:[{b:/<[A-Za-z0-9\\._:-]+\s*\/>/,skip:!0},"self"]}]}],relevance:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[e.inherit(e.TM,{b:t}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:o}],i:/\[|%/},{b:/\$[(.]/},e.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},e.UTM]},{bK:"constructor get set",e:/\{/,eE:!0}],i:/#(?!!)/}}),hljs.registerLanguage("php",function(e){var t={b:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"},r={cN:"meta",b:/<\?(php)?|\?>/},a={cN:"string",c:[e.BE,r],v:[{b:'b"',e:'"'},{b:"b'",e:"'"},e.inherit(e.ASM,{i:null}),e.inherit(e.QSM,{i:null})]},n={v:[e.BNM,e.CNM]};return{aliases:["php","php3","php4","php5","php6","php7"],cI:!0,k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",c:[e.HCM,e.C("//","$",{c:[r]}),e.C("/\\*","\\*/",{c:[{cN:"doctag",b:"@[A-Za-z]+"}]}),e.C("__halt_compiler.+?;",!1,{eW:!0,k:"__halt_compiler",l:e.UIR}),{cN:"string",b:/<<<['"]?\w+['"]?$/,e:/^\w+;?$/,c:[e.BE,{cN:"subst",v:[{b:/\$\w+/},{b:/\{\$/,e:/\}/}]}]},r,{cN:"keyword",b:/\$this\b/},t,{b:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{cN:"function",bK:"function",e:/[;{]/,eE:!0,i:"\\$|\\[|%",c:[e.UTM,{cN:"params",b:"\\(",e:"\\)",c:["self",t,e.CBCM,a,n]}]},{cN:"class",bK:"class interface",e:"{",eE:!0,i:/[:\(\$"]/,c:[{bK:"extends implements"},e.UTM]},{bK:"namespace",e:";",i:/[\.']/,c:[e.UTM]},{bK:"use",e:";",c:[e.UTM]},{b:"=>"},a,n]}}),hljs.registerLanguage("cs",function(e){var t={keyword:"abstract as base bool break byte case catch char checked const continue decimal default delegate do double enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long object operator out override params private protected public readonly ref sbyte sealed short sizeof stackalloc static string struct switch this try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending async await by descending dynamic equals from get global group into join let nameof on orderby partial remove select set value var when where yield",literal:"null false true"},r={cN:"number",v:[{b:"\\b(0b[01']+)"},{b:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{b:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},a={cN:"string",b:'@"',e:'"',c:[{b:'""'}]},n=e.inherit(a,{i:/\n/}),i={cN:"subst",b:"{",e:"}",k:t},s=e.inherit(i,{i:/\n/}),c={cN:"string",b:/\$"/,e:'"',i:/\n/,c:[{b:"{{"},{b:"}}"},e.BE,s]},o={cN:"string",b:/\$@"/,e:'"',c:[{b:"{{"},{b:"}}"},{b:'""'},i]},l=e.inherit(o,{i:/\n/,c:[{b:"{{"},{b:"}}"},{b:'""'},s]});i.c=[o,c,a,e.ASM,e.QSM,r,e.CBCM],s.c=[l,c,n,e.ASM,e.QSM,r,e.inherit(e.CBCM,{i:/\n/})];var d={v:[o,c,a,e.ASM,e.QSM]},u=e.IR+"(<"+e.IR+"(\\s*,\\s*"+e.IR+")*>)?(\\[\\])?";return{aliases:["csharp","c#"],k:t,i:/::/,c:[e.C("///","$",{rB:!0,c:[{cN:"doctag",v:[{b:"///",relevance:0},{b:"\x3c!--|--\x3e"},{b:"</?",e:">"}]}]}),e.CLCM,e.CBCM,{cN:"meta",b:"#",e:"$",k:{"meta-keyword":"if else elif endif define undef warning error line region endregion pragma checksum"}},d,r,{bK:"class interface",e:/[{;=]/,i:/[^\s:,]/,c:[e.TM,e.CLCM,e.CBCM]},{bK:"namespace",e:/[{;=]/,i:/[^\s:]/,c:[e.inherit(e.TM,{b:"[a-zA-Z](\\.?\\w)*"}),e.CLCM,e.CBCM]},{cN:"meta",b:"^\\s*\\[",eB:!0,e:"\\]",eE:!0,c:[{cN:"meta-string",b:/"/,e:/"/}]},{bK:"new return throw await else",relevance:0},{cN:"function",b:"("+u+"\\s+)+"+e.IR+"\\s*\\(",rB:!0,e:/\s*[{;=]/,eE:!0,k:t,c:[{b:e.IR+"\\s*\\(",rB:!0,c:[e.TM],relevance:0},{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,k:t,relevance:0,c:[d,r,e.CBCM]},e.CLCM,e.CBCM]}]}}),hljs.registerLanguage("lua",function(e){var t="\\[=*\\[",r="\\]=*\\]",a={b:t,e:r,c:["self"]},n=[e.C("--(?!"+t+")","$"),e.C("--"+t,r,{c:[a],relevance:10})];return{l:e.UIR,k:{literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstringmodule next pairs pcall print rawequal rawget rawset require select setfenvsetmetatable tonumber tostring type unpack xpcall arg selfcoroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},c:n.concat([{cN:"function",bK:"function",e:"\\)",c:[e.inherit(e.TM,{b:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{cN:"params",b:"\\(",eW:!0,c:n}].concat(n)},e.CNM,e.ASM,e.QSM,{cN:"string",b:t,e:r,c:[a],relevance:5}])}}),hljs.registerLanguage("cpp",function(e){var t={cN:"keyword",b:"\\b[a-z\\d_]*_t\\b"},r={cN:"string",v:[{b:'(u8?|U|L)?"',e:'"',i:"\\n",c:[e.BE]},{b:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",e:"'",i:"."},{b:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\((?:.|\n)*?\)\1"/}]},a={cN:"number",v:[{b:"\\b(0b[01']+)"},{b:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{b:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},n={cN:"meta",b:/#\s*[a-z]+\b/,e:/$/,k:{"meta-keyword":"if else elif endif define undef warning error line pragma ifdef ifndef include"},c:[{b:/\\\n/,relevance:0},e.inherit(r,{cN:"meta-string"}),{cN:"meta-string",b:/<[^\n>]*>/,e:/$/,i:"\\n"},e.CLCM,e.CBCM]},i=e.IR+"\\s*\\(",s={keyword:"int float while private char catch import module export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr consteval constinit decltype concept co_await co_return co_yield requires noexcept static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong new throw return and or not",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr",literal:"true false nullptr NULL"},c=[t,e.CLCM,e.CBCM,a,r];return{aliases:["c","cc","h","c++","h++","hpp","hh","hxx","cxx"],k:s,i:"</",c:c.concat([n,{b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:s,c:["self",t]},{b:e.IR+"::",k:s},{v:[{b:/=/,e:/;/},{b:/\(/,e:/\)/},{bK:"new throw return else",e:/;/}],k:s,c:c.concat([{b:/\(/,e:/\)/,k:s,c:c.concat(["self"]),relevance:0}]),relevance:0},{cN:"function",b:"("+e.IR+"[\\*&\\s]+)+"+i,rB:!0,e:/[{;=]/,eE:!0,k:s,i:/[^\w\s\*&]/,c:[{b:i,rB:!0,c:[e.TM],relevance:0},{cN:"params",b:/\(/,e:/\)/,k:s,relevance:0,c:[e.CLCM,e.CBCM,r,a,t,{b:/\(/,e:/\)/,k:s,relevance:0,c:["self",e.CLCM,e.CBCM,r,a,t]}]},e.CLCM,e.CBCM,n]},{cN:"class",bK:"class struct",e:/[{;:]/,c:[{b:/</,e:/>/,c:["self"]},e.TM]}]),exports:{preprocessor:n,strings:r,k:s}}});
var selectRange=function(e){this.__element=e};selectRange.of=function(e){return e?new selectRange(e):{}},selectRange.prototype={constructor:selectRange,getCurPos:function(){var e,t=this.__element,n=0;return document.selection?(t.focus(),(e=document.selection.createRange()).moveStart("character",-t.value.length),n=e.text.length):!t.selectionStart&&"0"!=t.selectionStart||(n=t.selectionStart),n},setCurPos:function(e){var t,n=this.__element;n.setSelectionRange?(n.focus(),n.setSelectionRange(e,e)):n.createTextRange&&((t=n.createTextRange()).collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select())},getSelectText:function(){var e,t="";return window.getSelection?e=window.getSelection():document.selection&&(e=document.selection.createRange()),(t=e.text)||(t=e),t},setSelectText:function(e,t){var n,c=this.__element,e=parseInt(e),t=parseInt(t),a=c.value.length;a&&(a<(e=e||0)&&(e=a),a<(t=t||a)&&(t=a),e<0&&(e=a+e),t<0&&(t=a+t),c.createTextRange?((n=c.createTextRange()).moveStart("character",-a),n.moveEnd("character",-a),n.moveStart("character",e),n.moveEnd("character",t),n.select()):(c.setSelectionRange(e,t),c.focus()))},insertAfterText:function(e){var t,n,c,a=this.__element;document.selection?(a.focus(),document.selection.createRange().text=e,a.focus()):a.selectionStart||"0"==a.selectionStart?(t=a.selectionStart,n=a.selectionEnd,c=a.scrollTop,a.value=a.value.substring(0,t)+e+a.value.substring(n,a.value.length),a.focus(),a.selectionStart=t+e.length,a.selectionEnd=t+e.length,a.scrollTop=c):(a.value+=e,a.focus())}};
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r){function e(e){"object"!==_typeof(e)||(this.option=r.extend({},o,e))}var o={commentFormSelector:"#commentForm",commentsWrapEl:r(".comments-wrap"),toggleLoadComments:r.noop(),url:"",params:{},commentedAutoScrollToTop:!0,contentField:"content",commentMaxLength:1e3};e.prototype.init=function(){var e=this;e.commentsWrapEl=e.option.commentsWrapEl,e.initCommentForm(),e.initToolBoxPopup()},e.prototype.initCommentForm=function(){var n=this;n.commentFormVue=new Vue({el:n.option.commentFormSelector,data:function(){return{commentMaxLength:n.option.commentMaxLength||1e3,commentContent:"",commentPublishLoading:!1,tipMessage:{show:!1,content:"",className:""},curEmojiType:"People",emojiList:[{type:"People",items:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"]},{type:"Nature",items:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"]},{type:"Objects",items:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"]},{type:"Places",items:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"]},{type:"Symbols",items:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}]}},computed:{curEmojiItems:function(){for(var e=0,o=this.emojiList.length;e<o;e++)if(this.emojiList[e].type===this.curEmojiType)return this.emojiList[e].items;return this.emojiList[0].items},commentContentIsEmpty:function(){return 0===this.commentContent.length},commentCountText:function(){return this.commentContent.length+"/"+this.commentMaxLength}},methods:{insertEmoji:function(e){this.clearMessage();var o=":"+e+":";this.insertContent(o),r(this.$refs.showEmojiBox).popup("hide")},insertProject:function(){this.clearMessage();var e,o,t="#此处输入软件#";this.insertContent(t)&&(o=(e=selectRange.of(this.$refs.commentTextarea)).getCurPos(),e.setSelectText(o-(t.length-1),o-1))},publishComment:function(){var e,a=this;a.tweetPublishLoading||(a.clearMessage(),a.commentContentIsEmpty?a.showMessage("error","内容不能为空",2e3):a.commentContent.length>a.commentMaxLength?a.showMessage("error","最多只能输入"+a.commentMaxLength+"个字符！",2e3):(a.commentPublishLoading=!0,(e={})[n.option.contentField]=a.commentContent,"object"===_typeof(n.option.params)&&(e=r.extend({},e,n.option.params)),r.post(n.option.url,e,function(e){var o,t;1===e.code?(e.message&&r("body").toast({type:"success",content:e.message}),a.commentContent="",r.isFunction(n.option.toggleLoadComments)&&n.option.toggleLoadComments.call(this),o=r(".float-menu .comment-btn"),e.result&&void 0!==e.result.replyCount&&(t=e.result.replyCount,r("[data-article-reply-count]").html(t),o.attr("title","共有 "+t+" 条评论")),o.find(".icon").removeClass("outline"),!0===n.option.commentedAutoScrollToTop&&r("html, body").stop().animate({scrollTop:n.commentsWrapEl.offset().top-80},500,"swing"),a.removeCommentForm()):a.showMessage("error",e.message||"发布失败",2e3)}).fail(function(){a.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){a.commentPublishLoading=!1})))},commentContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&this.publishComment()},insertContent:function(e){return!this.commentPublishLoading&&(this.commentContent.length>=this.commentMaxLength||this.commentContent.length+e.length>this.commentMaxLength?void this.showMessage("error","最多只能输入"+this.commentMaxLength+"个字符！",2e3):(selectRange.of(this.$refs.commentTextarea).insertAfterText(e),this.commentContent=this.$refs.commentTextarea.value,!0))},showMessage:function(e,o,t){var a=this;a.tipMessage.className="success"===e?"positive":"negative",a.tipMessage.content=o;var n=parseInt(t)||0;a.tipMessage.show=!0,0<n&&setTimeout(function(){a.clearMessage()},n)},clearMessage:function(){var e=this;e.tipMessage.className="",e.tipMessage.content="",e.tipMessage.show=!1},focus:function(){this.$refs.commentTextarea.focus()},removeCommentForm:function(){this.$el.remove(),this.$destroy()}}}),n.commentFormVue.$el.vueInstance=n.commentFormVue},e.prototype.focus=function(){var e=this;e.commentFormVue&&r.isFunction(e.commentFormVue.focus)&&e.commentFormVue.focus()},e.prototype.insertContent=function(e){var o=this;o.commentFormVue&&r.isFunction(o.commentFormVue.insertContent)&&o.commentFormVue.insertContent(e)},e.prototype.initToolBoxPopup=function(){r(this.commentFormVue.$el).find(".toolbox > .item[data-popup]").each(function(e,o){var t=r(o),a=r(t).parent().find(".toolbox-popup."+t.attr("data-popup"));t.popup({position:"bottom left",popup:a,on:"toolbox-picture"===t.attr("data-popup")?"manual":"click",exclusive:!0})})},window.OSCCommentForm=e}(window.jQuery||window.$);
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e,i;function w(){return e.apply(null,arguments)}function h(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function l(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function d(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function m(e,t){for(var n=[],s=0;s<e.length;++s)n.push(t(e[s],s));return n}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _(e,t){for(var n in t)p(t,n)&&(e[n]=t[n]);return p(t,"toString")&&(e.toString=t.toString),p(t,"valueOf")&&(e.valueOf=t.valueOf),e}function y(e,t,n,s){return Dt(e,t,n,s,!0).utc()}function v(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=v(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function M(e){var t=y(NaN);return null!=e?_(v(t),e):v(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var r=w.momentProperties=[];function k(e,t){var n,s,i;if(d(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),d(t._i)||(e._i=t._i),d(t._f)||(e._f=t._f),d(t._l)||(e._l=t._l),d(t._strict)||(e._strict=t._strict),d(t._tzm)||(e._tzm=t._tzm),d(t._isUTC)||(e._isUTC=t._isUTC),d(t._offset)||(e._offset=t._offset),d(t._pf)||(e._pf=v(t)),d(t._locale)||(e._locale=t._locale),0<r.length)for(n=0;n<r.length;n++)d(i=t[s=r[n]])||(e[s]=i);return e}var t=!1;function S(e){k(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,w.updateOffset(this),t=!1)}function D(e){return e instanceof S||null!=e&&null!=e._isAMomentObject}function Y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function O(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=Y(t)),n}function a(e,t,n){for(var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0,a=0;a<s;a++)(n&&e[a]!==t[a]||!n&&O(e[a])!==O(t[a]))&&r++;return r+i}function n(i,r){var a=!0;return _(function(){if(null!=w.deprecationHandler&&w.deprecationHandler(null,i),a){for(var e,t=[],n=0;n<arguments.length;n++){if(e="","object"==typeof arguments[n]){for(var s in e+="\n["+n+"] ",arguments[0])e+=s+": "+arguments[0][s]+", ";e=e.slice(0,-2)}else e=arguments[n];t.push(e)}Array.prototype.slice.call(t).join(""),(new Error).stack,a=!1}return r.apply(this,arguments)},r)}var s,o={};function u(e,t){null!=w.deprecationHandler&&w.deprecationHandler(e,t),o[e]||(o[e]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function b(e,t){var n,s=_({},e);for(n in t)p(t,n)&&(l(e[n])&&l(t[n])?(s[n]={},_(s[n],e[n]),_(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)p(e,n)&&!p(t,n)&&l(e[n])&&(s[n]=_({},s[n]));return s}function x(e){null!=e&&this.set(e)}w.suppressDeprecationWarnings=!1,w.deprecationHandler=null,s=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)p(e,t)&&n.push(t);return n};var P={};function W(e,t){var n=e.toLowerCase();P[n]=P[n+"s"]=P[t]=e}function C(e){return"string"==typeof e?P[e]||P[e.toLowerCase()]:void 0}function H(e){var t,n,s={};for(n in e)p(e,n)&&(t=C(n))&&(s[t]=e[n]);return s}var R={};function U(e,t){R[e]=t}function F(e,t,n){var s=""+Math.abs(e),i=t-s.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,G={},V={};function E(e,t,n,s){var i="string"==typeof s?function(){return this[s]()}:s;e&&(V[e]=i),t&&(V[t[0]]=function(){return F(i.apply(this,arguments),t[1],t[2])}),n&&(V[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function I(e,t){return e.isValid()?(t=A(t,e.localeData()),G[t]=G[t]||function(s){for(var e,i=s.match(L),t=0,r=i.length;t<r;t++)V[i[t]]?i[t]=V[i[t]]:i[t]=(e=i[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<r;n++)t+=T(i[n])?i[n].call(e,s):i[n];return t}}(t),G[t](e)):e.localeData().invalidDate()}function A(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(N.lastIndex=0;0<=n&&N.test(e);)e=e.replace(N,s),N.lastIndex=0,--n;return e}var j=/\d/,Z=/\d\d/,z=/\d{3}/,$=/\d{4}/,q=/[+-]?\d{6}/,J=/\d\d?/,B=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,X=/\d{1,3}/,K=/\d{1,4}/,ee=/[+-]?\d{1,6}/,te=/\d+/,ne=/[+-]?\d+/,se=/Z|[+-]\d\d:?\d\d/gi,ie=/Z|[+-]\d\d(?::?\d\d)?/gi,re=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ae={};function oe(e,n,s){ae[e]=T(n)?n:function(e,t){return e&&s?s:n}}function ue(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function le(e,n){var t,s=n;for("string"==typeof e&&(e=[e]),c(n)&&(s=function(e,t){t[n]=O(e)}),t=0;t<e.length;t++)he[e[t]]=s}function de(e,i){le(e,function(e,t,n,s){n._w=n._w||{},i(e,n._w,n,s)})}var ce=0,fe=1,me=2,_e=3,ye=4,ge=5,pe=6,we=7,ve=8;function Me(e){return ke(e)?366:365}function ke(e){return e%4==0&&e%100!=0||e%400==0}E("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),W("year","y"),U("year",1),oe("Y",ne),oe("YY",J,Z),oe("YYYY",K,$),oe("YYYYY",ee,q),oe("YYYYYY",ee,q),le(["YYYYY","YYYYYY"],ce),le("YYYY",function(e,t){t[ce]=2===e.length?w.parseTwoDigitYear(e):O(e)}),le("YY",function(e,t){t[ce]=w.parseTwoDigitYear(e)}),le("Y",function(e,t){t[ce]=parseInt(e,10)}),w.parseTwoDigitYear=function(e){return O(e)+(68<O(e)?1900:2e3)};var Se,De=Ye("FullYear",!0);function Ye(t,n){return function(e){return null!=e?(Te(this,t,e),w.updateOffset(this,n),this):Oe(this,t)}}function Oe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Te(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ke(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),be(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function be(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1==n?ke(e)?29:28:31-n%7%2}Se=Array.prototype.indexOf?Array.prototype.indexOf:function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),E("MMMM",0,0,function(e){return this.localeData().months(this,e)}),W("month","M"),U("month",8),oe("M",J),oe("MM",J,Z),oe("MMM",function(e,t){return t.monthsShortRegex(e)}),oe("MMMM",function(e,t){return t.monthsRegex(e)}),le(["M","MM"],function(e,t){t[fe]=O(e)-1}),le(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[fe]=i:v(n).invalidMonth=e});var xe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),We="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ce(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=O(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),be(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function He(e){return null!=e?(Ce(this,e),w.updateOffset(this,!0),this):Oe(this,"Month")}var Re=re,Ue=re;function Fe(){function e(e,t){return t.length-e.length}for(var t,n=[],s=[],i=[],r=0;r<12;r++)t=y([2e3,r]),n.push(this.monthsShort(t,"")),s.push(this.months(t,"")),i.push(this.months(t,"")),i.push(this.monthsShort(t,""));for(n.sort(e),s.sort(e),i.sort(e),r=0;r<12;r++)n[r]=ue(n[r]),s[r]=ue(s[r]);for(r=0;r<24;r++)i[r]=ue(i[r]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Le(e){var t,n;return e<100&&0<=e?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ne(e,t,n){var s=7+t-n;return-(7+Le(e,0,s).getUTCDay()-t)%7+s-1}function Ge(e,t,n,s,i){var r,a=1+7*(t-1)+(7+n-s)%7+Ne(e,s,i),o=a<=0?Me(r=e-1)+a:a>Me(e)?(r=e+1,a-Me(e)):(r=e,a);return{year:r,dayOfYear:o}}function Ve(e,t,n){var s,i,r=Ne(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?s=a+Ee(i=e.year()-1,t,n):a>Ee(e.year(),t,n)?(s=a-Ee(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function Ee(e,t,n){var s=Ne(e,t,n),i=Ne(e+1,t,n);return(Me(e)-s+i)/7}function Ie(e,t){return e.slice(t,7).concat(e.slice(0,t))}E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),W("week","w"),W("isoWeek","W"),U("week",5),U("isoWeek",5),oe("w",J),oe("ww",J,Z),oe("W",J),oe("WW",J,Z),de(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=O(e)}),E("d",0,"do","day"),E("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),E("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),E("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),W("day","d"),W("weekday","e"),W("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),oe("d",J),oe("e",J),oe("E",J),oe("dd",function(e,t){return t.weekdaysMinRegex(e)}),oe("ddd",function(e,t){return t.weekdaysShortRegex(e)}),oe("dddd",function(e,t){return t.weekdaysRegex(e)}),de(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:v(n).invalidWeekday=e}),de(["d","e","E"],function(e,t,n,s){t[s]=O(e)});var Ae="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ze=re,$e=re,qe=re;function Je(){function e(e,t){return t.length-e.length}for(var t,n,s,i,r=[],a=[],o=[],u=[],h=0;h<7;h++)t=y([2e3,1]).day(h),n=this.weekdaysMin(t,""),s=this.weekdaysShort(t,""),i=this.weekdays(t,""),r.push(n),a.push(s),o.push(i),u.push(n),u.push(s),u.push(i);for(r.sort(e),a.sort(e),o.sort(e),u.sort(e),h=0;h<7;h++)a[h]=ue(a[h]),o[h]=ue(o[h]),u[h]=ue(u[h]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Be(){return this.hours()%12||12}function Qe(e,t){E(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Xe(e,t){return t._meridiemParse}E("H",["HH",2],0,"hour"),E("h",["hh",2],0,Be),E("k",["kk",2],0,function(){return this.hours()||24}),E("hmm",0,0,function(){return""+Be.apply(this)+F(this.minutes(),2)}),E("hmmss",0,0,function(){return""+Be.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),E("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),E("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),Qe("a",!0),Qe("A",!1),W("hour","h"),U("hour",13),oe("a",Xe),oe("A",Xe),oe("H",J),oe("h",J),oe("k",J),oe("HH",J,Z),oe("hh",J,Z),oe("kk",J,Z),oe("hmm",B),oe("hmmss",Q),oe("Hmm",B),oe("Hmmss",Q),le(["H","HH"],_e),le(["k","kk"],function(e,t,n){var s=O(e);t[_e]=24===s?0:s}),le(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),le(["h","hh"],function(e,t,n){t[_e]=O(e),v(n).bigHour=!0}),le("hmm",function(e,t,n){var s=e.length-2;t[_e]=O(e.substr(0,s)),t[ye]=O(e.substr(s)),v(n).bigHour=!0}),le("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[_e]=O(e.substr(0,s)),t[ye]=O(e.substr(s,2)),t[ge]=O(e.substr(i)),v(n).bigHour=!0}),le("Hmm",function(e,t,n){var s=e.length-2;t[_e]=O(e.substr(0,s)),t[ye]=O(e.substr(s))}),le("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[_e]=O(e.substr(0,s)),t[ye]=O(e.substr(s,2)),t[ge]=O(e.substr(i))});var Ke,et=Ye("Hours",!0),tt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pe,monthsShort:We,week:{dow:0,doy:6},weekdays:Ae,weekdaysMin:Ze,weekdaysShort:je,meridiemParse:/[ap]\.?m?\.?/i},nt={},st={};function it(e){return e?e.toLowerCase().replace("_","-"):e}function rt(e){var t=null;if(!nt[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Ke._abbr,require("./locale/"+e),at(t)}catch(e){}return nt[e]}function at(e,t){var n;return e&&(n=d(t)?ut(e):ot(e,t))&&(Ke=n),Ke._abbr}function ot(e,t){if(null===t)return delete nt[e],null;var n,s=tt;if(t.abbr=e,null!=nt[e])u("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=nt[e]._config;else if(null!=t.parentLocale)if(null!=nt[t.parentLocale])s=nt[t.parentLocale]._config;else{if(null==(n=rt(t.parentLocale)))return st[t.parentLocale]||(st[t.parentLocale]=[]),st[t.parentLocale].push({name:e,config:t}),null;s=n._config}return nt[e]=new x(b(s,t)),st[e]&&st[e].forEach(function(e){ot(e.name,e.config)}),at(e),nt[e]}function ut(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ke;if(!h(e)){if(t=rt(e))return t;e=[e]}return function(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=it(e[r]).split("-")).length,n=(n=it(e[r+1]))?n.split("-"):null;0<t;){if(s=rt(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&a(i,n,!0)>=t-1)break;t--}r++}return Ke}(e)}function ht(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[fe]<0||11<n[fe]?fe:n[me]<1||n[me]>be(n[ce],n[fe])?me:n[_e]<0||24<n[_e]||24===n[_e]&&(0!==n[ye]||0!==n[ge]||0!==n[pe])?_e:n[ye]<0||59<n[ye]?ye:n[ge]<0||59<n[ge]?ge:n[pe]<0||999<n[pe]?pe:-1,v(e)._overflowDayOfYear&&(t<ce||me<t)&&(t=me),v(e)._overflowWeeks&&-1===t&&(t=we),v(e)._overflowWeekday&&-1===t&&(t=ve),v(e).overflow=t),e}function lt(e,t,n){return null!=e?e:null!=t?t:n}function dt(e){var t,n,s,i,r,a,o,u,h,l,d,c,f,m,_=[];if(!e._d){var y=e,g=new Date(w.now()),p=y._useUTC?[g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()]:[g.getFullYear(),g.getMonth(),g.getDate()];for(e._w&&null==e._a[me]&&null==e._a[fe]&&(null!=(a=(r=e)._w).GG||null!=a.W||null!=a.E?(u=1,h=4,f=lt(a.GG,r._a[ce],Ve(Yt(),1,4).year),m=lt(a.W,1),((o=lt(a.E,1))<1||7<o)&&(d=!0)):(u=r._locale._week.dow,h=r._locale._week.doy,c=Ve(Yt(),u,h),f=lt(a.gg,r._a[ce],c.year),m=lt(a.w,c.week),null!=a.d?((o=a.d)<0||6<o)&&(d=!0):null!=a.e?(o=a.e+u,(a.e<0||6<a.e)&&(d=!0)):o=u),m<1||m>Ee(f,u,h)?v(r)._overflowWeeks=!0:null!=d?v(r)._overflowWeekday=!0:(l=Ge(f,m,o,u,h),r._a[ce]=l.year,r._dayOfYear=l.dayOfYear)),null!=e._dayOfYear&&(i=lt(e._a[ce],p[ce]),(e._dayOfYear>Me(i)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=Le(i,0,e._dayOfYear),e._a[fe]=n.getUTCMonth(),e._a[me]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=_[t]=p[t];for(;t<7;t++)e._a[t]=_[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[_e]&&0===e._a[ye]&&0===e._a[ge]&&0===e._a[pe]&&(e._nextDay=!0,e._a[_e]=0),e._d=(e._useUTC?Le:function(e,t,n,s,i,r,a){var o;return e<100&&0<=e?(o=new Date(e+400,t,n,s,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,i,r,a),o}).apply(null,_),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[_e]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(v(e).weekdayMismatch=!0)}}var ct=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ft=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/Z|[+-]\d\d(?::?\d\d)?/,_t=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],yt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],gt=/^\/?Date\((\-?\d+)/i;function pt(e){var t,n,s,i,r,a,o=e._i,u=ct.exec(o)||ft.exec(o);if(u){for(v(e).iso=!0,t=0,n=_t.length;t<n;t++)if(_t[t][1].exec(u[1])){i=_t[t][0],s=!1!==_t[t][2];break}if(null==i)return e._isValid=!1;if(u[3]){for(t=0,n=yt.length;t<n;t++)if(yt[t][1].exec(u[3])){r=(u[2]||" ")+yt[t][0];break}if(null==r)return e._isValid=!1}if(!s&&null!=r)return e._isValid=!1;if(u[4]){if(!mt.exec(u[4]))return e._isValid=!1;a="Z"}e._f=i+(r||"")+(a||""),kt(e)}else e._isValid=!1}var wt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var vt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Mt(e){var t,n,s,i,r,a,o,u,h=wt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(h){var l,d=(t=h[4],n=h[3],s=h[2],i=h[5],r=h[6],a=h[7],u=[(o=parseInt(t,10))<=49?2e3+o:o<=999?1900+o:o,We.indexOf(n),parseInt(s,10),parseInt(i,10),parseInt(r,10)],a&&u.push(parseInt(a,10)),u),c=d,f=e;if((l=h[1])&&je.indexOf(l)!==new Date(c[0],c[1],c[2]).getDay()&&(v(f).weekdayMismatch=!0,!(f._isValid=!1)))return;e._a=d,e._tzm=function(e,t,n){if(e)return vt[e];if(t)return 0;var s=parseInt(n,10),i=s%100;return(s-i)/100*60+i}(h[8],h[9],h[10]),e._d=Le.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function kt(e){if(e._f!==w.ISO_8601)if(e._f!==w.RFC_2822){e._a=[],v(e).empty=!0;for(var t,n,s,i,r,a,o=""+e._i,u=o.length,h=0,l=A(e._f,e._locale).match(L)||[],d=0;d<l.length;d++)n=l[d],(t=(o.match((g=e,p(ae,y=n)?ae[y](g._strict,g._locale):new RegExp(ue(y.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i})))))||[])[0])&&(0<(s=o.substr(0,o.indexOf(t))).length&&v(e).unusedInput.push(s),o=o.slice(o.indexOf(t)+t.length),h+=t.length),V[n]?(t?v(e).empty=!1:v(e).unusedTokens.push(n),i=n,a=e,null!=(r=t)&&p(he,i)&&he[i](r,a._a,a,i)):e._strict&&!t&&v(e).unusedTokens.push(n);v(e).charsLeftOver=u-h,0<o.length&&v(e).unusedInput.push(o),e._a[_e]<=12&&!0===v(e).bigHour&&0<e._a[_e]&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[_e]=(c=e._locale,f=e._a[_e],null==(m=e._meridiem)?f:null!=c.meridiemHour?c.meridiemHour(f,m):(null!=c.isPM&&((_=c.isPM(m))&&f<12&&(f+=12),_||12!==f||(f=0)),f)),dt(e),ht(e)}else Mt(e);else pt(e);var c,f,m,_,y,g}function St(e){var t,n,s,i,r,a,o=e._i,u=e._f;return e._locale=e._locale||ut(e._l),null===o||void 0===u&&""===o?M({nullInput:!0}):("string"==typeof o&&(e._i=o=e._locale.preparse(o)),D(o)?new S(ht(o)):(f(o)?e._d=o:h(u)?function(e){var t,n,s,i,r;if(0===e._f.length)return v(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)r=0,t=k({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],kt(t),g(t)&&(r+=v(t).charsLeftOver,r+=10*v(t).unusedTokens.length,v(t).score=r,(null==s||r<s)&&(s=r,n=t));_(e,n||t)}(e):u?kt(e):d(n=(t=e)._i)?t._d=new Date(w.now()):f(n)?t._d=new Date(n.valueOf()):"string"==typeof n?(s=t,null===(i=gt.exec(s._i))?(pt(s),!1===s._isValid&&(delete s._isValid,Mt(s),!1===s._isValid&&(delete s._isValid,w.createFromInputFallback(s)))):s._d=new Date(+i[1])):h(n)?(t._a=m(n.slice(0),function(e){return parseInt(e,10)}),dt(t)):l(n)?(r=t)._d||(a=H(r._i),r._a=m([a.year,a.month,a.day||a.date,a.hour,a.minute,a.second,a.millisecond],function(e){return e&&parseInt(e,10)}),dt(r)):c(n)?t._d=new Date(n):w.createFromInputFallback(t),g(e)||(e._d=null),e))}function Dt(e,t,n,s,i){var r,a={};return!0!==n&&!1!==n||(s=n,n=void 0),(l(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return;return 1}(e)||h(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=s,(r=new S(ht(St(a))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function Yt(e,t,n,s){return Dt(e,t,n,s,!1)}w.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),w.ISO_8601=function(){},w.RFC_2822=function(){};var Ot=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Yt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:M()}),Tt=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Yt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:M()});function bt(e,t){var n,s;if(1===t.length&&h(t[0])&&(t=t[0]),!t.length)return Yt();for(n=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](n)||(n=t[s]);return n}var xt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Pt(e){var t=H(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,u=t.minute||0,h=t.second||0,l=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Se.call(xt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<xt.length;++s)if(e[xt[s]]){if(n)return!1;parseFloat(e[xt[s]])!==O(e[xt[s]])&&(n=!0)}return!0}(t),this._milliseconds=+l+1e3*h+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=ut(),this._bubble()}function Wt(e){return e instanceof Pt}function Ct(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ht(e,n){E(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+F(~~(e/60),2)+n+F(~~e%60,2)})}Ht("Z",":"),Ht("ZZ",""),oe("Z",ie),oe("ZZ",ie),le(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ut(ie,e)});var Rt=/([\+\-]|\d\d)/gi;function Ut(e,t){var n=(t||"").match(e);if(null===n)return null;var s=((n[n.length-1]||[])+"").match(Rt)||["-",0,0],i=60*s[1]+O(s[2]);return 0===i?0:"+"===s[0]?i:-i}function Ft(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(D(e)||f(e)?e.valueOf():Yt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),w.updateOffset(n,!1),n):Yt(e).local()}function Lt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Nt(){return!!this.isValid()&&this._isUTC&&0===this._offset}w.updateOffset=function(){};var Gt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Vt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Et(e,t){var n,s,i,r,a,o,u=e,h=null;return Wt(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:c(e)?(u={},t?u[t]=e:u.milliseconds=e):(h=Gt.exec(e))?(n="-"===h[1]?-1:1,u={y:0,d:O(h[me])*n,h:O(h[_e])*n,m:O(h[ye])*n,s:O(h[ge])*n,ms:O(Ct(1e3*h[pe]))*n}):(h=Vt.exec(e))?(n="-"===h[1]?-1:1,u={y:It(h[2],n),M:It(h[3],n),w:It(h[4],n),d:It(h[5],n),h:It(h[6],n),m:It(h[7],n),s:It(h[8],n)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(r=Yt(u.from),a=Yt(u.to),i=r.isValid()&&a.isValid()?(a=Ft(a,r),r.isBefore(a)?o=At(r,a):((o=At(a,r)).milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0},(u={}).ms=i.milliseconds,u.M=i.months),s=new Pt(u),Wt(e)&&p(e,"_locale")&&(s._locale=e._locale),s}function It(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function At(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=t-e.clone().add(n.months,"M"),n}function jt(s,i){return function(e,t){var n;return null===t||isNaN(+t)||(u(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),Zt(this,Et(e="string"==typeof e?+e:e,t),s),this}}function Zt(e,t,n,s){var i=t._milliseconds,r=Ct(t._days),a=Ct(t._months);e.isValid()&&(s=null==s||s,a&&Ce(e,Oe(e,"Month")+a*n),r&&Te(e,"Date",Oe(e,"Date")+r*n),i&&e._d.setTime(e._d.valueOf()+i*n),s&&w.updateOffset(e,r||a))}Et.fn=Pt.prototype,Et.invalid=function(){return Et(NaN)};var zt=jt(1,"add"),$t=jt(-1,"subtract");function qt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months");return-(n+(t-s<0?(t-s)/(s-e.clone().add(n-1,"months")):(t-s)/(e.clone().add(1+n,"months")-s)))||0}function Jt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ut(e))&&(this._locale=t),this)}w.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",w.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Bt=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Qt(){return this._locale}var Xt=126227808e5;function Kt(e,t){return(e%t+t)%t}function en(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-Xt:new Date(e,t,n).valueOf()}function tn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-Xt:Date.UTC(e,t,n)}function nn(e,t){E(0,[e,e.length],0,t)}function sn(e,t,n,s,i){var r;return null==e?Ve(this,s,i).year:((r=Ee(e,s,i))<t&&(t=r),function(e,t,n,s,i){var r=Ge(e,t,n,s,i),a=Le(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,s,i))}E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100}),nn("gggg","weekYear"),nn("ggggg","weekYear"),nn("GGGG","isoWeekYear"),nn("GGGGG","isoWeekYear"),W("weekYear","gg"),W("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),oe("G",ne),oe("g",ne),oe("GG",J,Z),oe("gg",J,Z),oe("GGGG",K,$),oe("gggg",K,$),oe("GGGGG",ee,q),oe("ggggg",ee,q),de(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=O(e)}),de(["gg","GG"],function(e,t,n,s){t[s]=w.parseTwoDigitYear(e)}),E("Q",0,"Qo","quarter"),W("quarter","Q"),U("quarter",7),oe("Q",j),le("Q",function(e,t){t[fe]=3*(O(e)-1)}),E("D",["DD",2],"Do","date"),W("date","D"),U("date",9),oe("D",J),oe("DD",J,Z),oe("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),le(["D","DD"],me),le("Do",function(e,t){t[me]=O(e.match(J)[0])});var rn=Ye("Date",!0);E("DDD",["DDDD",3],"DDDo","dayOfYear"),W("dayOfYear","DDD"),U("dayOfYear",4),oe("DDD",X),oe("DDDD",z),le(["DDD","DDDD"],function(e,t,n){n._dayOfYear=O(e)}),E("m",["mm",2],0,"minute"),W("minute","m"),U("minute",14),oe("m",J),oe("mm",J,Z),le(["m","mm"],ye);var an=Ye("Minutes",!1);E("s",["ss",2],0,"second"),W("second","s"),U("second",15),oe("s",J),oe("ss",J,Z),le(["s","ss"],ge);var on,un=Ye("Seconds",!1);for(E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,function(){return 10*this.millisecond()}),E(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),E(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),E(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),E(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),E(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),W("millisecond","ms"),U("millisecond",16),oe("S",X,j),oe("SS",X,Z),oe("SSS",X,z),on="SSSS";on.length<=9;on+="S")oe(on,te);function hn(e,t){t[pe]=O(1e3*("0."+e))}for(on="S";on.length<=9;on+="S")le(on,hn);var ln=Ye("Milliseconds",!1);E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");var dn=S.prototype;function cn(e){return e}dn.add=zt,dn.calendar=function(e,t){var n=e||Yt(),s=Ft(n,this).startOf("day"),i=w.calendarFormat(this,s)||"sameElse",r=t&&(T(t[i])?t[i].call(this,n):t[i]);return this.format(r||this.localeData().calendar(i,this,Yt(n)))},dn.clone=function(){return new S(this)},dn.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Ft(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=C(t)){case"year":r=qt(this,s)/12;break;case"month":r=qt(this,s);break;case"quarter":r=qt(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:Y(r)},dn.endOf=function(e){var t;if(void 0===(e=C(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?tn:en;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-Kt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-Kt(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-Kt(t,1e3)-1}return this._d.setTime(t),w.updateOffset(this,!0),this},dn.format=function(e){e=e||(this.isUtc()?w.defaultFormatUtc:w.defaultFormat);var t=I(this,e);return this.localeData().postformat(t)},dn.from=function(e,t){return this.isValid()&&(D(e)&&e.isValid()||Yt(e).isValid())?Et({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},dn.fromNow=function(e){return this.from(Yt(),e)},dn.to=function(e,t){return this.isValid()&&(D(e)&&e.isValid()||Yt(e).isValid())?Et({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},dn.toNow=function(e){return this.to(Yt(),e)},dn.get=function(e){return T(this[e=C(e)])?this[e]():this},dn.invalidAt=function(){return v(this).overflow},dn.isAfter=function(e,t){var n=D(e)?e:Yt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=C(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},dn.isBefore=function(e,t){var n=D(e)?e:Yt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=C(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},dn.isBetween=function(e,t,n,s){var i=D(e)?e:Yt(e),r=D(t)?t:Yt(t);return!!(this.isValid()&&i.isValid()&&r.isValid())&&("("===(s=s||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===s[1]?this.isBefore(r,n):!this.isAfter(r,n))},dn.isSame=function(e,t){var n,s=D(e)?e:Yt(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=C(t)||"millisecond")?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},dn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},dn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},dn.isValid=function(){return g(this)},dn.lang=Bt,dn.locale=Jt,dn.localeData=Qt,dn.max=Tt,dn.min=Ot,dn.parsingFlags=function(){return _({},v(this))},dn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:R[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=H(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else if(T(this[e=C(e)]))return this[e](t);return this},dn.startOf=function(e){var t;if(void 0===(e=C(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?tn:en;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Kt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=Kt(t,6e4);break;case"second":t=this._d.valueOf(),t-=Kt(t,1e3)}return this._d.setTime(t),w.updateOffset(this,!0),this},dn.subtract=$t,dn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},dn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},dn.toDate=function(){return new Date(this.valueOf())},dn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?I(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",I(n,"Z")):I(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},dn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+s+"-MM-DD[T]HH:mm:ss.SSS"+i)},dn.toJSON=function(){return this.isValid()?this.toISOString():null},dn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},dn.unix=function(){return Math.floor(this.valueOf()/1e3)},dn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},dn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},dn.year=De,dn.isLeapYear=function(){return ke(this.year())},dn.weekYear=function(e){return sn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},dn.isoWeekYear=function(e){return sn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},dn.quarter=dn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},dn.month=He,dn.daysInMonth=function(){return be(this.year(),this.month())},dn.week=dn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},dn.isoWeek=dn.isoWeeks=function(e){var t=Ve(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},dn.weeksInYear=function(){var e=this.localeData()._week;return Ee(this.year(),e.dow,e.doy)},dn.isoWeeksInYear=function(){return Ee(this.year(),1,4)},dn.date=rn,dn.day=dn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-s,"d")):s},dn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},dn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,s=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?s:s-7)},dn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},dn.hour=dn.hours=et,dn.minute=dn.minutes=an,dn.second=dn.seconds=un,dn.millisecond=dn.milliseconds=ln,dn.utcOffset=function(e,t,n){var s,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Lt(this);if("string"==typeof e){if(null===(e=Ut(ie,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(s=Lt(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!t||this._changeInProgress?Zt(this,Et(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,w.updateOffset(this,!0),this._changeInProgress=null)),this},dn.utc=function(e){return this.utcOffset(0,e)},dn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Lt(this),"m")),this},dn.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Ut(se,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},dn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Yt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},dn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},dn.isLocal=function(){return!!this.isValid()&&!this._isUTC},dn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},dn.isUtc=Nt,dn.isUTC=Nt,dn.zoneAbbr=function(){return this._isUTC?"UTC":""},dn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},dn.dates=n("dates accessor is deprecated. Use date instead.",rn),dn.months=n("months accessor is deprecated. Use month instead",He),dn.years=n("years accessor is deprecated. Use year instead",De),dn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),dn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!d(this._isDSTShifted))return this._isDSTShifted;var e,t={};return k(t,this),(t=St(t))._a?(e=(t._isUTC?y:Yt)(t._a),this._isDSTShifted=this.isValid()&&0<a(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted});var fn=x.prototype;function mn(e,t,n,s){var i=ut(),r=y().set(s,t);return i[n](r,e)}function _n(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return mn(e,t,n,"month");for(var s=[],i=0;i<12;i++)s[i]=mn(e,i,n,"month");return s}function yn(e,t,n,s){"boolean"==typeof e?c(t)&&(n=t,t=void 0):(t=e,e=!1,c(n=t)&&(n=t,t=void 0)),t=t||"";var i=ut(),r=e?i._week.dow:0;if(null!=n)return mn(t,(n+r)%7,s,"day");for(var a=[],o=0;o<7;o++)a[o]=mn(t,(o+r)%7,s,"day");return a}fn.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return T(s)?s.call(t,n):s},fn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},fn.invalidDate=function(){return this._invalidDate},fn.ordinal=function(e){return this._ordinal.replace("%d",e)},fn.preparse=cn,fn.postformat=cn,fn.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return T(i)?i(e,t,n,s):i.replace(/%d/i,e)},fn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},fn.set=function(e){var t,n;for(n in e)T(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},fn.months=function(e,t){return e?h(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||xe).test(t)?"format":"standalone"][e.month()]:h(this._months)?this._months:this._months.standalone},fn.monthsShort=function(e,t){return e?h(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[xe.test(t)?"format":"standalone"][e.month()]:h(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},fn.monthsParse=function(e,t,n){var s,i,r;if(this._monthsParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=y([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Se.call(this._shortMonthsParse,a))?i:null:-1!==(i=Se.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Se.call(this._shortMonthsParse,a))||-1!==(i=Se.call(this._longMonthsParse,a))?i:null:-1!==(i=Se.call(this._longMonthsParse,a))||-1!==(i=Se.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=y([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},fn.monthsRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||Fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=Ue),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},fn.monthsShortRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||Fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Re),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},fn.week=function(e){return Ve(e,this._week.dow,this._week.doy).week},fn.firstDayOfYear=function(){return this._week.doy},fn.firstDayOfWeek=function(){return this._week.dow},fn.weekdays=function(e,t){var n=h(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ie(n,this._week.dow):e?n[e.day()]:n},fn.weekdaysMin=function(e){return!0===e?Ie(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},fn.weekdaysShort=function(e){return!0===e?Ie(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},fn.weekdaysParse=function(e,t,n){var s,i,r;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=y([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Se.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Se.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Se.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Se.call(this._weekdaysParse,a))||-1!==(i=Se.call(this._shortWeekdaysParse,a))||-1!==(i=Se.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Se.call(this._shortWeekdaysParse,a))||-1!==(i=Se.call(this._weekdaysParse,a))||-1!==(i=Se.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Se.call(this._minWeekdaysParse,a))||-1!==(i=Se.call(this._weekdaysParse,a))||-1!==(i=Se.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=y([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},fn.weekdaysRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=ze),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},fn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},fn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},fn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},fn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},at("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===O(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),w.lang=n("moment.lang is deprecated. Use moment.locale instead.",at),w.langData=n("moment.langData is deprecated. Use moment.localeData instead.",ut);var gn=Math.abs;function pn(e,t,n,s){var i=Et(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function wn(e){return e<0?Math.floor(e):Math.ceil(e)}function vn(e){return 4800*e/146097}function Mn(e){return 146097*e/4800}function kn(e){return function(){return this.as(e)}}var Sn=kn("ms"),Dn=kn("s"),Yn=kn("m"),On=kn("h"),Tn=kn("d"),bn=kn("w"),xn=kn("M"),Pn=kn("Q"),Wn=kn("y");function Cn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Hn=Cn("milliseconds"),Rn=Cn("seconds"),Un=Cn("minutes"),Fn=Cn("hours"),Ln=Cn("days"),Nn=Cn("months"),Gn=Cn("years"),Vn=Math.round,En={ss:44,s:45,m:45,h:22,d:26,M:11},In=Math.abs;function An(e){return(0<e)-(e<0)||+e}function jn(){if(!this.isValid())return this.localeData().invalidDate();var e,t=In(this._milliseconds)/1e3,n=In(this._days),s=In(this._months),i=Y((e=Y(t/60))/60);t%=60,e%=60;var r=Y(s/12),a=s%=12,o=n,u=i,h=e,l=t?t.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var c=d<0?"-":"",f=An(this._months)!==An(d)?"-":"",m=An(this._days)!==An(d)?"-":"",_=An(this._milliseconds)!==An(d)?"-":"";return c+"P"+(r?f+r+"Y":"")+(a?f+a+"M":"")+(o?m+o+"D":"")+(u||h||l?"T":"")+(u?_+u+"H":"")+(h?_+h+"M":"")+(l?_+l+"S":"")}var Zn=Pt.prototype;return Zn.isValid=function(){return this._isValid},Zn.abs=function(){var e=this._data;return this._milliseconds=gn(this._milliseconds),this._days=gn(this._days),this._months=gn(this._months),e.milliseconds=gn(e.milliseconds),e.seconds=gn(e.seconds),e.minutes=gn(e.minutes),e.hours=gn(e.hours),e.months=gn(e.months),e.years=gn(e.years),this},Zn.add=function(e,t){return pn(this,e,t,1)},Zn.subtract=function(e,t){return pn(this,e,t,-1)},Zn.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=C(e))||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+vn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Mn(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},Zn.asMilliseconds=Sn,Zn.asSeconds=Dn,Zn.asMinutes=Yn,Zn.asHours=On,Zn.asDays=Tn,Zn.asWeeks=bn,Zn.asMonths=xn,Zn.asQuarters=Pn,Zn.asYears=Wn,Zn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*O(this._months/12):NaN},Zn._bubble=function(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return 0<=r&&0<=a&&0<=o||r<=0&&a<=0&&o<=0||(r+=864e5*wn(Mn(o)+a),o=a=0),u.milliseconds=r%1e3,e=Y(r/1e3),u.seconds=e%60,t=Y(e/60),u.minutes=t%60,n=Y(t/60),u.hours=n%24,o+=i=Y(vn(a+=Y(n/24))),a-=wn(Mn(i)),s=Y(o/12),o%=12,u.days=a,u.months=o,u.years=s,this},Zn.clone=function(){return Et(this)},Zn.get=function(e){return e=C(e),this.isValid()?this[e+"s"]():NaN},Zn.milliseconds=Hn,Zn.seconds=Rn,Zn.minutes=Un,Zn.hours=Fn,Zn.days=Ln,Zn.weeks=function(){return Y(this.days()/7)},Zn.months=Nn,Zn.years=Gn,Zn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,s,i,r,a,o,u,h,l,d=this.localeData(),c=(t=!e,n=d,s=Et(this).abs(),i=Vn(s.as("s")),r=Vn(s.as("m")),a=Vn(s.as("h")),o=Vn(s.as("d")),u=Vn(s.as("M")),h=Vn(s.as("y")),(l=(i<=En.ss?["s",i]:i<En.s&&["ss",i])||r<=1&&["m"]||r<En.m&&["mm",r]||a<=1&&["h"]||a<En.h&&["hh",a]||o<=1&&["d"]||o<En.d&&["dd",o]||u<=1&&["M"]||u<En.M&&["MM",u]||h<=1&&["y"]||["yy",h])[2]=t,l[3]=0<+this,l[4]=n,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,l));return e&&(c=d.pastFuture(+this,c)),d.postformat(c)},Zn.toISOString=jn,Zn.toString=jn,Zn.toJSON=jn,Zn.locale=Jt,Zn.localeData=Qt,Zn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",jn),Zn.lang=Bt,E("X",0,0,"unix"),E("x",0,0,"valueOf"),oe("x",ne),oe("X",/[+-]?\d+(\.\d{1,3})?/),le("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),le("x",function(e,t,n){n._d=new Date(O(e))}),w.version="2.24.0",e=Yt,w.fn=dn,w.min=function(){return bt("isBefore",[].slice.call(arguments,0))},w.max=function(){return bt("isAfter",[].slice.call(arguments,0))},w.now=function(){return Date.now?Date.now():+new Date},w.utc=y,w.unix=function(e){return Yt(1e3*e)},w.months=function(e,t){return _n(e,t,"months")},w.isDate=f,w.locale=at,w.invalid=M,w.duration=Et,w.isMoment=D,w.weekdays=function(e,t,n){return yn(e,t,n,"weekdays")},w.parseZone=function(){return Yt.apply(null,arguments).parseZone()},w.localeData=ut,w.isDuration=Wt,w.monthsShort=function(e,t){return _n(e,t,"monthsShort")},w.weekdaysMin=function(e,t,n){return yn(e,t,n,"weekdaysMin")},w.defineLocale=ot,w.updateLocale=function(e,t){var n,s,i;return null!=t?(i=tt,null!=(s=rt(e))&&(i=s._config),(n=new x(t=b(i,t))).parentLocale=nt[e],nt[e]=n,at(e)):null!=nt[e]&&(null!=nt[e].parentLocale?nt[e]=nt[e].parentLocale:null!=nt[e]&&delete nt[e]),nt[e]},w.locales=function(){return s(nt)},w.weekdaysShort=function(e,t,n){return yn(e,t,n,"weekdaysShort")},w.normalizeUnits=C,w.relativeTimeRounding=function(e){return void 0===e?Vn:"function"==typeof e&&(Vn=e,!0)},w.relativeTimeThreshold=function(e,t){return void 0!==En[e]&&(void 0===t?En[e]:(En[e]=t,"s"===e&&(En.ss=t-1),!0))},w.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},w.prototype=dn,w.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},w});
!function(t,a){var e,i;"function"==typeof define&&define.amd?define(["moment","jquery"],function(t,e){return e.fn||(e.fn={}),"function"!=typeof t&&t.default&&(t=t.default),a(t,e)}):"object"==typeof module&&module.exports?((e="undefined"!=typeof window?window.jQuery:void 0)||(e=require("jquery")).fn||(e.fn={}),i="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment"),module.exports=a(i,e)):t.daterangepicker=a(t.moment,t.jQuery)}(this,function(j,R){function i(t,e,a){var i,s,n,r,o;if(this.parentEl="body",this.element=R(t),this.startDate=j().startOf("day"),this.endDate=j().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=j().subtract(100,"year").format("YYYY"),this.maxYear=j().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:j.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:j.weekdaysMin(),monthNames:j.monthsShort(),firstDay:j.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof e&&null!==e||(e={}),"string"==typeof(e=R.extend(this.element.data(),e)).template||e.template instanceof R||(e.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=e.parentEl&&R(e.parentEl).length?R(e.parentEl):R(this.parentEl),this.container=R(e.template).appendTo(this.parentEl),"object"==typeof e.locale&&("string"==typeof e.locale.direction&&(this.locale.direction=e.locale.direction),"string"==typeof e.locale.format&&(this.locale.format=e.locale.format),"string"==typeof e.locale.separator&&(this.locale.separator=e.locale.separator),"object"==typeof e.locale.daysOfWeek&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),"object"==typeof e.locale.monthNames&&(this.locale.monthNames=e.locale.monthNames.slice()),"number"==typeof e.locale.firstDay&&(this.locale.firstDay=e.locale.firstDay),"string"==typeof e.locale.applyLabel&&(this.locale.applyLabel=e.locale.applyLabel),"string"==typeof e.locale.cancelLabel&&(this.locale.cancelLabel=e.locale.cancelLabel),"string"==typeof e.locale.weekLabel&&(this.locale.weekLabel=e.locale.weekLabel),"string"==typeof e.locale.customRangeLabel&&((l=document.createElement("textarea")).innerHTML=e.locale.customRangeLabel,c=l.value,this.locale.customRangeLabel=c)),this.container.addClass(this.locale.direction),"string"==typeof e.startDate&&(this.startDate=j(e.startDate,this.locale.format)),"string"==typeof e.endDate&&(this.endDate=j(e.endDate,this.locale.format)),"string"==typeof e.minDate&&(this.minDate=j(e.minDate,this.locale.format)),"string"==typeof e.maxDate&&(this.maxDate=j(e.maxDate,this.locale.format)),"object"==typeof e.startDate&&(this.startDate=j(e.startDate)),"object"==typeof e.endDate&&(this.endDate=j(e.endDate)),"object"==typeof e.minDate&&(this.minDate=j(e.minDate)),"object"==typeof e.maxDate&&(this.maxDate=j(e.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof e.applyButtonClasses&&(this.applyButtonClasses=e.applyButtonClasses),"string"==typeof e.applyClass&&(this.applyButtonClasses=e.applyClass),"string"==typeof e.cancelButtonClasses&&(this.cancelButtonClasses=e.cancelButtonClasses),"string"==typeof e.cancelClass&&(this.cancelButtonClasses=e.cancelClass),"object"==typeof e.maxSpan&&(this.maxSpan=e.maxSpan),"object"==typeof e.dateLimit&&(this.maxSpan=e.dateLimit),"string"==typeof e.opens&&(this.opens=e.opens),"string"==typeof e.drops&&(this.drops=e.drops),"boolean"==typeof e.showWeekNumbers&&(this.showWeekNumbers=e.showWeekNumbers),"boolean"==typeof e.showISOWeekNumbers&&(this.showISOWeekNumbers=e.showISOWeekNumbers),"string"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses),"object"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses.join(" ")),"boolean"==typeof e.showDropdowns&&(this.showDropdowns=e.showDropdowns),"number"==typeof e.minYear&&(this.minYear=e.minYear),"number"==typeof e.maxYear&&(this.maxYear=e.maxYear),"boolean"==typeof e.showCustomRangeLabel&&(this.showCustomRangeLabel=e.showCustomRangeLabel),"boolean"==typeof e.singleDatePicker&&(this.singleDatePicker=e.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof e.timePicker&&(this.timePicker=e.timePicker),"boolean"==typeof e.timePickerSeconds&&(this.timePickerSeconds=e.timePickerSeconds),"number"==typeof e.timePickerIncrement&&(this.timePickerIncrement=e.timePickerIncrement),"boolean"==typeof e.timePicker24Hour&&(this.timePicker24Hour=e.timePicker24Hour),"boolean"==typeof e.autoApply&&(this.autoApply=e.autoApply),"boolean"==typeof e.autoUpdateInput&&(this.autoUpdateInput=e.autoUpdateInput),"boolean"==typeof e.linkedCalendars&&(this.linkedCalendars=e.linkedCalendars),"function"==typeof e.isInvalidDate&&(this.isInvalidDate=e.isInvalidDate),"function"==typeof e.isCustomDate&&(this.isCustomDate=e.isCustomDate),"boolean"==typeof e.alwaysShowCalendars&&(this.alwaysShowCalendars=e.alwaysShowCalendars),0!=this.locale.firstDay)for(var h=this.locale.firstDay;0<h;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),h--;if(void 0===e.startDate&&void 0===e.endDate&&R(this.element).is(":text")&&(o=i=null,2==(r=(n=R(this.element).val()).split(this.locale.separator)).length?(o=j(r[0],this.locale.format),i=j(r[1],this.locale.format)):this.singleDatePicker&&""!==n&&(o=j(n,this.locale.format),i=j(n,this.locale.format)),null!==o&&null!==i&&(this.setStartDate(o),this.setEndDate(i))),"object"==typeof e.ranges){for(s in e.ranges){o="string"==typeof e.ranges[s][0]?j(e.ranges[s][0],this.locale.format):j(e.ranges[s][0]),i="string"==typeof e.ranges[s][1]?j(e.ranges[s][1],this.locale.format):j(e.ranges[s][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var l,c,d=this.maxDate;this.maxSpan&&d&&o.clone().add(this.maxSpan).isAfter(d)&&(d=o.clone().add(this.maxSpan)),d&&i.isAfter(d)&&(i=d.clone()),this.minDate&&i.isBefore(this.minDate,this.timepicker?"minute":"day")||d&&o.isAfter(d,this.timepicker?"minute":"day")||((l=document.createElement("textarea")).innerHTML=s,c=l.value,this.ranges[c]=[o,i])}var m="<ul>";for(s in this.ranges)m+='<li data-range-key="'+s+'">'+s+"</li>";this.showCustomRangeLabel&&(m+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),m+="</ul>",this.container.find(".ranges").prepend(m)}"function"==typeof a&&(this.callback=a),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof e.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),this.timePicker||this.container.addClass("auto-apply")),(void 0===e.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",R.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",R.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",R.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",R.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",R.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",R.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",R.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",R.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",R.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",R.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":R.proxy(this.show,this),"focus.daterangepicker":R.proxy(this.show,this),"keyup.daterangepicker":R.proxy(this.elementChanged,this),"keydown.daterangepicker":R.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",R.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",R.proxy(this.toggle,this))),this.updateElement()}return i.prototype={constructor:i,setStartDate:function(t){"string"==typeof t&&(this.startDate=j(t,this.locale.format)),"object"==typeof t&&(this.startDate=j(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=j(t,this.locale.format)),"object"==typeof t&&(this.endDate=j(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){var t,e,a,i;this.timePicker&&(this.endDate?(e=parseInt(this.container.find(".left .hourselect").val(),10),a=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(a)&&(a=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),t=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".left .ampmselect").val())&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0))):(e=parseInt(this.container.find(".right .hourselect").val(),10),a=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(a)&&(a=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),t=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".right .ampmselect").val())&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0))),this.leftCalendar.month.hour(e).minute(a).second(t),this.rightCalendar.month.hour(e).minute(a).second(t)),this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(t){var e="left"==t?this.leftCalendar:this.rightCalendar,a=e.month.month(),i=e.month.year(),s=e.month.hour(),n=e.month.minute(),r=e.month.second(),o=j([i,a]).daysInMonth(),h=j([i,a,1]),l=j([i,a,o]),c=j(h).subtract(1,"month").month(),d=j(h).subtract(1,"month").year(),m=j([d,c]).daysInMonth(),p=h.day();(e=[]).firstDay=h,e.lastDay=l;for(var f=0;f<6;f++)e[f]=[];var u=m-p+this.locale.firstDay+1;m<u&&(u-=7),p==this.locale.firstDay&&(u=m-6);for(var D=j([d,c,u,12,n,r]),f=0,g=0,y=0;f<42;f++,g++,D=j(D).add(24,"hour"))0<f&&g%7==0&&(g=0,y++),e[y][g]=D.clone().hour(s).minute(n).second(r),D.hour(12),this.minDate&&e[y][g].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&e[y][g].isBefore(this.minDate)&&"left"==t&&(e[y][g]=this.minDate.clone()),this.maxDate&&e[y][g].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&e[y][g].isAfter(this.maxDate)&&"right"==t&&(e[y][g]=this.maxDate.clone());"left"==t?this.leftCalendar.calendar=e:this.rightCalendar.calendar=e;var k="left"==t?this.minDate:this.startDate,b=this.maxDate,C=("left"==t?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');C+="<thead>",C+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(C+="<th></th>"),k&&!k.isBefore(e.firstDay)||this.linkedCalendars&&"left"!=t?C+="<th></th>":C+='<th class="prev available"><span></span></th>';var v,Y=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");if(this.showDropdowns){for(var w=e[1][1].month(),P=e[1][1].year(),x=b&&b.year()||this.maxYear,M=k&&k.year()||this.minYear,I=P==M,S=P==x,B='<select class="monthselect">',L=0;L<12;L++)(!I||k&&L>=k.month())&&(!S||b&&L<=b.month())?B+="<option value='"+L+"'"+(L===w?" selected='selected'":"")+">"+this.locale.monthNames[L]+"</option>":B+="<option value='"+L+"'"+(L===w?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[L]+"</option>";B+="</select>";for(var A='<select class="yearselect">',N=M;N<=x;N++)A+='<option value="'+N+'"'+(N===P?' selected="selected"':"")+">"+N+"</option>";Y=B+(A+="</select>")}C+='<th colspan="5" class="month">'+Y+"</th>",b&&!b.isAfter(e.lastDay)||this.linkedCalendars&&"right"!=t&&!this.singleDatePicker?C+="<th></th>":C+='<th class="next available"><span></span></th>',C+="</tr>",C+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(C+='<th class="week">'+this.locale.weekLabel+"</th>"),R.each(this.locale.daysOfWeek,function(t,e){C+="<th>"+e+"</th>"}),C+="</tr>",C+="</thead>",C+="<tbody>",null==this.endDate&&this.maxSpan&&(v=this.startDate.clone().add(this.maxSpan).endOf("day"),b&&!v.isBefore(b)||(b=v));for(y=0;y<6;y++){C+="<tr>",this.showWeekNumbers?C+='<td class="week">'+e[y][0].week()+"</td>":this.showISOWeekNumbers&&(C+='<td class="week">'+e[y][0].isoWeek()+"</td>");for(g=0;g<7;g++){var E=[];e[y][g].isSame(new Date,"day")&&E.push("today"),5<e[y][g].isoWeekday()&&E.push("weekend"),e[y][g].month()!=e[1][1].month()&&E.push("off","ends"),this.minDate&&e[y][g].isBefore(this.minDate,"day")&&E.push("off","disabled"),b&&e[y][g].isAfter(b,"day")&&E.push("off","disabled"),this.isInvalidDate(e[y][g])&&E.push("off","disabled"),e[y][g].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&E.push("active","start-date"),null!=this.endDate&&e[y][g].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&E.push("active","end-date"),null!=this.endDate&&e[y][g]>this.startDate&&e[y][g]<this.endDate&&E.push("in-range");var W=this.isCustomDate(e[y][g]);!1!==W&&("string"==typeof W?E.push(W):Array.prototype.push.apply(E,W));for(var O="",H=!1,f=0;f<E.length;f++)O+=E[f]+" ","disabled"==E[f]&&(H=!0);H||(O+="available"),C+='<td class="'+O.replace(/^\s+|\s+$/g,"")+'" data-title="r'+y+"c"+g+'">'+e[y][g].date()+"</td>"}C+="</tr>"}C+="</tbody>",C+="</table>",this.container.find(".drp-calendar."+t+" .calendar-table").html(C)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,a,i,s,n,r=this.maxDate;!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(r=this.startDate.clone().add(this.maxSpan)),"left"==t?(a=this.startDate.clone(),i=this.minDate):"right"==t&&(a=this.endDate.clone(),i=this.startDate,""!=(s=this.container.find(".drp-calendar.right .calendar-time")).html()&&(a.hour(isNaN(a.hour())?s.find(".hourselect option:selected").val():a.hour()),a.minute(isNaN(a.minute())?s.find(".minuteselect option:selected").val():a.minute()),a.second(isNaN(a.second())?s.find(".secondselect option:selected").val():a.second()),this.timePicker24Hour||("PM"===(n=s.find(".ampmselect option:selected").val())&&a.hour()<12&&a.hour(a.hour()+12),"AM"===n&&12===a.hour()&&a.hour(0))),a.isBefore(this.startDate)&&(a=this.startDate.clone()),r&&a.isAfter(r)&&(a=r.clone())),e='<select class="hourselect">';for(var o=this.timePicker24Hour?0:1,h=this.timePicker24Hour?23:12,l=o;l<=h;l++){var c=l;this.timePicker24Hour||(c=12<=a.hour()?12==l?12:l+12:12==l?0:l);var d=a.clone().hour(c),m=!1;i&&d.minute(59).isBefore(i)&&(m=!0),r&&d.minute(0).isAfter(r)&&(m=!0),c!=a.hour()||m?e+=m?'<option value="'+l+'" disabled="disabled" class="disabled">'+l+"</option>":'<option value="'+l+'">'+l+"</option>":e+='<option value="'+l+'" selected="selected">'+l+"</option>"}e+="</select> ",e+=': <select class="minuteselect">';for(var p,f,l=0;l<60;l+=this.timePickerIncrement){var u=l<10?"0"+l:l,d=a.clone().minute(l),m=!1;i&&d.second(59).isBefore(i)&&(m=!0),r&&d.second(0).isAfter(r)&&(m=!0),a.minute()!=l||m?e+=m?'<option value="'+l+'" disabled="disabled" class="disabled">'+u+"</option>":'<option value="'+l+'">'+u+"</option>":e+='<option value="'+l+'" selected="selected">'+u+"</option>"}if(e+="</select> ",this.timePickerSeconds){e+=': <select class="secondselect">';for(l=0;l<60;l++){u=l<10?"0"+l:l,d=a.clone().second(l),m=!1;i&&d.isBefore(i)&&(m=!0),r&&d.isAfter(r)&&(m=!0),a.second()!=l||m?e+=m?'<option value="'+l+'" disabled="disabled" class="disabled">'+u+"</option>":'<option value="'+l+'">'+u+"</option>":e+='<option value="'+l+'" selected="selected">'+u+"</option>"}e+="</select> "}this.timePicker24Hour||(e+='<select class="ampmselect">',f=p="",i&&a.clone().hour(12).minute(0).second(0).isBefore(i)&&(p=' disabled="disabled" class="disabled"'),r&&a.clone().hour(0).minute(0).second(0).isAfter(r)&&(f=' disabled="disabled" class="disabled"'),12<=a.hour()?e+='<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+f+">PM</option>":e+='<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+f+">PM</option>",e+="</select>"),this.container.find(".drp-calendar."+t+" .calendar-time").html(e)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var t,e={top:0,left:0},a=R(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},a=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-e.top:this.element.offset().top+this.element.outerHeight()-e.top,this.container.css({top:0,left:0,right:"auto"});var i,s,n=this.container.outerWidth();this.container["up"==this.drops?"addClass":"removeClass"]("drop-up"),"left"==this.opens?n+(i=a-this.element.offset().left-this.element.outerWidth())>R(window).width()?this.container.css({top:t,right:"auto",left:9}):this.container.css({top:t,right:i,left:"auto"}):"center"==this.opens?(s=this.element.offset().left-e.left+this.element.outerWidth()/2-n/2)<0?this.container.css({top:t,right:"auto",left:9}):s+n>R(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:s,right:"auto"}):(s=this.element.offset().left-e.left)+n>R(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:s,right:"auto"})},show:function(t){this.isShowing||(this._outsideClickProxy=R.proxy(function(t){this.outsideClick(t)},this),R(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),R(window).on("resize.daterangepicker",R.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),R(document).off(".daterangepicker"),R(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var e=R(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(t){var e,a=t.target.getAttribute("data-range-key");(this.chosenLabel=a)==this.locale.customRangeLabel?this.showCalendars():(e=this.ranges[a],this.startDate=e[0],this.endDate=e[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply())},clickPrev:function(t){R(t.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){R(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){var e,a,i,r,o,h,l;R(t.target).hasClass("available")&&(a=(e=R(t.target).attr("data-title")).substr(1,1),i=e.substr(3,1),r=R(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[a][i]:this.rightCalendar.calendar[a][i],o=this.leftCalendar,h=this.rightCalendar,l=this.startDate,this.endDate||this.container.find(".drp-calendar tbody td").each(function(t,e){var a,i,s,n;R(e).hasClass("week")||(i=(a=R(e).attr("data-title")).substr(1,1),s=a.substr(3,1),(n=R(e).parents(".drp-calendar").hasClass("left")?o.calendar[i][s]:h.calendar[i][s]).isAfter(l)&&n.isBefore(r)||n.isSame(r,"day")?R(e).addClass("in-range"):R(e).removeClass("in-range"))}))},clickDate:function(t){var e,a,i,s,n,r,o,h;R(t.target).hasClass("available")&&(a=(e=R(t.target).attr("data-title")).substr(1,1),i=e.substr(3,1),s=R(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[a][i]:this.rightCalendar.calendar[a][i],this.endDate||s.isBefore(this.startDate,"day")?(this.timePicker&&(n=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||("PM"===(r=this.container.find(".left .ampmselect").val())&&n<12&&(n+=12),"AM"===r&&12===n&&(n=0)),o=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(o)&&(o=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),h=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,s=s.clone().hour(n).minute(o).second(h)),this.endDate=null,this.setStartDate(s.clone())):!this.endDate&&s.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(n=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(r=this.container.find(".right .ampmselect").val())&&n<12&&(n+=12),"AM"===r&&12===n&&(n=0)),o=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(o)&&(o=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),h=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,s=s.clone().hour(n).minute(o).second(h)),this.setEndDate(s.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())),this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),t.stopPropagation())},calculateChosenLabel:function(){var t=!0,e=0;for(var a in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)==this.ranges[a][0].format(i)&&this.endDate.format(i)==this.ranges[a][1].format(i)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[a][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[a][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var e=R(t.target).closest(".drp-calendar").hasClass("left"),a=e?"left":"right",i=this.container.find(".drp-calendar."+a),s=parseInt(i.find(".monthselect").val(),10),n=i.find(".yearselect").val();e||(n<this.startDate.year()||n==this.startDate.year()&&s<this.startDate.month())&&(s=this.startDate.month(),n=this.startDate.year()),this.minDate&&(n<this.minDate.year()||n==this.minDate.year()&&s<this.minDate.month())&&(s=this.minDate.month(),n=this.minDate.year()),this.maxDate&&(n>this.maxDate.year()||n==this.maxDate.year()&&s>this.maxDate.month())&&(s=this.maxDate.month(),n=this.maxDate.year()),e?(this.leftCalendar.month.month(s).year(n),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(s).year(n),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var e=R(t.target).closest(".drp-calendar"),a=e.hasClass("left"),i=parseInt(e.find(".hourselect").val(),10),s=parseInt(e.find(".minuteselect").val(),10);isNaN(s)&&(s=parseInt(e.find(".minuteselect option:last").val(),10));var n,r,o,h=this.timePickerSeconds?parseInt(e.find(".secondselect").val(),10):0;this.timePicker24Hour||("PM"===(n=e.find(".ampmselect").val())&&i<12&&(i+=12),"AM"===n&&12===i&&(i=0)),a?((r=this.startDate.clone()).hour(i),r.minute(s),r.second(h),this.setStartDate(r),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==r.format("YYYY-MM-DD")&&this.endDate.isBefore(r)&&this.setEndDate(r.clone())):this.endDate&&((o=this.endDate.clone()).hour(i),o.minute(s),o.second(h),this.setEndDate(o)),this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){var t,e,a;this.element.is("input")&&this.element.val().length&&(a=e=null,2===(t=this.element.val().split(this.locale.separator)).length&&(e=j(t[0],this.locale.format),a=j(t[1],this.locale.format)),!this.singleDatePicker&&null!==e&&null!==a||(a=e=j(this.element.val(),this.locale.format)),e.isValid()&&a.isValid()&&(this.setStartDate(e),this.setEndDate(a),this.updateView()))},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){var t;this.element.is("input")&&this.autoUpdateInput&&(t=this.startDate.format(this.locale.format),this.singleDatePicker||(t+=this.locale.separator+this.endDate.format(this.locale.format)),t!==this.element.val()&&this.element.val(t).trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},R.fn.daterangepicker=function(t,e){var a=R.extend(!0,{},R.fn.daterangepicker.defaultOptions,t);return this.each(function(){var t=R(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new i(t,a,e))}),this},i});
!function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";function i(h,o,c){(c=c||e||t.jQuery)&&(o.prototype.option||(o.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))}),c.fn[h]=function(t){if("string"!=typeof t)return n=t,this.each(function(t,e){var i=c.data(e,h);i?(i.option(n),i._init()):(i=new o(e,n),c.data(e,h,i))}),this;var e,r,s,l,a,n,i=u.call(arguments,1);return s=i,a="$()."+h+'("'+(r=t)+'")',(e=this).each(function(t,e){var i,n,o=c.data(e,h);o?(i=o[r])&&"_"!=r.charAt(0)?(n=i.apply(o,s),l=void 0===l?n:l):d(a+" is not a valid method"):d(h+" not initialized. Cannot call methods, i.e. "+a)}),void 0!==l?l:e},n(c))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var u=Array.prototype.slice,o=t.console,d=void 0===o?function(){}:function(t){o.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(h,r){var c={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice;c.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},c.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},c.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,r(t,e))return t},c.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},c.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.filterFindElements=function(t,n){t=c.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);r(t,n)&&o.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)o.push(e[i])}}),o},c.debounceMethod=function(t,e,n){n=n||100;var o=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r];clearTimeout(t);var e=arguments,i=this;this[r]=setTimeout(function(){o.apply(i,e),delete i[r]},n)}},c.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},c.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var u=h.console;return c.htmlInit=function(l,a){c.docReady(function(){var t=c.toDashed(a),o="data-"+t,e=document.querySelectorAll("["+o+"]"),i=document.querySelectorAll(".js-"+t),n=c.makeArray(e).concat(c.makeArray(i)),r=o+"-options",s=h.jQuery;n.forEach(function(e){var t,i=e.getAttribute(o)||e.getAttribute(r);try{t=i&&JSON.parse(i)}catch(t){return void(u&&u.error("Error parsing "+o+" on "+e.className+": "+t))}var n=new l(e,t);s&&s.data(e,a,n)})})},c}),function(i,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/core",["ev-emitter/ev-emitter","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("ev-emitter"),require("fizzy-ui-utils")):i.InfiniteScroll=n(i,i.EvEmitter,i.fizzyUIUtils)}(window,function(e,t,o){function r(t,e){var i=o.getQueryElement(t);if(i){if((t=i).infiniteScrollGUID){var n=l[t.infiniteScrollGUID];return n.option(e),n}this.element=t,this.options=o.extend({},r.defaults),this.option(e),s&&(this.$element=s(this.element)),this.create()}}var s=e.jQuery,l={};r.defaults={},r.create={},r.destroy={};var i=r.prototype;o.extend(i,t.prototype);var n=0;i.create=function(){var t=this.guid=++n;if(this.element.infiniteScrollGUID=t,(l[t]=this).pageIndex=1,this.loadCount=0,this.updateGetPath(),this.getPath&&this.getPath())for(var e in this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit(),r.create)r.create[e].call(this)},i.option=function(t){o.extend(this.options,t)},i.callOnInit=function(){var t=this.options.onInit;t&&t.call(this,this)},i.dispatchEvent=function(t,e,i){this.log(t,i);var n,o,r=e?[e].concat(i):i;this.emitEvent(t,r),s&&this.$element&&(n=t+=".infiniteScroll",e&&((o=s.Event(e)).type=t,n=o),this.$element.trigger(n,i))};var a={initialized:function(t){return"on "+t},request:function(t){return"URL: "+t},load:function(t,e){return(t.title||"")+". URL: "+e},error:function(t,e){return t+". URL: "+e},append:function(t,e,i){return i.length+" items. URL: "+e},last:function(t,e){return"URL: "+e},history:function(t,e){return"URL: "+e},pageIndex:function(t,e){return"current page determined to be: "+t+" from "+e}};i.log=function(t,e){var i;!this.options.debug||(i=a[t])&&i.apply(this,e)},i.updateMeasurements=function(){this.windowHeight=e.innerHeight;var t=this.element.getBoundingClientRect();this.top=t.top+e.pageYOffset},i.updateScroller=function(){var t=this.options.elementScroll;if(t){if(this.scroller=!0===t?this.element:o.getQueryElement(t),!this.scroller)throw"Unable to find elementScroll: "+t}else this.scroller=e},i.updateGetPath=function(){var t=this.options.path;if(t){var e=typeof t;if("function"!=e)return"string"==e&&t.match("{{#}}")?void this.updateGetPathTemplate(t):void this.updateGetPathSelector(t);this.getPath=t}},i.updateGetPathTemplate=function(e){this.getPath=function(){var t=this.pageIndex+1;return e.replace("{{#}}",t)}.bind(this);var t=e.replace("{{#}}","(\\d\\d?\\d?)"),i=new RegExp(t),n=location.href.match(i);n&&(this.pageIndex=parseInt(n[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))};var h=[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/];return i.updateGetPathSelector=function(t){var e=document.querySelector(t);if(e){for(var i,n,o=e.getAttribute("href"),r=0;o&&r<h.length;r++){n=h[r];var s=o.match(n);if(s){i=s.slice(1);break}}return i?(this.isPathSelector=!0,this.getPath=function(){var t=this.pageIndex+1;return i[0]+t+i[2]}.bind(this),this.pageIndex=parseInt(i[1],10)-1,void this.log("pageIndex",[this.pageIndex,"next link"])):void 0}},i.updateGetAbsolutePath=function(){var t,e,i=this.getPath();i.match(/^http/)||i.match(/^\//)?this.getAbsolutePath=this.getPath:(t=location.pathname,e=t.substring(0,t.lastIndexOf("/")),this.getAbsolutePath=function(){return e+"/"+this.getPath()})},r.create.hideNav=function(){var t=o.getQueryElement(this.options.hideNav);t&&(t.style.display="none",this.nav=t)},r.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},i.destroy=function(){for(var t in this.allOff(),r.destroy)r.destroy[t].call(this);delete this.element.infiniteScrollGUID,delete l[this.guid]},r.throttle=function(n,o){var r,s;return o=o||200,function(){var t=+new Date,e=arguments,i=function(){r=t,n.apply(this,e)}.bind(this);r&&t<r+o?(clearTimeout(s),s=setTimeout(i,o)):i()}},r.data=function(t){var e=(t=o.getQueryElement(t))&&t.infiniteScrollGUID;return e&&l[e]},r.setJQuery=function(t){s=t},o.htmlInit(r,"infinite-scroll"),s&&s.bridget&&s.bridget("infiniteScroll",r),r}),function(e,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/page-load",["./core"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("./core")):i(e,e.InfiniteScroll)}(window,function(n,o){function s(t){for(var e=document.createDocumentFragment(),i=0;t&&i<t.length;i++)e.appendChild(t[i]);return e}function i(t){for(var e=t.querySelectorAll("script"),i=0;i<e.length;i++){var n=e[i],o=document.createElement("script");(function(t,e){for(var i=t.attributes,n=0;n<i.length;n++){var o=i[n];e.setAttribute(o.name,o.value)}})(n,o),o.innerHTML=n.innerHTML,n.parentNode.replaceChild(o,n)}}var t=o.prototype;return o.defaults.loadOnScroll=!0,o.defaults.checkLastPage=!0,o.defaults.responseType="document",o.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},t.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()},t.loadNextPage=function(){var e,t,i,n,o,r,s,l;!this.isLoading&&this.canLoad&&(e=this.getAbsolutePath(),this.isLoading=!0,t=function(t){this.onPageLoad(t,e)}.bind(this),i=function(t){this.onPageError(t,e)}.bind(this),n=e,o=this.options.responseType,r=t,s=i,(l=new XMLHttpRequest).open("GET",n,!0),l.responseType=o||"",l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.onload=function(){var t;200==l.status?r(l.response):(t=new Error(l.statusText),s(t))},l.onerror=function(){var t=new Error("Network error requesting "+n);s(t)},l.send(),this.dispatchEvent("request",null,[e]))},t.onPageLoad=function(t,e){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[t,e]),this.appendNextPage(t,e),t},t.appendNextPage=function(t,e){var i,n,o,r=this.options.append;"document"==this.options.responseType&&r&&(i=t.querySelectorAll(r),n=s(i),o=function(){this.appendItems(i,n),this.isLoading=!1,this.dispatchEvent("append",null,[t,e,i])}.bind(this),this.options.outlayer?this.appendOutlayerItems(n,o):o())},t.appendItems=function(t,e){t&&t.length&&(i(e=e||s(t)),this.element.appendChild(e))},t.appendOutlayerItems=function(t,e){var i=o.imagesLoaded||n.imagesLoaded;return i?void i(t,e):void(this.isLoading=!1)},t.onAppendOutlayer=function(t,e,i){this.options.outlayer.appended(i)},t.checkLastPage=function(t,e){var i=this.options.checkLastPage;if(i){var n,o=this.options.path;if("function"==typeof o)if(!this.getPath())return void this.lastPageReached(t,e);"string"==typeof i?n=i:this.isPathSelector&&(n=o),n&&t.querySelector&&(t.querySelector(n)||this.lastPageReached(t,e))}},t.lastPageReached=function(t,e){this.canLoad=!1,this.dispatchEvent("last",null,[t,e])},t.onPageError=function(t,e){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[t,e]),t},o.create.prefill=function(){if(this.options.prefill){var t=this.options.append;if(!t)return;this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()}},t.prefill=function(){var t=this.getPrefillDistance();this.isPrefilling=0<=t,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},t.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},t.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},o}),function(i,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/scroll-watch",["./core","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./core"),require("fizzy-ui-utils")):n(i,i.InfiniteScroll,i.fizzyUIUtils)}(window,function(i,t,e){var n=t.prototype;return t.defaults.scrollThreshold=400,t.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var t=this.options.scrollThreshold;!t&&0!==t||this.enableScrollWatch()},t.destroy.scrollWatch=function(){this.disableScrollWatch()},n.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},n.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},n.bindScrollWatchEvents=function(t){var e=t?"addEventListener":"removeEventListener";this.scroller[e]("scroll",this.pageScrollHandler),i[e]("resize",this.resizeHandler)},n.onPageScroll=t.throttle(function(){this.getBottomDistance()<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),n.getBottomDistance=function(){return this.options.elementScroll?this.getElementBottomDistance():this.getWindowBottomDistance()},n.getWindowBottomDistance=function(){return this.top+this.element.clientHeight-(i.pageYOffset+this.windowHeight)},n.getElementBottomDistance=function(){return this.scroller.scrollHeight-(this.scroller.scrollTop+this.scroller.clientHeight)},n.onResize=function(){this.updateMeasurements()},e.debounceMethod(t,"onResize",150),t}),function(i,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/history",["./core","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./core"),require("fizzy-ui-utils")):n(i,i.InfiniteScroll,i.fizzyUIUtils)}(window,function(n,t,e){var i=t.prototype;t.defaults.history="replace";var r=document.createElement("a");return t.create.history=function(){if(this.options.history)return r.href=this.getAbsolutePath(),(r.origin||r.protocol+"//"+r.host)==location.origin?void(this.options.append?this.createHistoryAppend():this.createHistoryPageLoad()):void 0},i.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPageIndex=0,this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},i.bindHistoryAppendEvents=function(t){var e=t?"addEventListener":"removeEventListener";this.scroller[e]("scroll",this.scrollHistoryHandler),n[e]("unload",this.unloadHandler)},i.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},t.destroy.history=i.destroyHistory=function(){this.options.history&&this.options.append&&this.bindHistoryAppendEvents(!1)},i.onAppendHistory=function(t,e,i){var n,o;i&&i.length&&(n=i[0],o=this.getElementScrollY(n),r.href=e,this.scrollPages.push({top:o,path:r.href,title:t.title}))},i.getElementScrollY=function(t){return this.options.elementScroll?this.getElementElementScrollY(t):this.getElementWindowScrollY(t)},i.getElementWindowScrollY=function(t){return t.getBoundingClientRect().top+n.pageYOffset},i.getElementElementScrollY=function(t){return t.offsetTop-this.top},i.onScrollHistory=function(){for(var t,e,i=this.getScrollViewY(),n=0;n<this.scrollPages.length;n++){var o=this.scrollPages[n];if(o.top>=i)break;t=n,e=o}t!=this.scrollPageIndex&&(this.scrollPageIndex=t,this.setHistory(e.title,e.path))},e.debounceMethod(t,"onScrollHistory",150),i.getScrollViewY=function(){return this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:n.pageYOffset+this.windowHeight/2},i.setHistory=function(t,e){var i=this.options.history;i&&history[i+"State"]&&(history[i+"State"](null,t,e),this.options.historyTitle&&(document.title=t),this.dispatchEvent("history",null,[t,e]))},i.onUnload=function(){var t,e,i=this.scrollPageIndex;0!==i&&(t=this.scrollPages[i],e=n.pageYOffset-t.top+this.top,this.destroyHistory(),scrollTo(0,e))},i.onPageLoadHistory=function(t,e){this.setHistory(t.title,e)},t}),function(t,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/button",["./core","fizzy-ui-utils/utils"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./core"),require("fizzy-ui-utils")):i(0,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){function n(t,e){this.element=t,this.infScroll=e,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),e.on("request",this.disable.bind(this)),e.on("load",this.enable.bind(this)),e.on("error",this.hide.bind(this)),e.on("last",this.hide.bind(this))}return e.create.button=function(){var t=i.getQueryElement(this.options.button);t&&(this.button=new n(t,this))},e.destroy.button=function(){this.button&&this.button.destroy()},n.prototype.onClick=function(t){t.preventDefault(),this.infScroll.loadNextPage()},n.prototype.enable=function(){this.element.removeAttribute("disabled")},n.prototype.disable=function(){this.element.disabled="disabled"},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.destroy=function(){this.element.removeEventListener("click",this.clickHandler)},e.Button=n,e}),function(t,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/status",["./core","fizzy-ui-utils/utils"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./core"),require("fizzy-ui-utils")):i(0,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){function n(t){r(t,"none")}function o(t){r(t,"block")}function r(t,e){t&&(t.style.display=e)}var s=e.prototype;return e.create.status=function(){var t=i.getQueryElement(this.options.status);t&&(this.statusElement=t,this.statusEventElements={request:t.querySelector(".infinite-scroll-request"),error:t.querySelector(".infinite-scroll-error"),last:t.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},s.bindHideStatus=function(t){var e=this.options.append?"append":"load";this[t](e,this.hideAllStatus)},s.showRequestStatus=function(){this.showStatus("request")},s.showErrorStatus=function(){this.showStatus("error")},s.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},s.showStatus=function(t){o(this.statusElement),this.hideStatusEventElements(),o(this.statusEventElements[t])},s.hideAllStatus=function(){n(this.statusElement),this.hideStatusEventElements()},s.hideStatusEventElements=function(){for(var t in this.statusEventElements){n(this.statusEventElements[t])}},e}),function(t){"function"==typeof define&&define.amd?define(["infinite-scroll/js/core","infinite-scroll/js/page-load","infinite-scroll/js/scroll-watch","infinite-scroll/js/history","infinite-scroll/js/button","infinite-scroll/js/status"],t):"object"==typeof module&&module.exports&&(module.exports=t(require("./core"),require("./page-load"),require("./scroll-watch"),require("./history"),require("./button"),require("./status")))}((window,function(t){return t})),function(e,i){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function r(t,e){for(var i in e)t[i]=e[i];return t}function s(t,e,i){if(!(this instanceof s))return new s(t,e,i);var n,o=t;return"string"==typeof t&&(o=document.querySelectorAll(t)),o?(this.elements=(n=o,Array.isArray(n)?n:"object"==typeof n&&"number"==typeof n.length?h.call(n):[n]),this.options=r({},this.options),"function"==typeof e?i=e:r(this.options,e),i&&this.on("always",i),this.getImages(),l&&(this.jqDeferred=new l.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(o||t))}function i(t){this.img=t}function n(t,e){this.url=t,this.element=e,this.img=new Image}var l=e.jQuery,a=e.console,h=Array.prototype.slice;(s.prototype=Object.create(t.prototype)).options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background)for(var r=t.querySelectorAll(this.options.background),n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}};var c={1:!0,9:!0,11:!0};return s.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},s.prototype.addImage=function(t){var e=new i(t);this.images.push(e)},s.prototype.addBackground=function(t,e){var i=new n(t,e);this.images.push(i)},s.prototype.check=function(){function e(t,e,i){setTimeout(function(){n.progress(t,e,i)})}var n=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},s.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},s.prototype.complete=function(){var t,e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(t=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[t](this))},(i.prototype=Object.create(t.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},(s.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((l=t).fn.imagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(l(this))})})(),s});
"use strict";function _typeof(o){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}!function(l){function o(o){var t=this;if("object"===_typeof(o))return t.option=l.extend({},n,o),t._loadMoreButton=function(){return l(t.getFullSelector(t.option.loadMoreBtnSelector))},void(t._loader=function(){return l(t.getFullSelector(t.option.statusSelector)).find(".infinite-scroll-request .loader")})}var n={pagePath:void 0,containerSelector:"",itemListSelector:".articles-list-container",itemSelector:".item",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",hideNav:".pagination",checkLastPage:!0,loadOnScroll:!0,scrollThreshold:400,defaultAutoLoadPageCount:2,debug:!1,history:!1,onRequest:l.noop,onLoad:l.noop,onAppend:l.noop,onError:l.noop,onLast:l.noop};o.prototype.init=function(){var e=this;0!==l(e.getFullSelector(e.option.itemListSelector)).length&&(e._infScroll=new InfiniteScroll(e.getFullSelector(e.option.itemListSelector),{path:e.option.pagePath,history:e.option.history,loadOnScroll:e.option.loadOnScroll,scrollThreshold:e.option.scrollThreshold,append:e.option.itemSelector,button:e.getFullSelector(e.option.loadMoreBtnSelector),status:e.getFullSelector(e.option.statusSelector),checkLastPage:e.option.checkLastPage,hideNav:e.getFullSelector(e.option.hideNav),debug:e.option.debug}),e._infScroll.on("request",function(o){e._loadMoreButton().is(":visible")&&e._loadMoreButton().addClass("loading"),l.isFunction(e.option.onRequest)&&e.option.onRequest.bind(this)(o)}),e._infScroll.on("load",function(o,t){e._loadMoreButton().is(":visible")&&e._loadMoreButton().removeClass("loading"),l.isFunction(e.option.onLoad)&&e.option.onLoad.bind(this)(o,t)}),e._infScroll.on("load",function o(){0!==e.option.defaultAutoLoadPageCount&&e._infScroll.loadCount===e.option.defaultAutoLoadPageCount&&(e.disabledLoadOnScroll(),e._infScroll.off("load",o))}),e._infScroll.on("append",function(o,t,n){l.isFunction(e.option.onAppend)&&e.option.onAppend.bind(this)(o,t,n)}),e._infScroll.on("error",function(o,t){l.isFunction(e.option.onError)&&e.option.onError.bind(this)(o,t)}),e._infScroll.on("last",function(o,t){setTimeout(function(){e._loadMoreButton().hide()},0),l.isFunction(e.option.onLast)&&e.option.onLast.bind(this)(o,t)}),0!==e.option.defaultAutoLoadPageCount||e.option.loadOnScroll||(e._loadMoreButton().show(),e._loader().hide()))},o.prototype.destroy=function(){var o=this;0!==l(o.getFullSelector(o.option.itemListSelector)).length&&(o._infScroll&&o._infScroll.destroy(),o._loadMoreButton().hide(),o._loader().show())},o.prototype.disabledLoadOnScroll=function(){var o=this;o._infScroll.option({loadOnScroll:!1}),o._loadMoreButton().show(),o._loader().hide()},o.prototype.enabledLoadOnScroll=function(){var o=this;o._infScroll.option({loadOnScroll:!0}),o._loadMoreButton().hide(),o._loader().show()},o.prototype.getFullSelector=function(o){var t=this,n=o.trim();return t.option.containerSelector&&0<t.option.containerSelector.trim().length&&(n=t.option.containerSelector.trim()+" "+n),n},window.OSCInfiniteScroll=o}(window.jQuery||window.$);
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t=t||self).Viewer=i()}(this,function(){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,zoom:null,zoomed:null},t="undefined"!=typeof window,e=t?window:{},a=t&&"ontouchstart"in e.document.documentElement,n=t&&"PointerEvent"in e,y="viewer",c="move",d="switch",u="zoom",g="".concat(y,"-active"),x="".concat(y,"-close"),k="".concat(y,"-fade"),z="".concat(y,"-fixed"),D="".concat(y,"-fullscreen"),r="".concat(y,"-fullscreen-exit"),T="".concat(y,"-hide"),h="".concat(y,"-hide-md-down"),l="".concat(y,"-hide-sm-down"),m="".concat(y,"-hide-xs-down"),f="".concat(y,"-in"),E="".concat(y,"-invisible"),v="".concat(y,"-loading"),p="".concat(y,"-move"),w="".concat(y,"-open"),b="".concat(y,"-show"),I="".concat(y,"-transition"),S="click",C="dblclick",L="dragstart",N="hidden",R="hide",q="keydown",M="load",Y=n?"pointerdown":a?"touchstart":"mousedown",X=n?"pointermove":a?"touchmove":"mousemove",F=n?"pointerup pointercancel":a?"touchend touchcancel":"mouseup",O="ready",A="resize",W="show",P="shown",H="transitionend",j="view",V="viewed",B="wheel",K="".concat(y,"Action"),U=/\s\s*/,Z=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function $(t){return"string"==typeof t}var _=Number.isNaN||e.isNaN;function G(t){return"number"==typeof t&&!_(t)}function J(t){return void 0===t}function Q(t){return"object"===i(t)&&null!==t}var tt=Object.prototype.hasOwnProperty;function it(t){if(!Q(t))return!1;try{var i=t.constructor,e=i.prototype;return i&&e&&tt.call(e,"isPrototypeOf")}catch(t){return!1}}function et(t){return"function"==typeof t}function nt(i,e){if(i&&et(e))if(Array.isArray(i)||G(i.length))for(var t=i.length,n=0;n<t&&!1!==e.call(i,i[n],n,i);n+=1);else Q(i)&&Object.keys(i).forEach(function(t){e.call(i,i[t],t,i)});return i}var st=Object.assign||function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return Q(e)&&0<i.length&&i.forEach(function(i){Q(i)&&Object.keys(i).forEach(function(t){e[t]=i[t]})}),e},ot=/^(?:width|height|left|top|marginLeft|marginTop)$/;function at(t,i){var e=t.style;nt(i,function(t,i){ot.test(i)&&G(t)&&(t+="px"),e[i]=t})}function rt(t){return $(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function ht(t,i){return t.classList?t.classList.contains(i):-1<t.className.indexOf(i)}function lt(t,i){var e;i&&(G(t.length)?nt(t,function(t){lt(t,i)}):t.classList?t.classList.add(i):(e=t.className.trim())?e.indexOf(i)<0&&(t.className="".concat(e," ").concat(i)):t.className=i)}function ct(t,i){i&&(G(t.length)?nt(t,function(t){ct(t,i)}):t.classList?t.classList.remove(i):0<=t.className.indexOf(i)&&(t.className=t.className.replace(i,"")))}function dt(t,i,e){i&&(G(t.length)?nt(t,function(t){dt(t,i,e)}):(e?lt:ct)(t,i))}var ut=/([a-z\d])([A-Z])/g;function mt(t){return t.replace(ut,"$1-$2").toLowerCase()}function gt(t,i){return Q(t[i])?t[i]:t.dataset?t.dataset[i]:t.getAttribute("data-".concat(mt(i)))}function ft(t,i,e){Q(e)?t[i]=e:t.dataset?t.dataset[i]=e:t.setAttribute("data-".concat(mt(i)),e)}var vt,pt,wt,bt,yt=(bt=!1,t&&(vt=!1,pt=function(){},wt=Object.defineProperty({},"once",{get:function(){return bt=!0,vt},set:function(t){vt=t}}),e.addEventListener("test",pt,wt),e.removeEventListener("test",pt,wt)),bt);function xt(e,t,n,i){var s=3<arguments.length&&void 0!==i?i:{},o=n;t.trim().split(U).forEach(function(t){var i;yt||(i=e.listeners)&&i[t]&&i[t][n]&&(o=i[t][n],delete i[t][n],0===Object.keys(i[t]).length&&delete i[t],0===Object.keys(i).length&&delete e.listeners),e.removeEventListener(t,o,s)})}function kt(o,t,a,i){var r=3<arguments.length&&void 0!==i?i:{},h=a;t.trim().split(U).forEach(function(n){var t,s;r.once&&!yt&&(t=o.listeners,h=function(){delete s[n][a],o.removeEventListener(n,h,r);for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];a.apply(o,i)},(s=void 0===t?{}:t)[n]||(s[n]={}),s[n][a]&&o.removeEventListener(n,s[n][a],r),s[n][a]=h,o.listeners=s),o.addEventListener(n,h,r)})}function zt(t,i,e){var n;return et(Event)&&et(CustomEvent)?n=new CustomEvent(i,{detail:e,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(i,!0,!0,e),t.dispatchEvent(n)}function Dt(t){var i=t.rotate,e=t.scaleX,n=t.scaleY,s=t.translateX,o=t.translateY,a=[];G(s)&&0!==s&&a.push("translateX(".concat(s,"px)")),G(o)&&0!==o&&a.push("translateY(".concat(o,"px)")),G(i)&&0!==i&&a.push("rotate(".concat(i,"deg)")),G(e)&&1!==e&&a.push("scaleX(".concat(e,")")),G(n)&&1!==n&&a.push("scaleY(".concat(n,")"));var r=a.length?a.join(" "):"none";return{WebkitTransform:r,msTransform:r,transform:r}}var Tt=e.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(e.navigator.userAgent);function Et(t,i){var e=document.createElement("img");if(t.naturalWidth&&!Tt)return i(t.naturalWidth,t.naturalHeight),e;var n=document.body||document.documentElement;return e.onload=function(){i(e.width,e.height),Tt||n.removeChild(e)},e.src=t.src,Tt||(e.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(e)),e}function It(t){switch(t){case 2:return m;case 3:return l;case 4:return h;default:return""}}function St(t,i){var e=t.pageX,n=t.pageY,s={endX:e,endY:n};return i?s:st({timeStamp:Date.now(),startX:e,startY:n},s)}var Ct={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var t,i=this.options,e=this.parent;i.inline&&(t={width:Math.max(e.offsetWidth,i.minWidth),height:Math.max(e.offsetHeight,i.minHeight)},this.parentData=t),!this.fulled&&t||(t=this.containerData),this.viewerData=st({},t)},renderViewer:function(){this.options.inline&&!this.fulled&&at(this.viewer,this.viewerData)},initList:function(){var h=this,t=this.element,l=this.options,c=this.list,d=[];nt(this.images,function(t,i){var e,n,s,o=t.src,a=rt(t.alt||($(e=o)?decodeURIComponent(e.replace(/^.*\//,"").replace(/[?&#].*$/,"")):"")),r=l.url;$(r)?r=t.getAttribute(r):et(r)&&(r=r.call(h,t)),(o||r)&&(n=document.createElement("li"),(s=document.createElement("img")).src=o||r,s.alt=a,s.setAttribute("data-index",i),s.setAttribute("data-original-url",r||o),s.setAttribute("data-viewer-action","view"),s.setAttribute("role","button"),n.appendChild(s),c.appendChild(n),d.push(n))}),nt(this.items=d,function(i){var t=i.firstElementChild;ft(t,"filled",!0),l.loading&&lt(i,v),kt(t,M,function(t){l.loading&&ct(i,v),h.loadImage(t)},{once:!0})}),l.transition&&kt(t,V,function(){lt(c,I)},{once:!0})},renderList:function(t){var i=t||this.index,e=this.items[i].offsetWidth||30,n=e+1;at(this.list,st({width:n*this.length},Dt({translateX:(this.viewerData.width-e)/2-n*i})))},resetList:function(){var t=this.list;t.innerHTML="",ct(t,I),at(t,Dt({translateX:0}))},initImage:function(r){var t,h=this,l=this.options,i=this.image,e=this.viewerData,n=this.footer.offsetHeight,c=e.width,d=Math.max(e.height-n,n),u=this.imageData||{};this.imageInitializing={abort:function(){t.onload=null}},t=Et(i,function(t,i){var e=t/i,n=c,s=d;h.imageInitializing=!1,c<d*e?s=c/e:n=d*e;var o={naturalWidth:t,naturalHeight:i,aspectRatio:e,ratio:(n=Math.min(.9*n,t))/t,width:n,height:s=Math.min(.9*s,i),left:(c-n)/2,top:(d-s)/2},a=st({},o);l.rotatable&&(o.rotate=u.rotate||0,a.rotate=0),l.scalable&&(o.scaleX=u.scaleX||1,o.scaleY=u.scaleY||1,a.scaleX=1,a.scaleY=1),h.imageData=o,h.initialImageData=a,r&&r()})},renderImage:function(t){var i,e=this,n=this.image,s=this.imageData;at(n,st({width:s.width,height:s.height,marginLeft:s.left,marginTop:s.top},Dt(s))),t&&((this.viewing||this.zooming)&&this.options.transition?(i=function(){e.imageRendering=!1,t()},this.imageRendering={abort:function(){xt(n,H,i)}},kt(n,H,i,{once:!0})):t())},resetImage:function(){var t;(this.viewing||this.viewed)&&(t=this.image,this.viewing&&this.viewing.abort(),t.parentNode.removeChild(t),this.image=null)}},Lt={bind:function(){var t=this.options,i=this.viewer,e=this.canvas,n=this.element.ownerDocument;kt(i,S,this.onClick=this.click.bind(this)),kt(i,B,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),kt(i,L,this.onDragStart=this.dragstart.bind(this)),kt(e,Y,this.onPointerDown=this.pointerdown.bind(this)),kt(n,X,this.onPointerMove=this.pointermove.bind(this)),kt(n,F,this.onPointerUp=this.pointerup.bind(this)),kt(n,q,this.onKeyDown=this.keydown.bind(this)),kt(window,A,this.onResize=this.resize.bind(this)),t.toggleOnDblclick&&kt(e,C,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var t=this.options,i=this.viewer,e=this.canvas,n=this.element.ownerDocument;xt(i,S,this.onClick),xt(i,B,this.onWheel,{passive:!1,capture:!0}),xt(i,L,this.onDragStart),xt(e,Y,this.onPointerDown),xt(n,X,this.onPointerMove),xt(n,F,this.onPointerUp),xt(n,q,this.onKeyDown),xt(window,A,this.onResize),t.toggleOnDblclick&&xt(e,C,this.onDblclick)}},Nt={click:function(t){var i=t.target,e=this.options,n=this.imageData,s=gt(i,K);switch(a&&t.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():e.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(gt(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(e.loop);break;case"play":this.play(e.fullscreen);break;case"next":this.next(e.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-n.scaleX||-1);break;case"flip-vertical":this.scaleY(-n.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(t){t.preventDefault(),this.viewed&&t.target===this.image&&(a&&t.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle())},load:function(){var t=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var i=this.element,e=this.options,n=this.image,s=this.index,o=this.viewerData;ct(n,E),e.loading&&ct(this.canvas,v),n.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:absolute;width:0;",this.initImage(function(){dt(n,p,e.movable),dt(n,I,e.transition),t.renderImage(function(){t.viewed=!0,t.viewing=!1,et(e.viewed)&&kt(i,V,e.viewed,{once:!0}),zt(i,V,{originalImage:t.images[s],index:s,image:n})})})},loadImage:function(t){var o=t.target,i=o.parentNode,a=i.offsetWidth||30,r=i.offsetHeight||50,h=!!gt(o,"filled");Et(o,function(t,i){var e=t/i,n=a,s=r;a<r*e?h?n=r*e:s=a/e:h?s=a/e:n=r*e,at(o,st({width:n,height:s},Dt({translateX:(a-n)/2,translateY:(r-s)/2})))})},keydown:function(t){var i=this.options;if(this.fulled&&i.keyboard)switch(t.keyCode||t.which||t.charCode){case 27:this.played?this.stop():i.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(i.loop);break;case 38:t.preventDefault(),this.zoom(i.zoomRatio,!0);break;case 39:this.next(i.loop);break;case 40:t.preventDefault(),this.zoom(-i.zoomRatio,!0);break;case 48:case 49:t.ctrlKey&&(t.preventDefault(),this.toggle())}},dragstart:function(t){"img"===t.target.tagName.toLowerCase()&&t.preventDefault()},pointerdown:function(t){var i,e=this.options,n=this.pointers,s=t.buttons,o=t.button;!this.viewed||this.showing||this.viewing||this.hiding||G(s)&&1!==s||G(o)&&0!==o||t.ctrlKey||(t.preventDefault(),t.changedTouches?nt(t.changedTouches,function(t){n[t.identifier]=St(t)}):n[t.pointerId||0]=St(t),i=!!e.movable&&c,1<Object.keys(n).length?i=u:"touch"!==t.pointerType&&"touchstart"!==t.type||!this.isSwitchable()||(i=d),!e.transition||i!==c&&i!==u||ct(this.image,I),this.action=i)},pointermove:function(t){var i=this.pointers,e=this.action;this.viewed&&e&&(t.preventDefault(),t.changedTouches?nt(t.changedTouches,function(t){st(i[t.identifier]||{},St(t,!0))}):st(i[t.pointerId||0]||{},St(t,!0)),this.change(t))},pointerup:function(t){var i,e=this,n=this.options,s=this.action,o=this.pointers;t.changedTouches?nt(t.changedTouches,function(t){i=o[t.identifier],delete o[t.identifier]}):(i=o[t.pointerId||0],delete o[t.pointerId||0]),s&&(t.preventDefault(),!n.transition||s!==c&&s!==u||lt(this.image,I),this.action=!1,a&&s!==u&&i&&Date.now()-i.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),n.toggleOnDblclick&&this.viewed&&t.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){zt(e.image,C)},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){e.imageClicked=!1},500)):(this.imageClicked=!1,n.backdrop&&"static"!==n.backdrop&&t.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){zt(e.canvas,S)},50)))))},resize:function(){var i=this;if(this.isShown&&!this.hiding&&(this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){i.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))return void this.stop();nt(this.player.getElementsByTagName("img"),function(t){kt(t,M,i.loadImage.bind(i),{once:!0}),zt(t,M)})}},wheel:function(t){var i,e,n=this;this.viewed&&(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),i=Number(this.options.zoomRatio)||.1,e=1,t.deltaY?e=0<t.deltaY?1:-1:t.wheelDelta?e=-t.wheelDelta/120:t.detail&&(e=0<t.detail?1:-1),this.zoom(-e*i,!0,t)))}},Rt={show:function(t){var i=0<arguments.length&&void 0!==t&&t,e=this.element,n=this.options;if(n.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(i),this;if(et(n.show)&&kt(e,W,n.show,{once:!0}),!1===zt(e,W)||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var s,o=this.viewer;return ct(o,T),n.transition&&!i?(s=this.shown.bind(this),this.transitioning={abort:function(){xt(o,H,s),ct(o,f)}},lt(o,I),o.offsetWidth,kt(o,H,s,{once:!0}),lt(o,f)):(lt(o,f),this.shown()),this},hide:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=this.element,e=this.options;if(e.inline||this.hiding||!this.isShown&&!this.showing)return this;if(et(e.hide)&&kt(i,R,e.hide,{once:!0}),!1===zt(i,R))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var n,s,o=this.viewer;return e.transition&&!t?(n=this.hidden.bind(this),s=function(){setTimeout(function(){kt(o,H,n,{once:!0}),ct(o,f)},0)},this.transitioning={abort:function(){this.viewed?xt(this.image,H,s):xt(o,H,n)}},this.viewed&&ht(this.image,I)?(kt(this.image,H,s,{once:!0}),this.zoomTo(0,!1,!1,!0)):s()):(ct(o,f),this.hidden()),this},view:function(t){var e=this,i=0<arguments.length&&void 0!==t?t:this.options.initialViewIndex,i=Number(i)||0;if(!this.isShown)return this.index=i,this.show();if(this.hiding||this.played||i<0||i>=this.length||this.viewed&&i===this.index)return this;this.viewing&&this.viewing.abort();var n=this.element,s=this.options,o=this.title,a=this.canvas,r=this.items[i],h=r.querySelector("img"),l=gt(h,"originalUrl"),c=rt(h.getAttribute("alt")),d=document.createElement("img");if(d.src=l,d.alt=c,et(s.view)&&kt(n,j,s.view,{once:!0}),!1===zt(n,j,{originalImage:this.images[i],index:i,image:d})||!this.isShown||this.hiding||this.played)return this;this.image=d,ct(this.items[this.index],g),lt(r,g),this.viewed=!1,this.index=i,this.imageData={},lt(d,E),s.loading&&lt(a,v),a.innerHTML="",a.appendChild(d),this.renderList(),o.innerHTML="";function u(){var t=e.imageData,i=Array.isArray(s.title)?s.title[1]:s.title;o.innerHTML=rt(et(i)?i.call(e,d,t):"".concat(c," (").concat(t.naturalWidth," × ").concat(t.naturalHeight,")"))}var m;return kt(n,V,u,{once:!0}),this.viewing={abort:function(){xt(n,V,u),d.complete?this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort():(d.src="",xt(d,M,m),this.timeout&&clearTimeout(this.timeout))}},d.complete?this.load():(kt(d,M,m=this.load.bind(this),{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){ct(d,E),e.timeout=!1},1e3)),this},prev:function(t){var i=0<arguments.length&&void 0!==t&&t,e=this.index-1;return e<0&&(e=i?this.length-1:0),this.view(e),this},next:function(t){var i=0<arguments.length&&void 0!==t&&t,e=this.length-1,n=this.index+1;return e<n&&(n=i?0:e),this.view(n),this},move:function(t,i){var e=this.imageData;return this.moveTo(J(t)?t:e.left+Number(t),J(i)?i:e.top+Number(i)),this},moveTo:function(t,i){var e,n=1<arguments.length&&void 0!==i?i:t,s=this.imageData;return t=Number(t),n=Number(n),this.viewed&&!this.played&&this.options.movable&&(e=!1,G(t)&&(s.left=t,e=!0),G(n)&&(s.top=n,e=!0),e&&this.renderImage()),this},zoom:function(t,i,e){var n=1<arguments.length&&void 0!==i&&i,s=2<arguments.length&&void 0!==e?e:null,o=this.imageData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(o.width*t/o.naturalWidth,n,s),this},zoomTo:function(t,i,e,n){var s,o,a,r,h,l,c,d=this,u=1<arguments.length&&void 0!==i&&i,m=2<arguments.length&&void 0!==e?e:null,g=3<arguments.length&&void 0!==n&&n,f=this.element,v=this.options,p=this.pointers,w=this.imageData,b=w.width,y=w.height,x=w.left,k=w.top,z=w.naturalWidth,D=w.naturalHeight;if(G(t=Math.max(0,t))&&this.viewed&&!this.played&&(g||v.zoomable)){g||(s=Math.max(.01,v.minZoomRatio),o=Math.min(100,v.maxZoomRatio),t=Math.min(Math.max(t,s),o)),m&&.95<t&&t<1.05&&(t=1);var T,E,I=z*t,S=D*t,C=I-b,L=S-y,N=b/z;if(et(v.zoom)&&kt(f,"zoom",v.zoom,{once:!0}),!1===zt(f,"zoom",{ratio:t,oldRatio:N,originalEvent:m}))return this;this.zooming=!0,m?(l=this.viewer,T={left:(c=l.getBoundingClientRect()).left+(window.pageXOffset-document.documentElement.clientLeft),top:c.top+(window.pageYOffset-document.documentElement.clientTop)},E=p&&Object.keys(p).length?(h=r=a=0,nt(p,function(t){var i=t.startX,e=t.startY;a+=i,r+=e,h+=1}),{pageX:a/=h,pageY:r/=h}):{pageX:m.pageX,pageY:m.pageY},w.left-=(E.pageX-T.left-x)/b*C,w.top-=(E.pageY-T.top-k)/y*L):(w.left-=C/2,w.top-=L/2),w.width=I,w.height=S,w.ratio=t,this.renderImage(function(){d.zooming=!1,et(v.zoomed)&&kt(f,"zoomed",v.zoomed,{once:!0}),zt(f,"zoomed",{ratio:t,oldRatio:N,originalEvent:m})}),u&&this.tooltip()}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t)),this},rotateTo:function(t){var i=this.imageData;return G(t=Number(t))&&this.viewed&&!this.played&&this.options.rotatable&&(i.rotate=t,this.renderImage()),this},scaleX:function(t){return this.scale(t,this.imageData.scaleY),this},scaleY:function(t){return this.scale(this.imageData.scaleX,t),this},scale:function(t,i){var e,n=1<arguments.length&&void 0!==i?i:t,s=this.imageData;return t=Number(t),n=Number(n),this.viewed&&!this.played&&this.options.scalable&&(e=!1,G(t)&&(s.scaleX=t,e=!0),G(n)&&(s.scaleY=n,e=!0),e&&this.renderImage()),this},play:function(){var i=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var e,s=this.options,o=this.player,a=this.loadImage.bind(this),r=[],h=0,l=0;return this.played=!0,this.onLoadWhenPlay=a,t&&this.requestFullscreen(),lt(o,b),nt(this.items,function(t,i){var e=t.querySelector("img"),n=document.createElement("img");n.src=gt(e,"originalUrl"),n.alt=rt(e.getAttribute("alt")),h+=1,lt(n,k),dt(n,I,s.transition),ht(t,g)&&(lt(n,f),l=i),r.push(n),kt(n,M,a,{once:!0}),o.appendChild(n)}),G(s.interval)&&0<s.interval&&(e=function t(){i.playing=setTimeout(function(){ct(r[l],f),lt(r[l=(l+=1)<h?l:0],f),t()},s.interval)},1<h&&e()),this},stop:function(){var i=this;if(!this.played)return this;var t=this.player;return this.played=!1,clearTimeout(this.playing),nt(t.getElementsByTagName("img"),function(t){xt(t,M,i.onLoadWhenPlay)}),ct(t,b),t.innerHTML="",this.exitFullscreen(),this},full:function(){var t=this,i=this.options,e=this.viewer,n=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!i.inline||(this.fulled=!0,this.open(),lt(this.button,r),i.transition&&(ct(s,I),this.viewed&&ct(n,I)),lt(e,z),e.setAttribute("style",""),at(e,{zIndex:i.zIndex}),this.initContainer(),this.viewerData=st({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage(function(){i.transition&&setTimeout(function(){lt(n,I),lt(s,I)},0)})})),this},exit:function(){var t=this,i=this.options,e=this.viewer,n=this.image,s=this.list;return this.isShown&&!this.played&&this.fulled&&i.inline&&(this.fulled=!1,this.close(),ct(this.button,r),i.transition&&(ct(s,I),this.viewed&&ct(n,I)),ct(e,z),at(e,{zIndex:i.zIndexInline}),this.viewerData=st({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage(function(){i.transition&&setTimeout(function(){lt(n,I),lt(s,I)},0)})})),this},tooltip:function(){var t=this,i=this.options,e=this.tooltipBox,n=this.imageData;return this.viewed&&!this.played&&i.tooltip&&(e.textContent="".concat(Math.round(100*n.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):i.transition?(this.fading&&zt(e,H),lt(e,b),lt(e,k),lt(e,I),e.offsetWidth,lt(e,f)):lt(e,b),this.tooltipping=setTimeout(function(){i.transition?(kt(e,H,function(){ct(e,b),ct(e,k),ct(e,I),t.fading=!1},{once:!0}),ct(e,f),t.fading=!0):ct(e,b),t.tooltipping=!1},1e3)),this},toggle:function(){return 1===this.imageData.ratio?this.zoomTo(this.initialImageData.ratio,!0):this.zoomTo(1,!0),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=st({},this.initialImageData),this.renderImage()),this},update:function(){var t=this.element,i=this.options,e=this.isImg;if(e&&!t.parentNode)return this.destroy();var s,n,o=[];return nt(e?[t]:t.querySelectorAll("img"),function(t){(!i.filter||i.filter(t))&&o.push(t)}),o.length&&(this.images=o,this.length=o.length,this.ready?(s=[],nt(this.items,function(t,i){var e=t.querySelector("img"),n=o[i];n&&n.src===e.src||s.push(i)}),at(this.list,{width:"auto"}),this.initList(),this.isShown&&(this.length?this.viewed&&(0<=(n=s.indexOf(this.index))?(this.viewed=!1,this.view(Math.max(this.index-(n+1),0))):lt(this.items[this.index],g)):(this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""))):this.build()),this},destroy:function(){var t=this.element,i=this.options;return t[y]&&(this.destroyed=!0,this.ready?(this.played&&this.stop(),i.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):i.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),i.inline||xt(t,S,this.onStart),t[y]=void 0),this}},qt={open:function(){var t=this.body;lt(t,w),t.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyPaddingRight)||0),"px")},close:function(){var t=this.body;ct(t,w),t.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var t=this.element,i=this.options;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,et(i.shown)&&kt(t,P,i.shown,{once:!0}),!1!==zt(t,P)&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var t=this.element,i=this.options;this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),lt(this.viewer,T),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(et(i.hidden)&&kt(t,N,i.hidden,{once:!0}),zt(t,N))},requestFullscreen:function(){var t,i=this.element.ownerDocument;this.fulled&&!(i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement)&&((t=i.documentElement).requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen())},exitFullscreen:function(){var t=this.element.ownerDocument;this.fulled&&(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)&&(t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen())},change:function(t){var i,e,h,n=this.options,s=this.pointers,o=s[Object.keys(s)[0]],a=o.endX-o.startX,r=o.endY-o.startY;switch(this.action){case c:this.move(a,r);break;case u:this.zoom((e=st({},i=s),h=[],nt(i,function(r,t){delete e[t],nt(e,function(t){var i=Math.abs(r.startX-t.startX),e=Math.abs(r.startY-t.startY),n=Math.abs(r.endX-t.endX),s=Math.abs(r.endY-t.endY),o=Math.sqrt(i*i+e*e),a=(Math.sqrt(n*n+s*s)-o)/o;h.push(a)})}),h.sort(function(t,i){return Math.abs(t)<Math.abs(i)}),h[0]),!1,t);break;case d:this.action="switched";var l=Math.abs(a);1<l&&l>Math.abs(r)&&(this.pointers={},1<a?this.prev(n.loop):a<-1&&this.next(n.loop))}nt(s,function(t){t.startX=t.endX,t.startY=t.endY})},isSwitchable:function(){var t=this.imageData,i=this.viewerData;return 1<this.length&&0<=t.left&&0<=t.top&&t.width<=i.width&&t.height<=i.height}},Mt=e.Viewer,Yt=function(){function e(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),!t||1!==t.nodeType)throw new Error("The first argument is required and must be an element.");this.element=t,this.options=st({},o,it(i)&&i),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1;this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.init()}var t,i,n;return t=e,n=[{key:"noConflict",value:function(){return window.Viewer=Mt,e}},{key:"setDefaults",value:function(t){st(o,it(t)&&t)}}],(i=[{key:"init",value:function(){var t,i,e,n,s,o,a=this,r=this.element,h=this.options;r[y]||(r[y]=this,t="img"===r.tagName.toLowerCase(),i=[],nt(t?[r]:r.querySelectorAll("img"),function(t){(!et(h.filter)||h.filter.call(a,t))&&i.push(t)}),this.isImg=t,this.length=i.length,this.images=i,n=(e=r.ownerDocument).body||e.documentElement,this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=window.getComputedStyle(n).paddingRight,J(document.createElement(y).style.transition)&&(h.transition=!1),h.inline?(s=0,o=function(){var t;(s+=1)===a.length&&(a.initializing=!1,a.delaying={abort:function(){clearTimeout(t)}},t=setTimeout(function(){a.delaying=!1,a.build()},0))},this.initializing={abort:function(){nt(i,function(t){t.complete||xt(t,M,o)})}},nt(i,function(t){t.complete?o():kt(t,M,o,{once:!0})})):kt(r,S,this.onStart=function(t){var i=t.target;"img"!==i.tagName.toLowerCase()||et(h.filter)&&!h.filter.call(a,i)||a.view(a.images.indexOf(i))}))}},{key:"build",value:function(){var t,h,i,e,n,s,o,a,r,l,c,d,u,m,g,f,v,p,w,b;this.ready||(t=this.element,h=this.options,i=t.parentNode,(e=document.createElement("div")).innerHTML='<div class="viewer-container" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-toolbar-nav"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list"></ul></div></div><div class="viewer-tooltip"></div><div role="button" class="viewer-button" data-viewer-action="mix"></div><div class="viewer-player"></div></div>',s=(n=e.querySelector(".".concat(y,"-container"))).querySelector(".".concat(y,"-title")),o=n.querySelector(".".concat(y,"-toolbar")),a=n.querySelector(".".concat(y,"-toolbar-nav")),r=n.querySelector(".".concat(y,"-navbar")),l=n.querySelector(".".concat(y,"-button")),c=n.querySelector(".".concat(y,"-canvas")),this.parent=i,this.viewer=n,this.title=s,this.toolbar=o,this.navbar=r,this.button=l,this.canvas=c,this.footer=n.querySelector(".".concat(y,"-footer")),this.tooltipBox=n.querySelector(".".concat(y,"-tooltip")),this.player=n.querySelector(".".concat(y,"-player")),this.list=n.querySelector(".".concat(y,"-list")),lt(s,h.title?It(Array.isArray(h.title)?h.title[0]:h.title):T),lt(r,h.navbar?It(h.navbar):T),dt(l,T,!h.button),h.backdrop&&(lt(n,"".concat(y,"-backdrop")),h.inline||"static"===h.backdrop||ft(c,K,"hide")),$(h.className)&&h.className&&h.className.split(U).forEach(function(t){lt(n,t)}),h.toolbar?(d=document.createElement("ul"),u=it(h.toolbar),m=Z.slice(0,3),g=Z.slice(7,9),f=Z.slice(9),u||lt(o,It(h.toolbar)),nt(u?h.toolbar:Z,function(t,i){var e,n,s,o=u&&it(t),a=u?mt(i):t,r=o&&!J(t.show)?t.show:t;!r||!h.zoomable&&-1!==m.indexOf(a)||!h.rotatable&&-1!==g.indexOf(a)||!h.scalable&&-1!==f.indexOf(a)||(e=o&&!J(t.size)?t.size:t,n=o&&!J(t.click)?t.click:t,(s=document.createElement("li")).setAttribute("role","button"),lt(s,"".concat(y,"-").concat(a)),et(n)||ft(s,K,a),G(r)&&lt(s,It(r)),-1!==["small","large"].indexOf(e)?lt(s,"".concat(y,"-").concat(e)):"play"===a&&lt(s,"".concat(y,"-large")),et(n)&&kt(s,S,n),d.appendChild(s))}),o.appendChild(d),v=[Z[4],Z[6]],(p=document.createElement("div")).className="".concat(y,"-toolbar-nav-inner"),nt(v,function(t,i){var e=document.createElement("span");e.setAttribute("role","button"),lt(e,"".concat(y,"-").concat(t)),ft(e,K,t),p.appendChild(e)}),a.appendChild(p)):lt(o,T),h.rotatable||(lt(w=o.querySelectorAll('li[class*="rotate"]'),E),nt(w,function(t){o.appendChild(t)})),h.inline?(lt(l,D),at(n,{zIndex:h.zIndexInline}),"static"===window.getComputedStyle(i).position&&at(i,{position:"relative"}),i.insertBefore(n,t.nextSibling)):(lt(l,x),lt(n,z),lt(n,k),lt(n,T),at(n,{zIndex:h.zIndex}),$(b=h.container)&&(b=t.ownerDocument.querySelector(b)),(b=b||this.body).appendChild(n)),h.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,et(h.ready)&&kt(t,O,h.ready,{once:!0}),!1!==zt(t,O)?this.ready&&h.inline&&this.view(this.index):this.ready=!1)}}])&&s(t.prototype,i),n&&s(t,n),e}();return st(Yt.prototype,Ct,Lt,Nt,Rt,qt),Yt});
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery"),require("viewerjs")):"function"==typeof define&&define.amd?define(["jquery","viewerjs"],t):t(e.jQuery,e.Viewer)}(this,function(d,v){"use strict";var e,c;d=d&&d.hasOwnProperty("default")?d.default:d,v=v&&v.hasOwnProperty("default")?v.default:v,d.fn&&(e=d.fn.viewer,c="viewer",d.fn.viewer=function(o){for(var e=arguments.length,u=Array(1<e?e-1:0),t=1;t<e;t++)u[t-1]=arguments[t];var s=void 0;return this.each(function(e,t){var r,n=d(t),i="destroy"===o;if(!(a=n.data(c))){if(i)return;var f=d.extend({},n.data(),d.isPlainObject(o)&&o),a=new v(t,f);n.data(c,a)}"string"==typeof o&&(r=a[o],d.isFunction(r)&&((s=r.apply(a,u))===a&&(s=void 0),i&&n.removeData(c)))}),void 0!==s?s:this},d.fn.viewer.Constructor=v,d.fn.viewer.setDefaults=v.setDefaults,d.fn.viewer.noConflict=function(){return d.fn.viewer=e,this})});
"use strict";!function(){var i={getRadarOption:function(a,t,r){var e={},n=a||[],i=t||[],d=[];return i.forEach(function(a,t){d.push(r)}),e.data={maxValue:d,value:i,description:n},e.config={scale:1,dataFill:{fillStyle:"rgba(24, 236, 111, .4)"},bg:{layer:4,evenFillStyle:"transparent",oddFillStyle:"transparent",evenStrokeStyle:"#dedede",oddStrokeStyle:"#dedede"},dataCircle:{r:1,strokeStyle:"#18ec6f",fillStyle:"#18ec6f",lineWidth:.5},dataLine:{strokeStyle:"#18ec6f",lineWidth:2},font:{fontColor:"#333"}},e},buildRadarPanel:function(t,r,e){var n=this,a=r.attr("data-user-id")||0,i=r.attr("data-skills-num")||5,d=void 0!==r.attr("data-empty-show");$.post(page.space_user_url+"/radar/getUserPortraitRadarMap",{userId:a,skillsNum:i},function(a){1===a.code&&a.result?(t.show(),radarChart.init(e[0],n.getRadarOption(a.result.skills,a.result.skillsScore,a.result.maxSkillScore)),n.bindLink(r)):d&&(t.addClass("empty"),t.show(),radarChart.init(e[0],n.getRadarOption(["社区活跃度","社区影响力","技术贡献度","活动活跃性","开源贡献度","学习积极性"],[0,0,0,0,0,0],5)))})},bindLink:function(a){var t=a.attr("data-detail-url");t?a.on("click",function(){window.open(t)}):a.css("cursor","default")}};new window.common.dynamicLoader(["/new-osc/js/utils/plugins/radarChart/radarChart.js"],function(){$(function(){var a=$("div[radar]");0<a.length&&a.each(function(a,t){var r=$(t),e=r.find(".radar-map"),n=r;r.attr("data-container")&&$(r.attr("data-container"))&&(n=$(r.attr("data-container"))),i.buildRadarPanel(n,r,e)})})}).loadFiles()}();
"use strict";$(function(){var t=page.gitee_contributions_url;if(!t||0===$(".gitee-contributions").length)return!1;new window.common.dynamicLoader([t],function(){var n,g=$(".gitee-contributions");function v(t){return t===0?"less":t<8?"little":t<15?"some":t<25?"many":"much"}window.contributions&&window.contributions.last_year_total?function(t){g.find(".git-pendant").attr({href:t.home_url,target:"_blank"});var n=g.find(".gitee-statistics");n.find(".hit-count").html(t.longest_streak),n.find(".fork-count").html(t.fork_count),n.find(".star-count").html(t.star_count);var i=(new Date).getDay(),e=147;0<i&&(e=140+i);var o=t.contribution_events_hash,a=[];{var r;a=o.length<=e?o:(r=o.length-e,o.slice(r))}for(var d="",c="",s=1;s<=a.length;s++){var u=a[s-1],l=u.date;l=l.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3");var f=u.count,p=v(f);c=c+"<div class='box "+p+"' data-content='"+(f+" 个贡献: "+l)+"' data-variation='mini'></div>",s%7!=0&&s!==a.length||(d="<div class='vertical'>"+c+"</div>",c="",g.find(".contribution-box").append(d))}g.find(".box").popup()}(window.contributions):function(){g.find(".git-pendant").attr({href:"https://gitee.com",target:"_blank"});var t=g.find(".gitee-statistics");t.find(".hit-count").html(0),t.find(".fork-count").html(0),t.find(".star-count").html(0);var n=(new Date).getDay(),i=147;0<n&&(i=140+n);for(var e="",o="",a=1;a<=i;a++){var r=v(0);o=o+"<div class='box "+r+"'></div>",a%7!=0&&a!==i||(e="<div class='vertical'>"+o+"</div>",o="",g.find(".contribution-box").append(e))}g.find(".box").popup()}(),g.show(),n=g.find(".popup-gitee-help"),g.find(".popup-gitee-help-toggle").popup({popup:n,hoverable:!0}),$.get(page.space_user_url+"/blog/getGiteeBindStatus",function(t){"0"!==t&&n.find(".register-gitee").remove()})}).loadFiles()});
"use strict";!function(){$(".space-sidebar .popup-oscer").popup({inline:!0,hoverable:!0,position:"top center",visible:"visible",delay:{show:300,hide:0}}),$(".space-sidebar .action .dropdown-more").dropdown({action:"select"});function d(e,t){e.removeClass("grey yellow outline"),t?e.addClass("yellow"):e.addClass("grey outline")}function c(e,t){e.text(function(e){var t=Number(e)||0;if(1<=t/1e3){var o=(o=t/1e3).toFixed(1);return-1<String(o).indexOf(".0")&&(o=parseInt(o)),o+"K"}return t}(t))}var t=$(".space-sidebar");t.on("click",".software-works .software-collect-btn",function(e){if(!window.common.checkLogin())return!1;var t=$(this),o=t.find("i"),r=t.find("span"),a=t.attr("data-id"),i=t.attr("data-obj-type"),n=(t.attr("data-user-id"),t.data("favorited")),s=page.g_user_id;n?$.post(page.space_user_url+"/favorites/cancel",{id:a,type:i,user:s},function(e){1===e.code?(d(o,!1),c(r,e.result),t.data("favorited",!1)):$("body").toast({type:"error",content:"取消收藏失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试！"})}):$.post(page.space_user_url+"/favorites/add",{id:a,type:i,user:s,tags:""},function(e){1===e.code?(d(o,!0),c(r,e.result),t.data("favorited",!0)):$("body").toast({type:"error",content:"收藏失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试！"})})}),t.on("click",".software-works .view-all-button",function(e){t.find(".software-works .default-hide.item").css("display","flex"),$(this).hide()})}();
!function(){function e(t){var r,n=t.element||null,a=t.getIndex||null,s=t.bigImgArr||[],l=t.smallImgArr||[],d=t.rawImgArr||[],i=t.showBigImgCallback,g=t.isBigImgMode;s.length<=0&&l<=0&&n.find('[data-multi-image-raw="item"] img').each(function(t,a){var i=$(a).attr("data-big-img"),e=$(a).attr("data-small-img"),r=$(a).attr("data-raw-img");s.push(i),l.push(e),d.push(r)}),r={createMultiImageWrapper:function(t){t=t||[];var r=$("<div>").attr("data-multi-image","wrapper");return t.forEach(function(t){var a=$("<div>").attr("data-multi-image","item"),i=$("<img>").attr("src",t),e=$("<div>").addClass("loading-gif");a.append(e).append(i),r.append(a)}),r},createStageWrapper:function(t){t=t||[];var e=$("<div>").attr("data-multi-image-stage","wrapper");return 1<t.length&&t.forEach(function(t){var a=$("<div>").attr("data-multi-image-stage","item"),i=$("<img>").attr("src",t);a.append(i),e.append(a)}),e},createToolbarWrapper:function(){var t,a,i,e,r=$("<div>").attr("data-multi-image","toolbar");return g?(t=$("<span>").attr("data-multi-image-tools","show_big_img").html('<i class="icon-svg icon-enlarge-gray"></i>查看原图'),r.append(t)):(a=$("<a>").attr({href:"",target:"_blank","data-multi-image-tools":"show_big_img"}).html('<i class="icon-svg icon-enlarge-gray"></i>查看原图'),i=$("<span>").attr("data-multi-image-tools","rotate_left").html('<i class="icon-svg icon-redo-gray"></i>向左旋转'),e=$("<span>").attr("data-multi-image-tools","rotate_right").html('<i class="icon-svg icon-rotate-right-gray"></i>向右旋转'),r.append(a).append(i).append(e)),r}},this.init=function(){var t,a=r.createMultiImageWrapper(d),i=r.createStageWrapper(l),e=r.createToolbarWrapper();g?((t=$("<div>").attr("data-multi-image-big","wrapper")).append(e).append(a).append(i),$("body").append(t)):((t=$("<div>").attr("data-multi-image","panel")).append(e).append(a).append(i),n.append(t),t.show())},"false"===(n.attr("data-init-multiImage")||"false")&&(this.init(),n.attr("data-init-multiImage","true"));var e=n.find('[data-multi-image="panel"]'),m=e.find('[data-multi-image="wrapper"]'),o=n.find('[data-multi-image-raw="list"]'),h=m.find('[data-multi-image="item"]'),c=h.length,u=e.find('[data-multi-image-stage="wrapper"]'),p=u.find('[data-multi-image-stage="item"]'),f=0,w=m.width(),v=(m.height(),{left:.4*w,right:.6*w}),I={closePanel:function(){o.show(),e.hide()},showPanel:function(){o.hide(),e.show()}},b={showCursor:function(){m.delegate('[data-multi-image="item"]',"mousemove",function(t){var a,i,e=$(this).find("img");0<e.length&&(a=e.width(),(i=t.pageX-e.offset().left)<=(v={left:.35*a,right:.65*a}).left&&0<f?m.attr("data-cursor","left"):i>=v.right&&f<c-1?m.attr("data-cursor","right"):m.attr("data-cursor","small"))})},switchImage:function(){m.delegate('[data-multi-image="item"]',"mousedown",function(t){var a,i,e=$(this).find("img");0<e.length&&3!==t.which&&(a=t.pageX-e.offset().left,i=e.width(),a<=(v={left:.35*i,right:.65*i}).left&&0<f?S.switchToPrev():a>=v.right&&f<c-1?S.switchToNext():I.closePanel())})},switchByStage:function(){u.delegate('[data-multi-image-stage="item"]',"click",function(t){var a=$(this).index()||0;$(this).addClass("active").siblings('[data-multi-image-stage="item"]').removeClass("active"),S.switchSlide(a)})},rotateLeft:function(){var i=this;e.delegate('[data-multi-image-tools="rotate_left"]',"click",function(){var t=h.eq(f),a=t.find("img");i.rotateImg(a,t,"left")})},rotateRight:function(){var i=this;e.delegate('[data-multi-image-tools="rotate_right"]',"click",function(){var t=h.eq(f),a=t.find("img");i.rotateImg(a,t,"right")})},rotateImg:function(t,a,i){var e=t.attr("data-isAppendWrapper")||"false",r=t.attr("data-rotate-count")||0,n=0,s=0,l=0;$(a).width(),$(a).height();if(t){var d={width:t.width()>=m.width()?m.width():t.width(),height:t.height()};"left"===i?r--:"right"===i&&r++;var g,o=90*r;switch(r%4){case 0:s=n=0,l=d.height;break;case-1:n=(d.width-d.height)/2,l=s=d.width;break;case-2:n=d.width,l=s=d.height;break;case-3:n=(d.width+d.height)/2,s=0,l=d.width;break;case-4:s=0,n=d.height/2,l=d.width;break;case 1:n=(d.width+d.height)/2,s=0,l=d.width;break;case 2:n=d.width,l=s=d.height;break;case 3:n=(d.width-d.height)/2,l=s=d.width;break;case 4:n=-d.width/2,s=0,l=d.height}t.css({"transform-origin":"0 0",transform:"rotateZ("+o+"deg)"}),t.attr("data-rotate-count",r),"false"==e?((g=$("<div>").height(l).css({left:n,top:s,position:"relative"}).addClass("image-rotate-wrapper")).append(t),a.append(g),t.attr("data-isAppendWrapper","true")):t.parents(".image-rotate-wrapper").height(l).css({left:n,top:s})}},showOriginImg:function(){e.delegate('[data-multi-image-tools="show_big_img"]',"click",function(){h.eq(f).find("img");"function"==typeof i&&i(f)})}},S={switchToNext:function(){f<c-1?f++:f=c-1,this.switchSlide(f)},switchToPrev:function(){0<f?f--:f=0,this.switchSlide(f)},switchToCur:function(){f=f,this.switchSlide(f)},switchSlide:function(t){f=t,h.eq(t).addClass("active").siblings('[data-multi-image="item"]').removeClass("active").removeClass("active-opacity"),p.eq(t).addClass("active").siblings('[data-multi-image-stage="item"]').removeClass("active"),e.find('[data-multi-image-tools="show_big_img"]').attr("href",d[t]),setTimeout(function(){h.eq(t).addClass("active-opacity")},0),"function"==typeof a&&a(t)}};this.switchIndex=function(t){S.switchSlide&&S.switchSlide(t)},this.closePanel=function(){I.closePanel()},this.showPanel=function(){I.showPanel()},$('[data-multi-image="item"] img').each(function(t,a){a.onload=function(){$(this).parents('[data-multi-image="item"]').find(".loading-gif").remove()}}),this.register=(b.showCursor(),b.switchImage(),b.switchByStage(),b.rotateLeft(),b.rotateRight(),void S.switchSlide(f))}var t={showMultiImages:{},initShowMultiImages:function(t,a){var i=t.attr("data-optlog-id")||0;"false"===(t.attr("data-init-multiImage")||"false")&&(this.showMultiImages[i]=new e({element:t}),t.attr("data-init-multiImage","true")),this.showMultiImages[i].switchIndex(a),this.showMultiImages[i].showPanel()},initSmallImages:function(){function i(t){var a=$(t).data("max-height"),i=$(t).data("max-width"),e=t.naturalWidth;t.naturalHeight<e?($(t).css("width","auto"),$(t).css("max-height",a)):($(t).css("max-width",i),$(t).css("height","auto"))}$('[data-multi-image-raw="item"] img').each(function(t,a){$(a).data("init")||($(a).data("init",!0),a.onload=function(){i(a)},a.complete&&i(a))})},bindSmallImages:function(){var i=this;$("body").delegate('[data-multi-image-raw="wrapper"] [data-multi-image-raw="item"]',"click",function(){var t=$(this).parents('[data-multi-image-raw="wrapper"]'),a=$(this).index()||0;i.initShowMultiImages(t,a)})}};t.bindSmallImages(),$(function(){t.initSmallImages()}),window.OSCMultipleImageViewer=t}();
"use strict";$(function(){!function(){function o(i,e){var t=window.common.getCurrentUrl(!0)+"#tweet-"+i;return!!window.common.checkLoginForWeChat(t,function(){try{localStorage.setItem(a,i+","+e)}catch(e){}})&&(!r[i]&&(r[i]=!0,void $.get(page.space_user_url+"/tweet/tweet_love",{tweet_id:i,author_user_id:e},function(e){var t,a,o,r;1===e.code&&e.result?(t=!!e.result.isLove,a=e.result.loveCount||0,e.message&&$("body").toast({type:"success",content:e.message}),o=$('[data-tweet-like-btn][data-tweet-id="'+i+'"]'),t?(o.addClass("active"),o.find(".like.icon").removeClass("outline")):(o.removeClass("active"),o.find(".like.icon").addClass("outline")),$('[data-tweet-like-count][data-tweet-id="'+i+'"]').text(a),0<(r=$('[data-tweet-thumbups-list][data-tweet-id="'+i+'"]')).length&&$.get(page.space_user_url+"/widgets/_tweet_thumbups_ajax?tweetId="+i,function(e){r.html(e),$(".thumbups-wrap .thumbups .dropdown").dropdown()})):$("body").toast({type:"error",content:e.message||"点赞失败"})}).always(function(){r[i]=!1})))}var a="OSC_TWEET_LIKE_CACHE",r={};if($(document).on("click",".tweet-item .meta a.like",function(){var e=$(this).parents(".tweet-item:eq(0)"),t=e.attr("data-tweet-id"),a=e.attr("data-tweet-owner-id");o(t,a)}),void 0!==window.localStorage&&page.g_user_code){var e=localStorage.getItem(a)||"";if(e){var t=e.split(",");if(2===t.length){var i=t[0],n=t[1];if(0===$('.tweet-item[data-tweet-id="'+i+'"]').length)return;localStorage.removeItem(a),o(i,n)}}}}();function e(){var o,t,i;void 0!==window.Vue&&(o=new Vue({el:"#tweetShareForm",data:function(){return{tweetMaxLength:160,tweetContent:"",tweetPublishLoading:!1,tipMessage:{show:!1,content:"",className:""},curEmojiType:"People",emojiList:[{type:"People",items:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"]},{type:"Nature",items:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"]},{type:"Objects",items:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"]},{type:"Places",items:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"]},{type:"Symbols",items:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}],repostId:""}},computed:{curEmojiItems:function(){for(var e=0,t=this.emojiList.length;e<t;e++)if(this.emojiList[e].type===this.curEmojiType)return this.emojiList[e].items;return this.emojiList[0].items},tweetContentIsEmpty:function(){return 0===this.tweetContent.length},tweetCountText:function(){return this.tweetContent.length+"/"+this.tweetMaxLength}},methods:{insertEmoji:function(e){this.clearMessage();var t=":"+e+":";this.insertContent(t),$(this.$refs.showEmojiBox).popup("hide")},insertTopic:function(){this.clearMessage();var e,t,a="#此处输入话题#";this.insertContent(a)&&(t=(e=selectRange.of(this.$refs.tweetTextarea)).getCurPos(),e.setSelectText(t-(a.length-1),t-1))},publishTweet:function(){var e,t=this;if(!window.common.checkLogin())return!1;t.tweetPublishLoading||(t.clearMessage(),t.tweetContentIsEmpty?t.showMessage("error","内容不能为空",2e3):t.tweetContent.length>t.tweetMaxLength?t.showMessage("error","最多只能输入"+t.tweetMaxLength+"个字符！",2e3):(t.tweetPublishLoading=!0,e={content:t.tweetContent,userId:page.g_user_id||"",user_code:page.g_user_code||"",repost_id:t.repostId},$.post(page.space_user_url+"/tweet/pubForwardTweet",e,function(a){var e;1===a.code?(t.showMessage("success",a.message||"动弹发布成功！",2e3),t.tweetContent="",a.result&&void 0!==a.result.refCount&&(e=a.result.refCount,$('[data-tweet-ref-count][data-tweet-id="'+t.repostId+'"]').html(e)),setTimeout(function(){var t,e;$(".tweet-share.modal").modal("hide"),!a.result||void 0===a.result.log||0<(t=$(".tweets-list-container[data-tweets-list]")).length&&(e=a.result.log,$.get("/tweets/widgets/_tweet_list_item_ajax?tweetId="+e,function(e){t.prepend(e),$(function(){$("[data-emoji-render]").emoticon()}),OSCMultipleImageViewer&&OSCMultipleImageViewer.initSmallImages()}))},500)):t.showMessage("error",a.message||"动弹发布失败，请稍后再试！",2e3)}).fail(function(){t.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){t.tweetPublishLoading=!1})))},tweetContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&this.publishTweet()},insertContent:function(e){return!this.tweetPublishLoading&&(this.tweetContent.length>=this.tweetMaxLength||this.tweetContent.length+e.length>this.tweetMaxLength?(this.showMessage("error","最多只能输入"+this.tweetMaxLength+"个字符！",2e3),!1):(selectRange.of(this.$refs.tweetTextarea).insertAfterText(e),this.tweetContent=this.$refs.tweetTextarea.value,!0))},setCursor:function(e){var t=this.$refs.tweetTextarea;this.$nextTick(function(){selectRange.of(t).setCurPos(e)})},showMessage:function(e,t,a){var o=this;o.tipMessage.className="success"===e?"positive":"negative",o.tipMessage.content=t;var r=parseInt(a)||0;o.tipMessage.show=!0,0<r&&setTimeout(function(){o.clearMessage()},r)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1}}}),$(".tweet-share.modal").modal({onShow:function(){o.$data.repostId=$(this).attr("data-repost-id")||0,o.$data.tweetContent=$(this).attr("data-repost-content")||"",o.setCursor(0)}}),$("#tweetShareForm .tweet-form .toolbox > .item[data-popup]").each(function(e,t){var a=$(t),o=$(a).parent().find(".toolbox-popup."+a.attr("data-popup"));a.popup({position:"bottom left",popup:o,on:"toolbox-picture"===a.attr("data-popup")?"manual":"click",exclusive:!0,onShow:function(){if(!window.common.checkLogin())return!1}})}),t=function(e){var t;Array.isArray(e)&&0<e.length&&((t=$("#tweetShareForm .tweet-textarea")).atwho({at:"@",data:e,headerTpl:'<div class="atwho-header">我的关注 <small>↑&nbsp;↓&nbsp;</small></div>',searchKey:"searchKey",insertTpl:"${atwho-at}${name}",displayTpl:"<li>${name}</li>",limit:10}),t.on("inserted.atwho",function(e,t,a){o.tweetContent=o.$refs.tweetTextarea.value}),window.__LIKE_SHARE_ATWHO_INIT=!0)},i=function(){var a;page.g_user_code&&768<=window.innerWidth&&!window.__LIKE_SHARE_ATWHO_INIT&&(window.__USER_FRIENDS?t(window.__USER_FRIENDS):(a=function(e){t(e)},$.post(page.space_user_url+"/tweet/atwho",function(e){var t=e;Array.isArray(t)&&0<t.length&&(window.__USER_FRIENDS=t,a(t))})))},$(document).on("click",".tweet-item .meta a.share",function(e){if(!window.common.checkLogin())return!1;var t=$(this).parents(".tweet-item:eq(0)"),a=t.attr("data-tweet-id"),o=t.attr("data-repost-content"),r=$(".tweet-share.modal");r.attr("data-repost-id",a),r.attr("data-repost-content",o),r.modal("show"),i()}))}void 0!==window.Vue&&void 0!==$.fn.atwho?e():new window.common.dynamicLoader(["/new-osc/js/utils/vue.min.js","/new-osc/js/utils/plugins/caret/jquery.caret.min.js","/new-osc/js/utils/plugins/atwho/jquery.atwho.min.js"],function(){e()}).loadFiles()});
"use strict";OSCDefine("space-home-index",function(){function e(){this._spaceHome=$(".space-home"),this._spaceIndexContainer=$(".space-index-container"),this._currentInfiniteScroll="";var e=this;this._articleInfiniteScroll={newest:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#newestBlogList",itemListSelector:".space-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".blog-item",loadOnScroll:!0,onAppend:function(){e.optimizeImgShow()}}),popular:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#popularBlogList",itemListSelector:".space-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".blog-item",loadOnScroll:!0,onAppend:function(){e.optimizeImgShow()}}),activity:new OSCInfiniteScroll({pagePath:".pagination__next",containerSelector:"#activityList",itemListSelector:".space-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".activity-item",loadOnScroll:!0,onAppend:function(){e.parseEmoticon(),OSCMultipleImageViewer&&OSCMultipleImageViewer.initSmallImages()}}),tweet:new OSCInfiniteScroll({pagePath:".pagination__next",containerSelector:"#tweetList",itemListSelector:".space-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".tweet-item",loadOnScroll:!0,onAppend:function(){e.parseEmoticon(),OSCMultipleImageViewer&&OSCMultipleImageViewer.initSmallImages()}})}}return e.prototype={constructor:e,initArticleInfiniteScroll:function(){var e=this;e._articleInfiniteScroll[e._currentInfiniteScroll]&&e._articleInfiniteScroll[e._currentInfiniteScroll].destroy();var t=e._spaceHome.find("input[name=currentTab]").val();e._articleInfiniteScroll[t]&&(e._articleInfiniteScroll[t].init(),e._currentInfiniteScroll=t)},setPageTitle:function(){var e=this._spaceHome.find("input[name=currentTab]").val(),t="";switch(e){case"newest":t="全部博文";var o=$(".blog-dropdown > .text .text");o&&(t=o.text());break;case"popular":t="热门博文";break;case"activity":t="动态";break;case"tweet":t="动弹"}var n=page.g_space_title+" - OSCHINA";document.title=t?t+" - "+n:n},initBlogDropdown:function(){var e=$(".blog-dropdown");e.dropdown({className:{active:"on"}}),e.on("click",".text",function(e){var t=$(this).find(".text").html(),o=$(this).siblings(".menu").find("a").first();t===o.find(".text").html()&&o.trigger("click")})},initPJAX:function(){var n=this,i=$(".space-index-container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".space-tab a.item, .space-scope-menu a.item, .space-index-container .blog-item .catalog-name-link",".space-index-container",{scrollTo:!1}),$(document).on("pjax:send",function(){i.addClass("active")}),$(document).on("pjax:complete",function(e){var t,o=$(e.relatedTarget);i.removeClass("active"),o&&o.hasClass("catalog-name-link")&&(0<(t=$(".space-index-container").offset().top)-50&&(t-=50),$("html, body").stop(!0).animate({scrollTop:t},500,"swing")),n.initBlogDropdown(),n.setPageTitle(),n.initArticleInfiniteScroll(),n.parseEmoticon(),n.optimizeImgShow(),OSCMultipleImageViewer&&OSCMultipleImageViewer.initSmallImages(),n.scrollScopeMenuPositionOffset()})},scrollScopeMenuPositionOffset:function(){var e,t,o,n=$(".space-scope-menu");n&&0<n.length&&(t=(e=n.find(".active.item")).offset().left,o=e.get(0).offsetWidth,window.innerWidth<t+o+10&&n.stop(!0).animate({scrollLeft:t},500,"swing"))},bindSearchBtn:function(){this._spaceIndexContainer.on("click",".search-form .search.link.icon",function(){var e=$(this).parents(".search-form:eq(0)");0<e.find("input[name=q]").val().trim().length&&e.submit()})},bindDeleteBlog:function(){this._spaceIndexContainer.on("click",".blog-item .delete-btn",function(){var t=$(this).parents(".blog-item:eq(0)"),e=t.attr("data-id");$(".delete-blog.modal").modal({onApprove:function(){$.post(page.space_user_url+"/blog/delete",{id:e,user_code:page.g_user_code||""},function(e){1===e.code?($("body").toast({type:"success",content:"删除成功"}),t.fadeOut(function(){t.remove()})):$("body").toast({type:"error",content:e.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindDeleteTweet:function(){this._spaceIndexContainer.on("click",".tweet-item .meta a.remove[data-tweet-remove-btn]",function(){var t=$(this).parents(".tweet-item:eq(0)"),e=t.attr("data-tweet-id");$(".delete-tweet.modal").modal({onApprove:function(){$.post(page.space_user_url+"/tweet/deleteTweet",{id:e,user_code:page.g_user_code||""},function(e){1===e.code?($("body").toast({type:"success",content:"删除成功"}),t.fadeOut(function(){t.remove()})):$("body").toast({type:"error",content:e.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindDeleteTweetComment:function(){this._spaceIndexContainer.on("click",".tweet-item .meta a.remove[data-tweet-comment-remove-btn]",function(){var t=$(this).parents(".tweet-item:eq(0)"),e=t.attr("data-tweet-comment-id");$(".delete-tweet-comment.modal").modal({onApprove:function(){$.post(page.space_user_url+"/tweet/deleteComment",{id:e,user_code:page.g_user_code||""},function(e){1===e.code?($("body").toast({type:"success",content:"删除成功"}),t.fadeOut(function(){t.remove()})):$("body").toast({type:"error",content:e.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},register:function(){this.initArticleInfiniteScroll(),this.initBlogDropdown(),this.initPJAX(),this.bindSearchBtn(),this.bindDeleteBlog(),this.bindDeleteTweet(),this.bindDeleteTweetComment(),this.parseEmoticon(),this.optimizeImgShow(),this.scrollScopeMenuPositionOffset()}},e});
"use strict";OSCDefine("space-home-radar",function(){return function(){$(".skill").progress()}});
"use strict";OSCDefine("space-home-following",function(){return function(){var o=$(".followers-wrap");function t(){$(".sort-dropdown").dropdown()}t();var i=$(".followers-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a, .sort-dropdown .item",".followers-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){i.addClass("active")}),$(document).on("pjax:complete",function(e){i.removeClass("active");var a,n=e.relatedTarget;$(n).parent().hasClass("pagination")&&(768<=window.innerWidth?$("html, body").stop(!0).animate({scrollTop:0},500,"swing"):(0<(a=$(".followers-wrap").offset().top)-50&&(a-=50),$("html, body").stop(!0).animate({scrollTop:a},500,"swing"))),t()});var r=$(".set-nickname.modal"),d=$(".set-nickname-form");d.form({inline:!0,keyboardShortcuts:!1,fields:{nickname:{rules:[{type:"maxLength[32]",prompt:"备注长度不能超过 {ruleValue} 个字符"}]}}}).api({url:page.space_user_url+"/user/set_follow_user_name",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var a=e.data;return e.data={friendid:a.id,name:a.nickname},e},onSuccess:function(e){var a,n,t,i,s;1===e.code?($(this).message({type:"positive",content:"保存成功"}),a=d.find("input[name=id]").val(),n=d.find("input[name=nickname]").val(),(t=o.find('.friend-item[data-user-id="'+a+'"]')).attr("data-nickname",n),s='<span class="nickname-wrap"> (备注名：<span class="nickname">'+n+"</span>)</span>",0===(i=t.find(".nickname-wrap")).length?(i=$(s),t.find(".author-name").append(i)):i.html(s),0===n.trim().length?i.hide():i.show(),setTimeout(function(){r.modal("hide")},2e3)):$(this).message({type:"negative",content:e.message})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),r.modal({onShow:function(){d.form("reset"),d.message("hideAll");var e=$(this).attr("data-user-id")||"",a=$(this).attr("data-user-name")||"",n=$(this).attr("data-nickname")||"";$(this).find("input[name=id]").val(e),$(this).find("span.username").text(a),$(this).find("input[name=nickname]").val(n)},onApprove:function(){return d.message("hideAll"),d.form("submit"),!1}}),o.on("click",".item a.set-nickname-btn",function(){var e=$(this).parents(".friend-item:eq(0)"),a=e.attr("data-user-id"),n=e.attr("data-user-name"),t=e.attr("data-nickname");r.attr("data-user-id",a),r.attr("data-user-name",n),r.attr("data-nickname",t),r.modal("show")})}});
"use strict";OSCDefine("space-home-followers",function(){return function(){function a(){$(".sort-dropdown").dropdown()}a();var n=$(".followers-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a, .sort-dropdown .item",".followers-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){n.addClass("active")}),$(document).on("pjax:complete",function(o){n.removeClass("active");var e,t=o.relatedTarget;$(t).parent().hasClass("pagination")&&(768<=window.innerWidth?$("html, body").stop(!0).animate({scrollTop:0},500,"swing"):(0<(e=$(".followers-wrap").offset().top)-50&&(e-=50),$("html, body").stop(!0).animate({scrollTop:e},500,"swing"))),a()})}});
"use strict";OSCDefine("space-home-favorites-tags",function(){return function(){var i=$(".favorites-wrap"),n=$(".favorites-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a, .space-tab a.item",".favorites-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){n.addClass("active")}),$(document).on("pjax:complete",function(t){n.removeClass("active");var a,e=t.relatedTarget;$(e).parent().hasClass("pagination")&&(768<=window.innerWidth?$("html, body").stop(!0).animate({scrollTop:0},500,"swing"):(0<(a=$(".favorites-wrap").offset().top)-50&&(a-=50),$("html, body").stop(!0).animate({scrollTop:a},500,"swing")))}),$.fn.form.settings.rules.hasComma=function(t){return!/[，,]/.test(t)};var o=$(".edit-tag.modal"),s=$(".edit-tag-form");s.form({inline:!0,fields:{tag:{rules:[{type:"empty",prompt:"请输入标签名"},{type:"hasComma",prompt:"标签名不允许包含逗号"}]}}}).api({url:page.space_user_url+"/favorites/updateTagInAll",method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var a=t.data;return t.data={preTag:a.preTag,tag:a.tag},t},onSuccess:function(t){var a,e,n;1===t.code?($(this).message({type:"positive",content:"修改成功"}),a=s.find("input[name=preTag]").val(),e=s.find("input[name=tag]").val(),(n=i.find('.tag-item[data-tag="'+a+'"]')).attr("data-tag",e),n.find(".tag-name").text(e),setTimeout(function(){o.modal("hide")},2e3)):$(this).message({type:"negative",content:t.message||"修改失败"})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),o.modal({onShow:function(){s.form("reset"),s.message("hideAll");var t=$(this).attr("data-tag")||"";$(this).find("input[name=preTag]").val(t),$(this).find("input[name=tag]").val(t)},onApprove:function(){return s.message("hideAll"),s.form("submit"),!1}}),i.on("click",".tag-item a.edit-tag-btn",function(){var t=$(this).parents(".tag-item:eq(0)").attr("data-tag");o.attr("data-tag",t),o.modal("show")}),i.on("click",".tag-item a.delete-tag-btn",function(){var e=$(this).parents(".tag-item:eq(0)"),t=e.attr("data-tag");$(".delete-tag.modal").modal({onApprove:function(){$.post(page.space_user_url+"/favorites/updateTagInAll",{preTag:t,tag:""},function(t,a){1===t.code?($(this).message({type:"positive",content:t.message||"删除成功"}),e.fadeOut(function(){e.remove()})):$("body").toast({type:"error",content:t.message||"删除失败"})}).fail(function(){})}}).modal("show")}),$(".search-form").on("click",".search.link.icon",function(){var t=$(this).parents(".search-form:eq(0)");0<t.find("input[name=q]").val().trim().length&&t.submit()})}});
"use strict";OSCDefine("space-home-favorites",function(){return function(){var e=$(".favorites-wrap"),o=$(".favorites-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a, .space-tab a.item",".favorites-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){o.addClass("active")}),$(document).on("pjax:complete",function(e){o.removeClass("active");var t,a=e.relatedTarget;$(a).parent().hasClass("pagination")&&(0<(t=$(".favorites-wrap").offset().top)-50&&(t-=50),$("html, body").stop(!0).animate({scrollTop:t},500,"swing"))});var i=$(".set-tag.modal"),n=$(".set-tag-form");n.form({inline:!0,keyboardShortcuts:!1,fields:{tags:{rules:[{type:"empty",prompt:"请输入标签"}]}}}).api({url:page.space_user_url+"/favorites/edit",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={id:t.id,type:t.type,tags:t.tags,user:page.userId},e},onSuccess:function(e){1===e.code?($(this).message({type:"positive",content:"设置成功",disappear:2e3}),setTimeout(function(){i.modal("hide"),location.reload()},2e3)):$(this).message({type:"negative",content:e.message,disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),i.modal({onShow:function(){n.form("reset"),n.message("hideAll");var e=$(this).data("obj-id")||"",t=$(this).data("obj-type")||"",a=$(this).data("tags")||"";$(this).find("input[name=id]").val(e),$(this).find("input[name=type]").val(t),$(this).find("input[name=tags]").val(a)},onApprove:function(){return n.message("hideAll"),n.form("submit"),!1}}),e.on("click",".obj-item a.set-tag-btn",function(){var e=$(this).parents(".obj-item:eq(0)"),t=e.data("obj-id"),a=e.data("obj-type"),o=e.data("tags");i.data("obj-id",t),i.data("obj-type",a),i.data("tags",o),i.modal("show")}),e.on("click",".obj-item a.remove-btn",function(){var a=$(this).parents(".obj-item:eq(0)"),e=a.data("obj-id"),t=a.data("obj-type");$(".remove-favorite.modal").modal({onApprove:function(){$.post(page.space_user_url+"/favorites/cancel",{id:e,type:t},function(e,t){a.fadeOut(function(){a.remove()})}).fail(function(){})}}).modal("show")}),e.on("click",".search-form .search.link.icon",function(){var e=$(this).parents(".search-form:eq(0)");0<e.find("input[name=q]").val().trim().length&&e.submit()})}});
"use strict";OSCDefine("space-home-points",function(){function t(){this._pointsContainer=$(".points-container")}return t.prototype={constructor:t,setPageTitle:function(){var t=this._pointsContainer.find("input[name=currentTab]").val(),e="";switch(t){case"experience":e="经验值";break;case"coin":e="开源豆";break;case"honor":e="荣誉值"}var a=page.g_space_title+" - OSCHINA";document.title=e?e+" - "+a:a},initPJAX:function(){var e=this,a=$(".points-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a, .space-tab a.item, a[pjax]",".points-container",{scrollTo:!1}),$(document).on("pjax:send",function(){a.addClass("active")}),$(document).on("pjax:complete",function(t){$(t.target);"points-container"===t.target.className&&(a.removeClass("active"),e.setPageTitle(),e.initDateRangePicker(),$("html, body").stop().animate({scrollTop:e._pointsContainer.offset().top-59},500,"swing"))})},initDateRangePicker:function(){var r=this._pointsContainer.find("input[name=currentTab]").val(),t=this._pointsContainer.find(".date-picker"),e=moment().format("YYYY/MM/DD");t.daterangepicker({showDropdowns:!1,autoApply:!0,minDate:!1,maxDate:e,opens:"left",buttonClasses:"ui button tiny",applyClass:"primary",cancelClass:"",linkedCalendars:!1,locale:{direction:"ltr",format:"YYYY/MM/DD",separator:" - ",applyLabel:"确定",cancelLabel:"取消",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],firstDay:1}},function(t,e,a){var n=t.format("YYYY/MM/DD"),i=e.format("YYYY/MM/DD"),o=(page.current_url||"")+"?tab="+r+"&start="+encodeURIComponent(n)+"&end="+encodeURIComponent(i);$.pjax.reload(".points-container",{url:o})});var a=t.data("start"),n=t.data("end"),i=/^(\d{4})\/(\d{2})\/(\d{2})$/;i.test(a)&&i.test(n)&&(t.find(".value .text").text(a+" - "+n),t.removeClass("date-picker--default").addClass("date-picker--value"),t.data("daterangepicker").setStartDate(a),t.data("daterangepicker").setEndDate(n)),t.find(".clear").on("click",function(t){t.stopPropagation(),$.pjax.reload(".points-container",{url:(page.current_url||"")+"?tab="+r})})},register:function(){this.initPJAX(),this.initDateRangePicker()}},t});
var CryptoJS=CryptoJS||function(a){function i(){}var t={},n=t.lib={},e=n.Base={extend:function(t){i.prototype=this;var n=new i;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),(n.init.prototype=n).$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=n.WordArray=e.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=null!=n?n:4*t.length},toString:function(t){return(t||s).stringify(this)},concat:function(t){var n=this.words,i=t.words,e=this.sigBytes;if(t=t.sigBytes,this.clamp(),e%4)for(var r=0;r<t;r++)n[e+r>>>2]|=(i[r>>>2]>>>24-r%4*8&255)<<24-(e+r)%4*8;else if(65535<i.length)for(r=0;r<t;r+=4)n[e+r>>>2]=i[r>>>2];else n.push.apply(n,i);return this.sigBytes+=t,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=a.ceil(n/4)},clone:function(){var t=e.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*a.random()|0);return new c.init(n,t)}}),r=t.enc={},s=r.Hex={stringify:function(t){var n=t.words;t=t.sigBytes;for(var i=[],e=0;e<t;e++){var r=n[e>>>2]>>>24-e%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(t){for(var n=t.length,i=[],e=0;e<n;e+=2)i[e>>>3]|=parseInt(t.substr(e,2),16)<<24-e%8*4;return new c.init(i,n/2)}},o=r.Latin1={stringify:function(t){var n=t.words;t=t.sigBytes;for(var i=[],e=0;e<t;e++)i.push(String.fromCharCode(n[e>>>2]>>>24-e%4*8&255));return i.join("")},parse:function(t){for(var n=t.length,i=[],e=0;e<n;e++)i[e>>>2]|=(255&t.charCodeAt(e))<<24-e%4*8;return new c.init(i,n)}},h=r.Utf8={stringify:function(t){try{return decodeURIComponent(escape(o.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return o.parse(unescape(encodeURIComponent(t)))}},u=n.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var n=this._data,i=n.words,e=n.sigBytes,r=this.blockSize,s=e/(4*r);if(t=(s=t?a.ceil(s):a.max((0|s)-this._minBufferSize,0))*r,e=a.min(4*t,e),t){for(var o=0;o<t;o+=r)this._doProcessBlock(i,o);o=i.splice(0,t),n.sigBytes-=e}return new c.init(o,e)},clone:function(){var t=e.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=u.extend({cfg:e.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(t,n){return new i.init(n).finalize(t)}},_createHmacHelper:function(i){return function(t,n){return new f.HMAC.init(i,n).finalize(t)}}});var f=t.algo={};return t}(Math);!function(){var t=CryptoJS,n=(e=t.lib).WordArray,i=e.Hasher,u=[],e=t.algo.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,n){for(var i,e=this._hash.words,r=e[0],s=e[1],o=e[2],a=e[3],c=e[4],h=0;h<80;h++){h<16?u[h]=0|t[n+h]:(i=u[h-3]^u[h-8]^u[h-14]^u[h-16],u[h]=i<<1|i>>>31),i=(r<<5|r>>>27)+c+u[h],i=h<20?i+(1518500249+(s&o|~s&a)):h<40?i+(1859775393+(s^o^a)):h<60?i+((s&o|s&a|o&a)-1894007588):i+((s^o^a)-899497514),c=a,a=o,o=s<<30|s>>>2,s=r,r=i}e[0]=e[0]+r|0,e[1]=e[1]+s|0,e[2]=e[2]+o|0,e[3]=e[3]+a|0,e[4]=e[4]+c|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,e=8*t.sigBytes;return n[e>>>5]|=128<<24-e%32,n[14+(64+e>>>9<<4)]=Math.floor(i/4294967296),n[15+(64+e>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=i._createHelper(e),t.HmacSHA1=i._createHmacHelper(e)}();
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(o,t){function e(t){void 0!==t&&_typeof(t);var e=this;t&&!t.refreshSelector&&(t.refreshSelector=t.imgSelector),e.opts=e.extend(e.defaultConf,t),e._imgEl=o(e.opts.imgSelector),e._refreshEl=o(e.opts.refreshSelector),e._inputEl=o(e.opts.inputSelector),e._captchaUrl=e.opts.captchaUrl,e._refreshEl.on("click",function(t){e.refresh(),0<e._inputEl.length&&e._inputEl.focus()})}e.prototype.refresh=function(){this._imgEl.attr("src",this._captchaUrl+"?t="+Math.random()),0<this._inputEl.length&&this._inputEl.val("")},e.prototype.defaultConf={imgSelector:".captcha img",refreshSelector:".captcha",inputSelector:"input[name=verifyCode]",captchaUrl:"https://www.oschina.net/action/user/captcha"},e.prototype.extend=function(t,e){var o={};for(var r in t)t.hasOwnProperty(r)&&(o[r]=t[r]);for(var n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);return o},t.OSCCaptcha=e}(window.jQuery||window.$,window);
"use strict";OSCDefine("space-admin-bind-tel",function(){function e(){var e=this;e._bindTelForm=$(".bind-tel.form"),e._unbindTelForm=$(".unbind-tel.form"),e._changeBindTelForm=$(".change-bind-tel.form"),e.BIND_TEL_SMS_CODE_FLAG="bind_phone_code",e.CHANGE_BIND_TEL_SMS_CODE_FLAG="change_bind_phone_code"}return e.prototype={constructor:e,getSMSCode:function(e){e.form("validate field","phone")&&$("#yp-riddler-box").click()},_phoneCodeCountDown:function(e,t,o){var n=o||60;e.addClass("disabled"),e.text(n+"s 后重新发送"),window.localStorage&&localStorage.setItem(t,Math.floor((new Date).getTime()/1e3)+n);var r=setInterval(function(){--n<1?(clearInterval(r),e.removeClass("disabled"),e.text("获取验证码")):(e.text(n+"s 后重新发送"),window.localStorage&&localStorage.setItem(t,Math.floor((new Date).getTime()/1e3)+n))},1e3)},_sendBindPhoneSMSWithCaptchaAjax:function(t,o,n){var r=this;o.addClass("loading"),$.ajax({type:"POST",url:page.space_user_url+"/user/sendVerifyCodeForBindPhoneWithCode",data:{phoneNumber:t.form("get value","phone"),verifyCode:t.form("get value","verifyCode")},success:function(e){switch(e.message){case"success":r._phoneCodeCountDown(o,n);break;case"not_allow_to_send":t.form("add prompt","vCode","发送次数过多，暂时不可获取验证码");break;case"fail":t.form("add prompt","vCode","短信发送失败");break;case"phone_exist":t.form("add prompt","phone","该手机号码已绑定其它帐号");break;case"图片验证码输入有误":t.form("add prompt","verifyCode","请输入正确的图片验证码"),r._captcha&&r._captcha.refresh(),t.find("input[name=verifyCode]").focus();break;default:r._captcha&&r._captcha.refresh(),e.result&&""!==e.result?t.form("add prompt",e.result,e.message||"发送失败"):setTimeout(function(){t.message({type:"negative",content:e.message||"短信验证码发送失败"})},2e3)}},dataType:"json"}).fail(function(){t.form("add prompt","vCode","短信发送失败")}).always(function(){o.removeClass("loading")})},_sendBindPhoneSMSWithYunpianRiddlerAjax:function(t,o,n){var r=this;o.addClass("loading"),$.ajax({type:"POST",url:page.space_user_url+"/user/sendVerifyCodeForBindPhoneByYun",data:{phoneNumber:t.form("get value","phone"),ypAuthenticate:t.form("get value","ypAuthenticate"),ypToken:t.form("get value","ypToken")},success:function(e){switch(e.message){case"success":r._phoneCodeCountDown(o,n);break;case"not_allow_to_send":t.form("add prompt","vCode","发送次数过多，暂时不可获取验证码");break;case"fail":t.form("add prompt","vCode","短信发送失败");break;case"phone_exist":t.form("add prompt","phone","该手机号码已绑定其它帐号");break;default:e.result&&""!==e.result?t.form("add prompt",e.result,e.message||"发送失败"):setTimeout(function(){t.message({type:"negative",content:e.message||"短信验证码发送失败"})},2e3)}},dataType:"json"}).fail(function(){t.form("add prompt","vCode","短信发送失败")}).always(function(){o.removeClass("loading")})},initYunpianRiddler:function(o,n,r){var a=this,e=document.getElementById("yp-riddler-box");e.innerHTML="",YpRiddler&&new YpRiddler({expired:30,mode:"dialog",winWidth:300,lang:"zh-cn",noButton:!0,container:e,appId:page.yunpian_riddler_appid||"",version:"v1",onError:function(e){429!==e.code?o.form("add prompt","vCode","验证服务异常"):o.form("add prompt","vCode","验证过于频繁，请稍后再试")},onSuccess:function(e,t){o.find(".error").removeClass("error").find(".prompt").remove(),t(),o.form("set value","ypAuthenticate",e.authenticate),o.form("set value","ypToken",e.token),a._sendBindPhoneSMSWithYunpianRiddlerAjax(o,n,r)},onFail:function(e,t,o){o()},beforeStart:function(e){e()},onExit:function(){}})},initBindTelForm:function(){var o=this,n=o._bindTelForm.find(".send-phone-code"),r=o.BIND_TEL_SMS_CODE_FLAG;n.on("click",function(){o.getSMSCode(o._bindTelForm,n,r)}),$(function(){var e,t;window.localStorage&&(e=localStorage.getItem(r))&&(0<(t=(Math.floor(e)||0)-Math.floor((new Date).getTime()/1e3))?o._phoneCodeCountDown(n,r,t):localStorage.removeItem(r)),o._bindTelForm.find("input[name=phone]").focus()}),$.fn.form.settings.rules.phoneExist=function(e){var t=!1;return $.ajax({async:!1,url:page.space_user_url+"/user/check_phone_available",type:"POST",data:{phone:e},dataType:"json",success:function(e){0===e.code&&"success"!==e.message&&(t=!0,setTimeout(function(){$(this).message({type:"negative",content:e.message||"该手机号码已绑定至其他帐号"})},2e3))}}),!t},o._bindTelForm.form({inline:!0,fields:{pwd:{rules:[{type:"empty",prompt:"请输入登录密码"}]},phone:{rules:[{type:"empty",prompt:"请输入手机号码"},{type:"regExp",value:/^1([0-9]{10})$/,prompt:"请输入正确的手机号码"},{type:"phoneExist",prompt:"该手机号码已绑定至其他帐号"}]},vCode:{rules:[{type:"empty",prompt:"请输入短信验证码"}]}}}).api({url:page.space_user_url+"/user/request_bind_phone",method:"post",serializeForm:!0,beforeSend:function(e){$(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll");var t=e.data;return e.data.pwd=CryptoJS.SHA1(t.pwd).toString(),e},onSuccess:function(e){1===e.code?($(this).message({type:"positive",content:e.message||"绑定成功"}),setTimeout(function(){location.reload()},2e3)):"pwd"===e.result||"phone"===e.result||"verifyCode"===e.result||"vCode"===e.result?($(this).form("add prompt",e.result,e.message),$(this).find('input[name="'+e.result+'"]').focus()):$(this).message({type:"negative",content:e.message||"绑定失败"})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})},initUnbindTelForm:function(){this._unbindTelForm.form({inline:!0,fields:{pwd:{rules:[{type:"empty",prompt:"请输入登录密码"}]}}}).api({url:page.space_user_url+"/user/request_unbind_phone",method:"post",serializeForm:!0,beforeSend:function(e){$(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll");var t=e.data;return e.data.pwd=CryptoJS.SHA1(t.pwd).toString(),e},onSuccess:function(e){1===e.code?($(this).message({type:"positive",content:e.message||"解绑成功"}),setTimeout(function(){location.reload()},2e3)):"pwd"===e.result?($(this).form("add prompt",e.result,e.message),$(this).find('input[name="'+e.result+'"]').focus()):$(this).message({type:"negative",content:e.message||"解绑失败"})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})},initChangeBindTelForm:function(){var o=this,n=o._changeBindTelForm.find(".send-phone-code"),r=o.CHANGE_BIND_TEL_SMS_CODE_FLAG;n.on("click",function(){o.getSMSCode(o._changeBindTelForm,n,r)}),$(function(){var e,t;window.localStorage&&(e=localStorage.getItem(r))&&(0<(t=(Math.floor(e)||0)-Math.floor((new Date).getTime()/1e3))?o._phoneCodeCountDown(n,r,t):localStorage.removeItem(r)),o._changeBindTelForm.find("input[name=phone]").focus()}),$.fn.form.settings.rules.phoneExist=function(e){var t=!1;return $.ajax({async:!1,url:page.space_user_url+"/user/check_phone_available",type:"POST",data:{phone:e},dataType:"json",success:function(e){0===e.code&&"success"!==e.message&&(t=!0,setTimeout(function(){$(this).message({type:"negative",content:e.message||"该手机号码已绑定至其他帐号"})},2e3))}}),!t},o._changeBindTelForm.form({inline:!0,fields:{pwd:{rules:[{type:"empty",prompt:"请输入登录密码"}]},phone:{rules:[{type:"empty",prompt:"请输入手机号码"},{type:"regExp",value:/^1([0-9]{10})$/,prompt:"请输入正确的手机号码"},{type:"phoneExist",prompt:"该手机号码已绑定至其他帐号"}]},vCode:{rules:[{type:"empty",prompt:"请输入短信验证码"}]}}}).api({url:page.space_user_url+"/user/request_change_bind_phone",method:"post",serializeForm:!0,beforeSend:function(e){$(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll");var t=e.data;return e.data.pwd=CryptoJS.SHA1(t.pwd).toString(),e},onSuccess:function(e){1===e.code?($(this).message({type:"positive",content:e.message||"更换号码成功"}),setTimeout(function(){location.reload()},2e3)):"pwd"===e.result||"phone"===e.result||"verifyCode"===e.result||"vCode"===e.result?($(this).form("add prompt",e.result,e.message),$(this).find('input[name="'+e.result+'"]').focus()):$(this).message({type:"negative",content:e.message||"更换号码失败"})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})},register:function(){var e,t=this;0<t._bindTelForm.length&&(t.initBindTelForm(),e=t._bindTelForm.find(".send-phone-code"),t.initYunpianRiddler(t._bindTelForm,e,t.BIND_TEL_SMS_CODE_FLAG)),0<t._changeBindTelForm.length&&(t.initChangeBindTelForm(),e=t._changeBindTelForm.find(".send-phone-code"),t.initYunpianRiddler(t._changeBindTelForm,e,t.CHANGE_BIND_TEL_SMS_CODE_FLAG))}},e});
"use strict";OSCDefine("space-admin-blog-catalogs",function(){function a(){this._catalogWrap=$(".blog-catalogs-wrap"),this._catalogsTable=$(".catalogs.table"),this._catalogForm=$(".catalog.form")}return a.prototype={constructor:a,bindAddEditCatalogBtn:function(){var o=this,i=$(".catalog.modal");o._catalogWrap.on("click",".add-catalog-btn",function(){i.modal("show")}),o._catalogsTable.on("click",".edit.button",function(a){var t=$(this).parents("tr:eq(0)"),e=t.data("id"),o=t.data("name"),n=t.data("order");i.data("edit",!0),i.data("catalog-id",e),i.data("catalog-name",o),i.data("catalog-order",n),i.modal("show")}),o._catalogForm.form({inline:!0,fields:{name:{rules:[{type:"empty",prompt:"请输入分类名称"}]},order:{rules:[{type:"empty",prompt:"请输入排序值"},{type:"integer",prompt:"请输入正确的排序值"}]}}}).api({url:page.space_user_url+"/blog/add_blog_catalog",method:"post",serializeForm:!0,beforeSend:function(a){$(this).message("hideAll");var t=a.data,e=o._catalogForm.data("edit");return a.data=e?{space:page.spaceId,id:t.id,name:t.name,sort_order:t.order}:{space:page.spaceId,id:0,name:t.name,sort_order:t.order},a},onSuccess:function(a){var t;1===a.code?(t=o._catalogForm.data("edit"),$(this).message({type:"positive",content:t?"修改成功":"添加成功"}),setTimeout(function(){parent.location.reload()},1e3)):0===a.code?$(this).message({type:"negative",content:a.message}):$(this).message({type:"negative",content:"网络错误，请稍后再试"})},onFailure:function(a){$(this).message({type:"negative",content:a.message||"网络错误，请稍后再试",disappear:2e3})}}),i.modal({onShow:function(){var a,t,e;o._catalogForm.form("reset"),o._catalogForm.message("hideAll"),i.data("edit")?(a=$(this).data("catalog-id")||0,t=$(this).data("catalog-name")||"",e=$(this).data("catalog-order")||0,o._catalogForm.data("edit",!0),o._catalogForm.find("input[name=id]").val(a),o._catalogForm.find("input[name=name]").val(t),o._catalogForm.find("input[name=order]").val(e),$(this).find(".header").text("修改分类")):$(this).find(".header").text("添加分类")},onHidden:function(){i.removeData("edit"),i.removeData("catalog-id")},onApprove:function(){return o._catalogForm.message("hideAll"),o._catalogForm.form("submit"),!1}}),i.on("keydown",function(a){(a.metaKey||a.ctrlKey)&&13===a.keyCode&&i.find(".positive.button").click()})},bindDeleteBtn:function(){this._catalogsTable.on("click",".delete.button",function(a){var e=$(this).parents("tr:eq(0)"),t=e.data("id"),o=$(".delete-catalog.modal");o.find("span.catalog").text(e.data("name")),o.modal({onApprove:function(){$.post(page.space_user_url+"/blog/delete_blog_catalog",{space:page.spaceId,id:t,user_code:page.g_user_code||""},function(a,t){1===a.code?(e.fadeOut(function(){e.remove()}),$("body").toast({type:"success",content:"删除成功"})):(a.code,$("body").toast({type:"error",content:a.message}))}).fail(function(){$("body").toast({type:"error",content:res.message})})}}).modal("show")})},register:function(){this.bindDeleteBtn(),this.bindAddEditCatalogBtn()}},a});
"use strict";OSCDefine("space-admin-blog-comments",function(){function e(){this._commentsWrap=$(".blog-comments-wrap")}return e.prototype={constructor:e,initPJAX:function(){var e=this,t=$(".comments-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a",".blog-comments-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){t.addClass("active")}),$(document).on("pjax:complete",function(){t.removeClass("active"),$("html, body").stop().animate({scrollTop:0},500,"swing"),e.parseEmoticon()})},bindDeleteUserAllBtn:function(){this._commentsWrap.on("click",".delete-user-all.button",function(e){var t=$(this).parents(".comment:eq(0)").data("user-id"),o=$(".delete-user-all-comment.modal"),n=$(".delete-user-all-comment-confirm.modal");o.modal({onApprove:function(){n.modal({onApprove:function(){$.post(page.space_user_url+"/blog/delete_blog_comments_by_user?space="+page.spaceId,{user:t,user_code:page.g_user_code||""},function(e,t){$("body").toast({type:"success",content:"删除成功"}),setTimeout(function(){parent.location.reload()},1e3)}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")}}).modal("show")})},bindDeleteBtn:function(){this._commentsWrap.on("click",".delete.button",function(e){var o=$(this).parents(".comment:eq(0)"),t=o.data("blog-id"),n=o.data("user-id"),a=o.data("comment-id");$(".delete-comment.modal").modal({onApprove:function(){$.post(page.space_user_url+"/blog/delete_blog_comments",{space:page.spaceId,id:a,user:n,blog:t,user_code:page.g_user_code||""},function(e,t){1===e.code?($("body").toast({type:"success",content:"删除成功"}),o.fadeOut(function(){o.remove()})):$("body").toast({type:"error",content:e.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},register:function(){this.initPJAX(),this.bindDeleteUserAllBtn(),this.bindDeleteBtn(),this.parseEmoticon()}},e});
"use strict";OSCDefine("space-admin-blog-settings",function(){return function(){var e=$(".blog-settings.form");e.find(".ui.checkbox").checkbox(),e.form({inline:!0,keyboardShortcuts:!1,fields:{donate_message:{rules:[{type:"empty",prompt:"请输入打赏描述"},{type:"maxLength[100]",prompt:"打赏描述长度不能超过 {ruleValue} 个字符"}]}}}).api({url:page.space_user_url+"/blog/update_settings",method:"post",serializeForm:!0,beforeSend:function(e){$(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll");var t=e.data;return e.data={user_code:t.user_code,blog_editor:t.blog_editor,donate_switch:t.donate_switch,donate_message:t.donate_message},e},onSuccess:function(e){1===e.code?$(this).message({type:"positive",content:e.message||"修改成功",disappear:2e3}):-1<["blog_editor","donate_switch","donate_message"].indexOf(e.result)?$(this).form("add prompt",e.result,e.message):$(this).message({type:"negative",content:e.message||"修改失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})}});
"use strict";OSCDefine("space-admin-change-email",function(){return function(){var e=$(".change-email.form"),t=new OSCCaptcha({imgSelector:".change-email.form .captcha img",refreshSelector:".change-email.form .captcha",inputSelector:".change-email.form input[name=verifyCode]",captchaUrl:page.space_user_url+"/admin/captcha"});e.form({inline:!0,fields:{password:{rules:[{type:"empty",prompt:"请输入登录密码"}]},email:{rules:[{type:"empty",prompt:"请输入新邮箱"},{type:"email",prompt:"请输入正确的邮箱地址"}]},verifyCode:{rules:[{type:"empty",prompt:"请输入验证码"}]}}}).api({url:page.space_user_url+"/admin/request_change_email_new",method:"post",serializeForm:!0,beforeSend:function(e){$(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll");var t=e.data;return e.data={password:CryptoJS.SHA1(t.password).toString(),email:t.email,verifyCode:t.verifyCode},e},onSuccess:function(e){1===e.code?($(this).message({type:"positive",content:e.message||"修改成功"}),$.post(page.g_user_url+"/user/logout",{session:page.g_user_code},function(e){200===e.code&&(location.href=page.login_page||"")}),setTimeout(function(){location.reload()},2e3)):("password"===e.result||"email"===e.result||"verifyCode"===e.result?$(this).form("add prompt",e.result,e.message):$(this).message({type:"negative",content:e.message||"修改失败"}),t.refresh())},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),$(function(){e.find("input[name=password]").focus()})}});
"use strict";OSCDefine("space-admin-chpwd",function(){return function(){$(".chpwd.form").form({inline:!0,fields:{pwd:{rules:[{type:"empty",prompt:"请输入旧的登录密码"}]},newpwd:{rules:[{type:"empty",prompt:"请输入新密码"},{type:"minLength[8]",prompt:"密码长度至少 {ruleValue} 位"},{type:"maxLength[20]",prompt:"密码长度不能超过 {ruleValue} 位"},{type:"password",prompt:"密码必须由字母或特殊字符和数字组成"}]},newpwdConfirm:{rules:[{type:"empty",prompt:"请再次输入新密码"},{type:"match[newpwd]",prompt:"两次密码输入不一致"}]}}}).api({url:page.space_user_url+"/admin/passwd",method:"post",serializeForm:!0,beforeSend:function(e){$(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll");var t=e.data;return e.data={pwd:CryptoJS.SHA1(t.pwd).toString(),newpwd:CryptoJS.SHA1(t.newpwd).toString(),newpwd2:CryptoJS.SHA1(t.newpwd2).toString()},e},onSuccess:function(e){1===e.code?$(this).message({type:"positive",content:e.message||"修改成功"}):-1<["pwd","newpwd","newpwd2"].indexOf(e.result)?$(this).form("add prompt",e.result,e.message):$(this).message({type:"negative",content:e.message||"修改失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})}});
"use strict";OSCDefine("space-admin-drafts",function(){function t(){this._draftsWrap=$(".drafts-wrap")}return t.prototype={constructor:t,initPAJX:function(){var t=this,e=$(".drafts-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a",".drafts-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(){e.removeClass("active"),t.optimizeImgShow(),$("html, body").stop().animate({scrollTop:0},500,"swing")})},bindDeleteBtn:function(){this._draftsWrap.on("click",".delete-btn",function(t){var e=$(this).parents(".draft:eq(0)"),o=e.data("blog-id");$(".delete-draft.modal").modal({onApprove:function(){$.post(page.space_user_url+"/blog/delete_draft",{id:o,user_code:page.g_user_code||""},function(t){1===t.code?($("body").toast({type:"success",content:"删除成功"}),e.fadeOut(function(){e.remove()}),parent.location.reload()):$("body").toast({type:"error",content:t.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},register:function(){this.initPAJX(),this.bindDeleteBtn(),this.optimizeImgShow()}},t});
"use strict";OSCDefine("space-admin-inbox",function(){function e(){this._inboxWrap=$(".inbox-wrap")}return e.prototype={constructor:e,initPJAX:function(){var e=this,t=$(".inbox-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a, .space-tab a.item",".inbox-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){t.addClass("active")}),$(document).on("pjax:complete",function(){t.removeClass("active"),$("html, body").stop().animate({scrollTop:0},500,"swing"),e.parseEmoticon()})},bindDeleteBtn:function(){this._inboxWrap.on("click",".messages-wrap a.delete",function(e){var n=$(this).parents(".private-message:eq(0)"),t=n.data("user-id");$(".delete-message.modal").modal({onApprove:function(){$.post(page.space_user_url+"/msg/delete_user",{user:page.g_user_id,user_code:page.g_user_code,friend:t},function(e,t){1===e.code?($("body").toast({type:"success",content:"删除成功"}),n.fadeOut(function(){n.remove()}),location.reload()):$("body").toast({type:"error",content:"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindClearAllBtn:function(){var t=$(".clear-all.modal"),n=$(".clear-all-confirm.modal");this._inboxWrap.on("click",".clear-all.button",function(e){t.modal({onApprove:function(){n.modal({onApprove:function(){$.post(page.space_user_url+"/msg/cleanup",{userId:page.g_user_id,type:$('input[name="msg_type"]').val()||0},function(e,t){1===e.code?($("body").toast({type:"success",content:"清空成功"}),location.reload()):$("body").toast({type:"error",content:"清空失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")}}).modal("show")})},bindMarkReadAll:function(){this._inboxWrap.on("click",".mark-read-all.button",function(e){$.post(page.space_user_url+"/msg/updateAllMsgRead",{userId:page.g_user_id},function(e){1===e.code?(window.pollingMsg&&window.pollingMsg.fetchMsgCount(),$(".messages-wrap").find(".private-message.un-read").removeClass("un-read"),$("body").toast({type:"success",content:"成功设置全部已读"})):$("body").toast({type:"error",content:"网络错误，请稍后再试"})})})},bindSendMessageBtn:function(){var a=$(".send-private-msg.modal"),n=a.find(".send-private-msg.form");this._inboxWrap.on("click",".messages-wrap a.reply",function(){var e=$(this).parents(".private-message:eq(0)"),t=e.data("user-id"),n=e.data("user-name");a.data("user-id",t),a.data("user-name",n),a.data("reply-mode",!0),a.modal("show")}),this._inboxWrap.on("click",".send-private-msg.button",function(){a.modal("show")}),n.form({inline:!0,fields:{receiver:{rules:[{type:"empty",prompt:"请输入对方昵称"}]},content:{rules:[{type:"empty",prompt:"请输入内容"},{type:"maxLength[250]",prompt:"内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:page.space_user_url+"/msg/send",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={receiver:t.receiver,content:t.content},e},onSuccess:function(e){1===e.code?($(this).message({type:"positive",content:"发送成功"}),n.form("reset"),setTimeout(function(){a.modal("hide"),location.reload()},1e3)):$(this).message({type:"negative",content:e.message||"发送失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),n.find(".select-user.dropdown").dropdown({templates:{menu:function(e,a){var t=e[a.values]||{},o="";return $.each(t,function(e,t){var n=t.avatar?'<img class="ui mini avatar image" src="'+t.avatar+'"/> ':"";o+='<div class="item" data-value="'+t[a.value]+'">',o+=n+t[a.name],o+="</div>"}),o}},fields:{remoteValues:"results",value:"id",name:"name"},filterRemoteData:!1,apiSettings:{url:page.space_user_url+"/admin/user_liaison_Info?q={query}",method:"get",dataType:"JSON",onResponse:function(e){var t=[];return 1===e.code&&Array.isArray(e.result)&&0<e.result.length&&(t=e.result),{results:t}}}}),a.modal({autofocus:!1,onShow:function(){var e,t;n.form("reset"),n.message("hideAll"),a.data("reply-mode")?(e=$(this).data("user-id")||"",t=$(this).data("user-name")||"",$(this).find("span.user-name").html(t),$(this).find("input[name=receiver]").val(e),$(this).find(".send-mode").hide(),$(this).find(".reply-mode").show()):($(this).find(".send-mode").show(),$(this).find(".reply-mode").hide())},onVisible:function(){a.data("reply-mode")&&$(this).find("textarea[name=content]").focus()},onHidden:function(){a.removeData("reply-mode")},onApprove:function(){return n.message("hideAll"),n.form("submit"),!1}}),a.on("keydown",function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&a.find(".positive.button").click()})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},bindUnreadMsgLink:function(){this._inboxWrap.on("click",".messages-wrap .private-message.un-read .content > .description a",function(){var t=$(this).parents(".private-message:eq(0)"),e=t.data("user-id");$.post(page.space_user_url+"/msg/readFriendMsg",{friend:e},function(e){1===e.code&&(window.pollingMsg&&window.pollingMsg.fetchMsgCount(),t.removeClass("un-read"))})})},register:function(){this.initPJAX(),this.bindDeleteBtn(),this.bindMarkReadAll(),this.bindSendMessageBtn(),this.bindUnreadMsgLink(),this.parseEmoticon()}},e});
"use strict";OSCDefine("space-admin-msgs",function(){function e(){this._msgsWrap=$(".inbox-wrap")}return e.prototype={constructor:e,initPJAX:function(){var e=this,t=$(".inbox-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a",".inbox-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){t.addClass("active")}),$(document).on("pjax:complete",function(){t.removeClass("active"),$("html, body").stop().animate({scrollTop:0},500,"swing"),e.parseEmoticon()})},bindDeleteBtn:function(){this._msgsWrap.on("click",".private-message a.delete",function(){var n=$(this).parents(".private-message:eq(0)"),e=n.data("id");$(".delete-message.modal").modal({onApprove:function(){$.post(page.space_user_url+"/msg/delete",{msg:e},function(e,t){n.fadeOut(function(){n.remove()})}).fail(function(){})}}).modal("show")})},bindForwardBtn:function(){var a=$(".forward-msg.modal"),o=a.find(".forward-msg.form");this._msgsWrap.on("click",".private-message a.forward",function(){var e=$(this).parents(".private-message:eq(0)"),t=e.data("user-name")||"",n=e.find(".description").text()||"";a.modal({autofocus:!1,onShow:function(){o.form("reset"),o.message("hideAll"),$(this).find("textarea[name=content]").val("@"+t.trim()+" "+n.trim())},onApprove:function(){return o.message("hideAll"),o.form("submit"),!1}}),a.modal("show")}),o.form({inline:!0,fields:{receiver:{rules:[{type:"empty",prompt:"请输入对方昵称"}]},content:{rules:[{type:"empty",prompt:"请输入内容"},{type:"maxLength[250]",prompt:"内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:page.space_user_url+"/msg/send",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={receiver:t.receiver,content:t.content},e},onSuccess:function(e){1===e.code?($(this).message({type:"positive",content:e.message||"发送成功"}),o.form("reset"),setTimeout(function(){a.modal("hide"),location.reload()},2e3)):$(this).message({type:"negative",content:e.message||"发送失败"})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),o.find(".select-user.dropdown").dropdown({templates:{menu:function(e,a){var t=e[a.values]||{},o="";return $.each(t,function(e,t){var n=t.avatar?'<img class="ui mini avatar image" src="'+t.avatar+'"/> ':"";o+='<div class="item" data-value="'+t[a.value]+'">',o+=n+t[a.name],o+="</div>"}),o}},fields:{remoteValues:"results",value:"id",name:"name"},filterRemoteData:!1,apiSettings:{url:page.space_user_url+"/admin/user_liaison_Info?q={query}",method:"get",dataType:"JSON",onResponse:function(e){var t=[];return 1===e.code&&Array.isArray(e.result)&&0<e.result.length&&(t=e.result),{results:t}}}}),a.on("keydown",function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&a.find(".positive.button").click()})},initSendMessageForm:function(){var t=$(".reply-message");t.form({inline:!0,fields:{content:{rules:[{type:"empty",prompt:"请输入内容"},{type:"maxLength[250]",prompt:"内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:page.space_user_url+"/msg/send",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={receiver:t.receiver,content:t.content},e},onSuccess:function(e){1===e.code?($(this).message({type:"positive",content:e.message||"发送成功"}),t.form("reset"),setTimeout(function(){location.reload()},500)):$(this).message({type:"negative",content:e.message||"发送失败"})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),t.on("keydown",function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&t.find(".positive.button").click()})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},register:function(){this.initPJAX(),this.bindDeleteBtn(),this.bindForwardBtn(),this.initSendMessageForm(),this.parseEmoticon()}},e});
"use strict";OSCDefine("space-admin-mail-settings",function(){return function(){var t=$(".mail-settings.form");t.find(".ui.checkbox").checkbox(),t.form({inline:!0,keyboardShortcuts:!1,fields:{notify_email:{rules:[{type:"empty",prompt:"请输入接收邮箱"},{type:"email",prompt:"请输入正确的邮箱"}]}}}).api({url:page.space_user_url+"/admin/change_notify_setting",method:"post",serializeForm:!0,beforeSend:function(e){return $(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll"),e},onSuccess:function(e){1===e.code?$(this).message({type:"positive",content:e.message||"修改成功",disappear:2e3}):"notify_email"===e.result?$(this).form("add prompt",e.result,e.message):$(this).message({type:"negative",content:e.message||"修改失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),t.find(".resend-email").on("click",function(e){e.preventDefault(),t.form("validate field","notify_email")&&$.post(page.space_user_url+"/favorites/reactivate_notify_email",{notify_email:t.find("input[name=notify_email]").val()},function(e){1===e.code?t.message({type:"positive",content:e.message||"发送成功",disappear:2e3}):"notify_email"===e.result?t.form("add prompt",e.result,e.message):t.message({type:"negative",content:e.message||"发送失败",disappear:2e3})})})}});
"use strict";OSCDefine("space-admin-openid",function(){function t(){$(".bind-openid.dropdown").dropdown(),this._bindingTable=$(".binding.table")}return t.prototype={constructor:t,setStatus:function(t,n){var e=t.find(".status"),o=t.find(".control.button");0===n?(e.html('<div class="ui red empty circular label"></div> 已禁用'),e.removeClass("positive").addClass("negative"),o.removeClass("disable").addClass("enable"),o.html("启用")):1===n&&(e.html('<div class="ui green empty circular label"></div> 使用中'),e.removeClass("negative").addClass("positive"),o.removeClass("enable").addClass("disable"),o.html("禁用"))},bindEnableBtn:function(){var a=this;this._bindingTable.on("click",".enable.button",function(t){var e=$(this).parents("tr:eq(0)"),n=e.data("provider"),o=e.data("account"),i=$(".enable-binding.modal");i.find("span.provider").text(n),i.modal({onApprove:function(){$.post(page.space_user_url+"/openid/do_lock",{provider:n,account:o,status:0},function(t,n){1===t.code?a.setStatus(e,1):$("body").toast({type:"error",content:"启用失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindDisableBtn:function(){var a=this;this._bindingTable.on("click",".disable.button",function(t){var e=$(this).parents("tr:eq(0)"),n=e.data("provider"),o=e.data("account"),i=$(".disable-binding.modal");i.find("span.provider").text(n),i.modal({onApprove:function(){$.post(page.space_user_url+"/openid/do_lock",{provider:n,account:o,status:1},function(t,n){1===t.code?a.setStatus(e,0):$("body").toast({type:"error",content:"禁用失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindDeleteBtn:function(){var a=page.login_bindings_size;this._bindingTable.on("click",".delete.button",function(t){var e=$(this).parents("tr:eq(0)"),n=e.data("provider"),o=e.data("account"),i=$(".delete-binding.modal");i.find("span.provider").text(n),i.modal({onApprove:function(){$.post(page.space_user_url+"/openid/del_bind",{provider:n,account:o},function(t,n){1===t.code?(e.fadeOut(function(){e.remove()}),--a<=0&&$(".openid-wrap").append("<tr class='center aligned'><td colspan='6' style='height: 100px'>尚未绑定过其他登录帐号</td></tr>")):$("body").toast({type:"error",content:"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},register:function(){this.bindEnableBtn(),this.bindDisableBtn(),this.bindDeleteBtn()}},t});
"use strict";OSCDefine("space-admin-privacy",function(){return function(){var e=$(".privacy-settings.form");e.find(".ui.checkbox").checkbox(),e.form({}).api({url:page.space_user_url+"/admin/update_privacy_setting",method:"post",serializeForm:!0,beforeSend:function(e){$(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll");var t=e.data;return e.data={user_code:t.user_code,"log.post":t.post,"log.code_comment":t.code_comment,"log.news_comment":t.news_comment,"log.blog_comment":t.blog_comment},e},onSuccess:function(e){1===e.code?$(this).message({type:"positive",content:e.message||"修改成功",disappear:2e3}):$(this).message({type:"negative",content:e.message||"修改失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})}});
"use strict";OSCDefine("space-admin-blacklist",function(){function e(){var e=this;e._container=$(".blacklist-container"),e._addWrap=e._container.find(".blacklist-add-wrap"),e._usernameSearchEl=e._addWrap.find(".user-name.dropdown"),e._usersContainer=e._container.find(".blacklist-users-container"),e._usersWrap=e._usersContainer.find(".users-wrapper")}return e.prototype={constructor:e,addInputUsernameAutoComplete:function(){this._usernameSearchEl.dropdown({fields:{remoteValues:"results",value:"value",name:"name"},filterRemoteData:!0,apiSettings:{url:page.space_user_url+"/user/query_user?name={query}",method:"post",dataType:"JSON",cache:!0,throttle:400,interruptRequests:!0,onResponse:function(e){var t=[];return 1===e.code&&Array.isArray(e.result)&&0<e.result.length&&(t=e.result.map(function(e){return{name:e.name,value:e.id}})),{results:t}}},onNoResults:function(e){return!!(null!=e&&0<e.trim().length)}})},bindAddUserAction:function(){var t=this;t._addWrap.on("click",".add-btn",function(){t._addBlockUser()}),t._addWrap.on("keydown",function(e){13===e.keyCode&&t._addBlockUser()})},_addBlockUser:function(){var t=this,e=t._addWrap.find('input[name="userId"]').val();if(null==e||0===e.length)return $("body").toast({type:"error",content:"请输入要屏蔽的帐号"}),!1;$.post(page.space_user_url+"/user/update_blacklist",{blackId:e},function(e){1===e.code?(page.fetchUsersUrl&&$.get(page.fetchUsersUrl,function(e){t._usersWrap.html(e)}),t._usernameSearchEl.dropdown("clear")):$("body").toast({type:"error",content:e.message||"操作失败"})}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})})},initListPJAX:function(){var e=$(".users-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a",".blacklist-users-container .users-wrapper",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(){e.removeClass("active"),$("html, body").stop().animate({scrollTop:0},500,"swing")})},register:function(){this.initListPJAX(),this.addInputUsernameAutoComplete(),this.bindAddUserAction()}},e});
"use strict";$(function(){0!==$(".avatar-wrap").length&&new window.common.dynamicLoader(["/new-osc/js/utils/plugins/osc-crop-image.js"],function(){var n,o,i,t,e,s=$(".avatar-wrap");0!==s.find(".upload-btn-wrap").length&&(s.find(".avatar-container").dimmer({on:"hover"}),n=$(".upload-avatar.modal"),o=n.find(".upload-message"),i=null,t=!1,e=page.space_user_url+"/user/save_portrait_new",n.modal({onShow:function(){var a=$(this).attr("data-avatar-url")||"";t||(i=new OSCCropImage({containerSelector:".osc-crop-image-panel",initUrl:a,uploadInputSelector:".upload-file-input",submitCallback:function(a){var t;a&&(o.show(),t={img:a,user_code:page.g_user_code||""},$.ajax({url:e,method:"post",dataType:"json",data:t,success:function(a){var t,e,r;1===a.code?(o.html("头像上传成功"),a.result&&(t=(new Date).getTime(),e=$(".current-user-avatar"),r=a.result+"?t="+t,e.find(".text-portrait")?e.html('<img src="'+r+'"/>'):e.find("img").attr("src",r),s.find('input[name="avatarUrl"]').val(r),window._baseInfoFormActionTip&&window._baseInfoFormActionTip.updatePopupStatus(),setTimeout(function(){i.setInitPicUrl(r),i.showEmptyTips(),i.setInitPic(),o.hide(),n.modal("hide")},1e3))):o.html(a.message||"头像上传失败")},error:function(){o.html("网络错误，请稍后再试")}}))}}),t=!0)}}),$(document).on("click",".upload-avatar-btn",function(){var a=$(this).parents(".avatar-wrap:eq(0)").find("img");n.attr("data-avatar-url",a.attr("src")||""),n.modal("show")}))}).loadFiles()});
!function(se,e,C,M){"use strict";e=void 0!==e&&e.Math==Math?e:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),se.fn.calendar=function(h){var g,e=se(this),m=(e.selector,(new Date).getTime()),y=[],D=h,v="string"==typeof D,b=[].slice.call(arguments,1);return e.each(function(){var c,oe=se.isPlainObject(h)?se.extend(!0,{},se.fn.calendar.settings,h):se.extend({},se.fn.calendar.settings),re=oe.className,e=oe.namespace,t=oe.selector,ie=oe.formatter,a=oe.parser,le=oe.metadata,l=oe.error,n="."+e,o="module-"+e,r=se(this),i=r.find(t.input),de=r.find(t.popup),d=r.find(t.activator),u=this,s=r.data(o),f=!1,p=!1,ue={initialize:function(){ue.debug("Initializing calendar for",u),c=ue.get.isTouch(),ue.setup.popup(),ue.setup.inline(),ue.setup.input(),ue.setup.date(),ue.create.calendar(),ue.bind.events(),ue.instantiate()},instantiate:function(){ue.verbose("Storing instance of calendar"),s=ue,r.data(o,s)},destroy:function(){ue.verbose("Destroying previous calendar for",u),r.removeData(o),ue.unbind.events()},setup:{popup:function(){if(!oe.inline&&(d.length||(d=r.children().first()).length)){if(se.fn.popup===M)return void ue.error(l.popup);de.length||(de=se("<div/>").addClass(re.popup).prependTo(d.parent())),de.addClass(re.calendar);var e=oe.onVisible,t=oe.onHidden;i.length||(de.attr("tabindex","0"),e=function(){return ue.focus(),oe.onVisible.apply(de,arguments)},t=function(){return ue.blur(),oe.onHidden.apply(de,arguments)});var a=oe.on||(i.length?"focus":"click"),n=se.extend({},oe.popupOptions,{popup:de,on:a,hoverable:"hover"===a,onShow:function(){return ue.set.focusDate(ue.get.date()),ue.set.mode(oe.startMode),oe.onShow.apply(de,arguments)},onVisible:e,onHide:oe.onHide,onHidden:t});ue.popup(n)}},inline:function(){d.length&&!oe.inline||(de=se("<div/>").addClass(re.calendar).appendTo(r),i.length||de.attr("tabindex","0"))},input:function(){oe.touchReadonly&&i.length&&c&&i.prop("readonly",!0)},date:function(){var e,t;i.length&&(e=i.val(),t=a.date(e,oe),ue.set.date(t,oe.formatInput,!1))}},create:{calendar:function(){var e,t,a,n=ue.get.mode(),o=new Date,r=ue.get.date(),i=ue.get.focusDate(),l=i||r||oe.initialDate||o,l=ue.helper.dateInRange(l);i||(i=l,ue.set.focusDate(i,!1,!1));var d="year"===n,u="month"===n,s="day"===n,p="hour"===n,c="minute"===n,f="time"===oe.type,h=Math.max(oe.multiMonth,1),g=s?ue.get.monthOffset():0,m=l.getMinutes(),y=l.getHours(),D=l.getDate(),v=l.getMonth()+g,b=l.getFullYear(),C=s?7:p?4:3,M=7==C?"seven":4==C?"four":"three",w=s||p?6:4,x=s?h:1,k=de;for(k.empty(),1<x&&(a=se("<div/>").addClass(re.grid).appendTo(k)),t=0;t<x;t++){1<x&&(k=se("<div/>").addClass(re.column).appendTo(a));var T,F=v+t,H=(new Date(b,F,1).getDay()-oe.firstDayOfWeek%7+7)%7;!oe.constantHeight&&s&&(T=new Date(b,F+1,0).getDate()+H,w=Math.ceil(T/7));var O=d?10:u?1:0,I=s?1:0,N=p||c?1:0,Y=p||c?D:1,R=new Date(b-O,F-I,Y-N,y),E=new Date(b+O,F+I,Y+N,y),j=d?new Date(10*Math.ceil(b/10)-9,0,0):u?new Date(b,0,0):s?new Date(b,F,0):new Date(b,F,D,-1),A=d?new Date(10*Math.ceil(b/10)+1,0,1):u?new Date(b+1,0,1):s?new Date(b,F+1,1):new Date(b,F,D+1),S=se("<table/>").addClass(re.table).addClass(M+" column").addClass(n).appendTo(k);if(!f){var V=se("<thead/>").appendTo(S),P=se("<tr/>").appendTo(V),q=se("<th/>").attr("colspan",""+C).appendTo(P),K=d||u?new Date(b,0,1):s?new Date(b,F,1):new Date(b,F,D,y,m),J=se("<span/>").addClass(re.link).appendTo(q);J.text(ie.header(K,n,oe));var W,z,L=u?oe.disableYear?"day":"year":s?oe.disableMonth?"year":"month":"day";if(J.data(le.mode,L),0===t&&((W=se("<span/>").addClass(re.prev).appendTo(q)).data(le.focusDate,R),W.toggleClass(re.disabledCell,!ue.helper.isDateInRange(j,n)),se("<i/>").addClass(re.prevIcon).appendTo(W)),t===x-1&&((z=se("<span/>").addClass(re.next).appendTo(q)).data(le.focusDate,E),z.toggleClass(re.disabledCell,!ue.helper.isDateInRange(A,n)),se("<i/>").addClass(re.nextIcon).appendTo(z)),s)for(P=se("<tr/>").appendTo(V),Z=0;Z<C;Z++)(q=se("<th/>").appendTo(P)).text(ie.dayColumnHeader((Z+oe.firstDayOfWeek)%7,oe))}for(var B,U,Q=se("<tbody/>").appendTo(S),Z=d?10*Math.ceil(b/10)-9:s?1-H:0,G=0;G<w;G++)for(P=se("<tr/>").appendTo(Q),e=0;e<C;e++,Z++){var X=d?new Date(Z,F,1,y,m):u?new Date(b,Z,1,y,m):s?new Date(b,F,Z,y,m):p?new Date(b,F,D,Z):new Date(b,F,D,y,5*Z),$=d?Z:u?oe.text.monthsShort[Z]:s?X.getDate():ie.time(X,oe,!0);(q=se("<td/>").addClass(re.cell).appendTo(P)).text($),q.data(le.date,X);var _=s&&X.getMonth()!==(F+12)%12,ee=_||!ue.helper.isDateInRange(X,n)||oe.isDisabled(X,n),te=ue.helper.dateEqual(X,r,n),ae=ue.helper.dateEqual(X,o,n);q.toggleClass(re.adjacentCell,_),q.toggleClass(re.disabledCell,ee),q.toggleClass(re.activeCell,te&&!_),p||c||q.toggleClass(re.todayCell,!_&&ae);var ne={mode:n,adjacent:_,disabled:ee,active:te,today:ae};ie.cell(q,X,ne),ue.helper.dateEqual(X,i,n)&&ue.set.focusDate(X,!1,!1)}oe.today&&(B=se("<tr/>").appendTo(Q),(U=se("<td/>").attr("colspan",""+C).addClass(re.today).appendTo(B)).text(ie.today(oe)),U.data(le.date,o)),ue.update.focus(!1,S)}}},update:{focus:function(e,t){t=t||de;var l=ue.get.mode(),a=ue.get.date(),d=ue.get.focusDate(),u=ue.get.startDate(),s=ue.get.endDate(),p=(e?d:null)||a||(c?null:d);t.find("td").each(function(){var e,t,a,n,o,r=se(this),i=r.data(le.date);i&&(e=r.hasClass(re.disabledCell),t=r.hasClass(re.activeCell),a=r.hasClass(re.adjacentCell),n=ue.helper.dateEqual(i,d,l),o=!!p&&(!!u&&ue.helper.isDateInRange(i,l,u,p)||!!s&&ue.helper.isDateInRange(i,l,p,s)),r.toggleClass(re.focusCell,n&&(!c||f)&&!a),r.toggleClass(re.rangeCell,o&&!t&&!e))})}},refresh:function(){ue.create.calendar()},bind:{events:function(){de.on("mousedown"+n,ue.event.mousedown),de.on("touchstart"+n,ue.event.mousedown),de.on("mouseup"+n,ue.event.mouseup),de.on("touchend"+n,ue.event.mouseup),de.on("mouseover"+n,ue.event.mouseover),i.length?(i.on("input"+n,ue.event.inputChange),i.on("focus"+n,ue.event.inputFocus),i.on("blur"+n,ue.event.inputBlur),i.on("click"+n,ue.event.inputClick),i.on("keydown"+n,ue.event.keydown)):de.on("keydown"+n,ue.event.keydown)}},unbind:{events:function(){de.off(n),i.length&&i.off(n)}},event:{mouseover:function(e){var t=se(e.target).data(le.date),a=1===e.buttons;t&&ue.set.focusDate(t,!1,!0,a)},mousedown:function(e){i.length&&e.preventDefault(),f=0<=e.type.indexOf("touch");var t=se(e.target).data(le.date);t&&ue.set.focusDate(t,!1,!0,!0)},mouseup:function(e){ue.focus(),e.preventDefault(),e.stopPropagation(),f=!1;var t=se(e.target),a=t.parent();(a.data(le.date)||a.data(le.focusDate)||a.data(le.mode))&&(t=a);var n,o=t.data(le.date),r=t.data(le.focusDate),i=t.data(le.mode);o?(n=t.hasClass(re.today),ue.selectDate(o,n)):r?ue.set.focusDate(r):i&&ue.set.mode(i)},keydown:function(e){var t,a,n,o,r,i,l,d,u,s,p;27!==e.keyCode&&9!==e.keyCode||ue.popup("hide"),ue.popup("is visible")&&(37===e.keyCode||38===e.keyCode||39===e.keyCode||40===e.keyCode?(t="day"===(s=ue.get.mode())?7:"hour"===s?4:3,a=37===e.keyCode?-1:38===e.keyCode?-t:39==e.keyCode?1:t,a*="minute"===s?5:1,o=(n=ue.get.focusDate()||ue.get.date()||new Date).getFullYear()+("year"===s?a:0),r=n.getMonth()+("month"===s?a:0),i=n.getDate()+("day"===s?a:0),l=n.getHours()+("hour"===s?a:0),d=n.getMinutes()+("minute"===s?a:0),u=new Date(o,r,i,l,d),"time"===oe.type&&(u=ue.helper.mergeDateTime(n,u)),ue.helper.isDateInRange(u,s)&&ue.set.focusDate(u)):13===e.keyCode&&(s=ue.get.mode(),(p=ue.get.focusDate())&&!oe.isDisabled(p,s)&&ue.selectDate(p),e.preventDefault(),e.stopPropagation())),38!==e.keyCode&&40!==e.keyCode||(e.preventDefault(),ue.popup("show"))},inputChange:function(){var e=i.val(),t=a.date(e,oe);ue.set.date(t,!1)},inputFocus:function(){de.addClass(re.active)},inputBlur:function(){var e,t;de.removeClass(re.active),oe.formatInput&&(e=ue.get.date(),t=ie.datetime(e,oe),i.val(t))},inputClick:function(){ue.popup("show")}},get:{date:function(){return r.data(le.date)||null},focusDate:function(){return r.data(le.focusDate)||null},startDate:function(){var e=ue.get.calendarModule(oe.startCalendar);return(e?e.get.date():r.data(le.startDate))||null},endDate:function(){var e=ue.get.calendarModule(oe.endCalendar);return(e?e.get.date():r.data(le.endDate))||null},monthOffset:function(){return r.data(le.monthOffset)||0},mode:function(){var e=r.data(le.mode)||oe.startMode,t=ue.get.validModes();return 0<=se.inArray(e,t)?e:"time"===oe.type?"hour":"month"===oe.type?"month":"year"===oe.type?"year":"day"},validModes:function(){var e=[];return"time"!==oe.type&&(oe.disableYear&&"year"!==oe.type||e.push("year"),(oe.disableMonth||"year"===oe.type)&&"month"!==oe.type||e.push("month"),0<=oe.type.indexOf("date")&&e.push("day")),0<=oe.type.indexOf("time")&&(e.push("hour"),oe.disableMinute||e.push("minute")),e},isTouch:function(){try{return C.createEvent("TouchEvent"),!0}catch(e){return!1}},calendarModule:function(e){return e?(e instanceof se||(e=r.parent().children(e).first()),e.data(o)):null}},set:{date:function(e,t,a){t=!1!==t,a=!1!==a,e=ue.helper.sanitiseDate(e),e=ue.helper.dateInRange(e);var n=ue.get.mode(),o=ie.datetime(e,oe);if(a&&!1===oe.onChange.call(u,e,o,n))return!1;if(ue.set.focusDate(e),oe.isDisabled(e,n))return!1;var r=ue.get.endDate();r&&e&&r<e&&ue.set.endDate(M),ue.set.dataKeyValue(le.date,e),t&&i.length&&i.val(o)},startDate:function(e,t){e=ue.helper.sanitiseDate(e);var a=ue.get.calendarModule(oe.startCalendar);a&&a.set.date(e),ue.set.dataKeyValue(le.startDate,e,t)},endDate:function(e,t){e=ue.helper.sanitiseDate(e);var a=ue.get.calendarModule(oe.endCalendar);a&&a.set.date(e),ue.set.dataKeyValue(le.endDate,e,t)},focusDate:function(e,t,a,n){e=ue.helper.sanitiseDate(e),e=ue.helper.dateInRange(e);var o,r,i="day"===ue.get.mode(),l=ue.get.focusDate();i&&e&&l&&((o=12*(e.getFullYear()-l.getFullYear())+e.getMonth()-l.getMonth())&&(r=ue.get.monthOffset()-o,ue.set.monthOffset(r,!1)));var d=ue.set.dataKeyValue(le.focusDate,e,t);a=!1!==a&&d&&!1===t||p!=n,p=n,a&&ue.update.focus(n)},monthOffset:function(e,t){var a=Math.max(oe.multiMonth,1);e=Math.max(1-a,Math.min(0,e)),ue.set.dataKeyValue(le.monthOffset,e,t)},mode:function(e,t){ue.set.dataKeyValue(le.mode,e,t)},dataKeyValue:function(e,t,a){var n=r.data(e),o=n===t||n<=t&&t<=n;return t?r.data(e,t):r.removeData(e),(a=!1!==a&&!o)&&ue.create.calendar(),!o}},selectDate:function(e,t){var a,n,o=ue.get.mode();t||"minute"===o||oe.disableMinute&&"hour"===o||"date"===oe.type&&"day"===o||"month"===oe.type&&"month"===o||"year"===oe.type&&"year"===o?!1!==ue.set.date(e)&&oe.closable&&(ue.popup("hide"),(a=ue.get.calendarModule(oe.endCalendar))&&(a.popup("show"),a.focus())):(n="year"===o?oe.disableMonth?"day":"month":"month"===o?"day":"day"===o?"hour":"minute",ue.set.mode(n),"hour"===o||"day"===o&&ue.get.date()?ue.set.date(e):ue.set.focusDate(e))},changeDate:function(e){ue.set.date(e)},clear:function(){ue.set.date(M)},popup:function(){return d.popup.apply(d,arguments)},focus:function(){i.length?i.focus():de.focus()},blur:function(){i.length?i.blur():de.blur()},helper:{sanitiseDate:function(e){return e?(e instanceof Date||(e=a.date(""+e,oe)),isNaN(e.getTime())?M:e):M},dateDiff:function(e,t,a){a=a||"day";var n="time"===oe.type,o="year"===a,r=o||"month"===a,i="minute"===a,l=i||"hour"===a;return e=new Date(n?2e3:e.getFullYear(),n||o?0:e.getMonth(),n||r?1:e.getDate(),l?e.getHours():0,i?5*Math.floor(e.getMinutes()/5):0),(t=new Date(n?2e3:t.getFullYear(),n||o?0:t.getMonth(),n||r?1:t.getDate(),l?t.getHours():0,i?5*Math.floor(t.getMinutes()/5):0)).getTime()-e.getTime()},dateEqual:function(e,t,a){return!!e&&!!t&&0===ue.helper.dateDiff(e,t,a)},isDateInRange:function(e,t,a,n){var o;return a||n||(a=(o=ue.get.startDate())&&oe.minDate?new Date(Math.max(o,oe.minDate)):o||oe.minDate,n=oe.maxDate),a=a&&new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),5*Math.ceil(a.getMinutes()/5)),!(!e||a&&0<ue.helper.dateDiff(e,a,t)||n&&0<ue.helper.dateDiff(n,e,t))},dateInRange:function(e,t,a){var n;t||a||(t=(n=ue.get.startDate())&&oe.minDate?new Date(Math.max(n,oe.minDate)):n||oe.minDate,a=oe.maxDate),t=t&&new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),5*Math.ceil(t.getMinutes()/5));var o="time"===oe.type;return e?t&&0<ue.helper.dateDiff(e,t,"minute")?o?ue.helper.mergeDateTime(e,t):t:a&&0<ue.helper.dateDiff(a,e,"minute")?o?ue.helper.mergeDateTime(e,a):a:e:e},mergeDateTime:function(e,t){return e&&t?new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes()):t}},setting:function(e,t){if(ue.debug("Changing setting",e,t),se.isPlainObject(e))se.extend(!0,oe,e);else{if(t===M)return oe[e];se.isPlainObject(oe[e])?se.extend(!0,oe[e],t):oe[e]=t}},internal:function(e,t){return ue.debug("Changing internal",e,t),t===M?ue[e]:void(se.isPlainObject(e)?se.extend(!0,ue,e):ue[e]=t)},debug:function(){!oe.silent&&oe.debug&&(oe.performance?ue.performance.log(arguments):(ue.debug=Function.prototype.bind.call(console.info,console,oe.name+":"),ue.debug.apply(console,arguments)))},verbose:function(){!oe.silent&&oe.verbose&&oe.debug&&(oe.performance?ue.performance.log(arguments):(ue.verbose=Function.prototype.bind.call(console.info,console,oe.name+":"),ue.verbose.apply(console,arguments)))},error:function(){oe.silent||(ue.error=Function.prototype.bind.call(console.error,console,oe.name+":"),ue.error.apply(console,arguments))},performance:{log:function(e){var t,a;oe.performance&&(a=(t=(new Date).getTime())-(m||t),m=t,y.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:u,"Execution Time":a})),clearTimeout(ue.performance.timer),ue.performance.timer=setTimeout(ue.performance.display,500)},display:function(){oe.name;m=!1,clearTimeout(ue.performance.timer),se.each(y,function(e,t){t["Execution Time"]}),(console.group!==M||console.table!==M)&&0<y.length&&(console.table||se.each(y,function(e,t){})),y=[]}},invoke:function(n,e,t){var o,r,a,i=s;return e=e||b,t=u||t,"string"==typeof n&&i!==M&&(n=n.split(/[\. ]/),o=n.length-1,se.each(n,function(e,t){var a=e!=o?t+n[e+1].charAt(0).toUpperCase()+n[e+1].slice(1):n;if(se.isPlainObject(i[a])&&e!=o)i=i[a];else{if(i[a]!==M)return r=i[a],!1;if(!se.isPlainObject(i[t])||e==o)return i[t]!==M?r=i[t]:ue.error(l.method,n),!1;i=i[t]}})),se.isFunction(r)?a=r.apply(t,e):r!==M&&(a=r),se.isArray(g)?g.push(a):g!==M?g=[g,a]:a!==M&&(g=a),r}};v?(s===M&&ue.initialize(),ue.invoke(D)):(s!==M&&s.invoke("destroy"),ue.initialize())}),g!==M?g:this},se.fn.calendar.settings={name:"Calendar",namespace:"calendar",silent:!1,debug:!1,verbose:!1,performance:!1,type:"datetime",firstDayOfWeek:0,constantHeight:!0,today:!1,closable:!0,monthFirst:!0,touchReadonly:!0,inline:!1,on:null,initialDate:null,startMode:!1,minDate:null,maxDate:null,ampm:!0,disableYear:!1,disableMonth:!1,disableMinute:!1,formatInput:!0,startCalendar:null,endCalendar:null,multiMonth:1,popupOptions:{position:"bottom left",lastResort:"bottom left",prefer:"opposite",hideOnScroll:!1},text:{days:["S","M","T","W","T","F","S"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",now:"Now",am:"AM",pm:"PM"},formatter:{header:function(e,t,a){return"year"===t?a.formatter.yearHeader(e,a):"month"===t?a.formatter.monthHeader(e,a):"day"===t?a.formatter.dayHeader(e,a):"hour"===t?a.formatter.hourHeader(e,a):a.formatter.minuteHeader(e,a)},yearHeader:function(e,t){var a=10*Math.ceil(e.getFullYear()/10);return a-9+" - "+(2+a)},monthHeader:function(e,t){return e.getFullYear()},dayHeader:function(e,t){return t.text.months[e.getMonth()]+" "+e.getFullYear()},hourHeader:function(e,t){return t.formatter.date(e,t)},minuteHeader:function(e,t){return t.formatter.date(e,t)},dayColumnHeader:function(e,t){return t.text.days[e]},datetime:function(e,t){if(!e)return"";var a="time"===t.type?"":t.formatter.date(e,t),n=t.type.indexOf("time")<0?"":t.formatter.time(e,t,!1);return a+("datetime"===t.type?" ":"")+n},date:function(e,t){if(!e)return"";var a=e.getDate(),n=t.text.months[e.getMonth()],o=e.getFullYear();return"year"===t.type?o:"month"===t.type?n+" "+o:(t.monthFirst?n+" "+a:a+" "+n)+", "+o},time:function(e,t,a){if(!e)return"";var n=e.getHours(),o=e.getMinutes(),r="";return t.ampm&&(r=" "+(n<12?t.text.am:t.text.pm),n=0===n?12:12<n?n-12:n),n+":"+(o<10?"0":"")+o+r},today:function(e){return"date"===e.type?e.text.today:e.text.now},cell:function(e,t,a){}},parser:{date:function(e,t){if(!e)return null;if(0===(e=(""+e).trim().toLowerCase()).length)return null;var a,n,o=-1,r=-1,i=-1,l=-1,d=-1,u=M,s="time"===t.type,p=t.type.indexOf("time")<0,c=e.split(t.regExp.dateWords),f=e.split(t.regExp.dateNumbers);if(!p)for(u=0<=se.inArray(t.text.am.toLowerCase(),c)||!(0<=se.inArray(t.text.pm.toLowerCase(),c))&&M,a=0;a<f.length;a++){var h=f[a];if(0<=h.indexOf(":")){if(r<0||o<0)for(var g=h.split(":"),m=0;m<Math.min(2,g.length);m++)n=parseInt(g[m]),isNaN(n)&&(n=0),0===m?r=n%24:o=n%60;f.splice(a,1)}}if(!s){for(a=0;a<c.length;a++){var y=c[a];if(!(y.length<=0)){for(y=y.substring(0,Math.min(y.length,3)),n=0;n<t.text.months.length;n++){var D=t.text.months[n];if((D=D.substring(0,Math.min(y.length,Math.min(D.length,3))).toLowerCase())===y){l=n+1;break}}if(0<=l)break}}for(a=0;a<f.length;a++)if(n=parseInt(f[a]),!isNaN(n)&&59<n){d=n,f.splice(a,1);break}if(l<0)for(a=0;a<f.length;a++)if(m=1<a||t.monthFirst?a:1===a?0:1,n=parseInt(f[m]),!isNaN(n)&&1<=n&&n<=12){l=n,f.splice(m,1);break}for(a=0;a<f.length;a++)if(n=parseInt(f[a]),!isNaN(n)&&1<=n&&n<=31){i=n,f.splice(a,1);break}if(d<0)for(a=f.length-1;0<=a;a--)if(n=parseInt(f[a]),!isNaN(n)){n<99&&(n+=2e3),d=n,f.splice(a,1);break}}if(!p){if(r<0)for(a=0;a<f.length;a++)if(n=parseInt(f[a]),!isNaN(n)&&0<=n&&n<=23){r=n,f.splice(a,1);break}if(o<0)for(a=0;a<f.length;a++)if(n=parseInt(f[a]),!isNaN(n)&&0<=n&&n<=59){o=n,f.splice(a,1);break}}if(o<0&&r<0&&i<0&&l<0&&d<0)return null;o<0&&(o=0),r<0&&(r=0),i<0&&(i=1),l<0&&(l=1),d<0&&(d=(new Date).getFullYear()),u!==M&&(u?12===r&&(r=0):r<12&&(r+=12));var v=new Date(d,l-1,i,r,o);return v.getMonth()===l-1&&v.getFullYear()===d||(v=new Date(d,l,0,r,o)),isNaN(v.getTime())?null:v}},onChange:function(e,t,a){return!0},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},isDisabled:function(e,t){return!1},selector:{popup:".ui.popup",input:"input",activator:"input"},regExp:{dateWords:/[^A-Za-z\u00C0-\u024F]+/g,dateNumbers:/[^\d:]+/g},error:{popup:"UI Popup, a required component is not included in this page",method:"The method you called is not defined."},className:{calendar:"calendar",active:"active",popup:"ui popup",grid:"ui equal width grid",column:"column",table:"ui celled center aligned unstackable table",prev:"prev link",next:"next link",prevIcon:"chevron left icon",nextIcon:"chevron right icon",link:"link",cell:"link",disabledCell:"disabled",adjacentCell:"adjacent",activeCell:"active",rangeCell:"range",focusCell:"focus",todayCell:"today",today:"today link"},metadata:{date:"date",focusDate:"focusDate",startDate:"startDate",endDate:"endDate",mode:"mode",monthOffset:"monthOffset"}}}(jQuery,window,document);
"use strict";OSCDefine("space-admin-profile",function(){function e(){var t=this;function i(e){for(var n=window.location.search.substring(1).split("&"),t=0;t<n.length;t++){var i=n[t].split("=");if(i[0]===e)return i[1]}return""}t._spaceTabMenu=$(".space-tab.menu"),t._currentPath=t._spaceTabMenu.find(".item.active").data("tab"),t._spaceTabMenu.find(".item").tab({onLoad:function(e){var n;t._currentPath!==e&&(n=e,i("tab")!==n&&history.pushState(null,"","?tab="+n),t.changeActionTip(t._currentPath,e),t._currentPath=e)}}),window.addEventListener("popstate",function(e){var n=i("tab");null!=n&&t._spaceTabMenu.find(".item").tab("change tab",n)}),t._actionTipMap={baseInfo:null,contactInfo:null,skillInfo:null,deliveryInfo:null}}return e.prototype={constructor:e,initBaseInfoForm:function(){var o=$(".base-info.form");o.find(".ui.checkbox").checkbox(),o.find(".birthday").calendar({type:"date",text:{days:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今天",now:"现在",am:"上午",pm:"下午"},formatter:{date:function(e){if(!e)return"";function n(e){return 9<parseInt(e)?e+"":"0"+e}return n(e.getFullYear())+"-"+n(e.getMonth()+1)+"-"+n(e.getDate())}}});var a={"北京":["东城","西城","朝阳","丰台","石景山","海淀","门头沟","房山","通州","顺义","昌平","大兴","平谷","怀柔","密云","延庆"],"上海":["崇明","黄浦","卢湾","徐汇","长宁","静安","普陀","闸北","虹口","杨浦","闵行","宝山","嘉定","浦东","金山","松江","青浦","南汇","奉贤"],"广东":["广州","深圳","珠海","东莞","中山","佛山","惠州","河源","潮州","江门","揭阳","茂名","梅州","清远","汕头","汕尾","韶关","顺德","阳江","云浮","湛江","肇庆"],"江苏":["南京","常熟","常州","海门","淮安","江都","江阴","昆山","连云港","南通","启东","沭阳","宿迁","苏州","太仓","泰州","同里","无锡","徐州","盐城","扬州","宜兴","仪征","张家港","镇江","周庄"],"重庆":["万州","涪陵","渝中","大渡口","江北","沙坪坝","九龙坡","南岸","北碚","万盛","双挢","渝北","巴南","黔江","长寿","綦江","潼南","铜梁","大足","荣昌","壁山","梁平","城口","丰都","垫江","武隆","忠县","开县","云阳","奉节","巫山","巫溪","石柱","秀山","酉阳","彭水","江津","合川","永川","南川"],"安徽":["合肥","安庆","蚌埠","亳州","巢湖","滁州","阜阳","贵池","淮北","淮化","淮南","黄山","九华山","六安","马鞍山","宿州","铜陵","屯溪","芜湖","宣城"],"福建":["福州","厦门","泉州","漳州","龙岩","南平","宁德","莆田","三明"],"甘肃":["兰州","白银","定西","敦煌","甘南","金昌","酒泉","临夏","平凉","天水","武都","武威","西峰","张掖"],"广西":["南宁","百色","北海","桂林","防城港","贵港","河池","贺州","柳州","钦州","梧州","玉林"],"贵州":["贵阳","安顺","毕节","都匀","凯里","六盘水","铜仁","兴义","玉屏","遵义"],"海南":["海口","儋县","陵水","琼海","三亚","通什","万宁"],"河北":["石家庄","保定","北戴河","沧州","承德","丰润","邯郸","衡水","廊坊","南戴河","秦皇岛","唐山","新城","邢台","张家口"],"黑龙江":["哈尔滨","北安","大庆","大兴安岭","鹤岗","黑河","佳木斯","鸡西","牡丹江","齐齐哈尔","七台河","双鸭山","绥化","伊春"],"河南":["郑州","安阳","鹤壁","潢川","焦作","济源","开封","漯河","洛阳","南阳","平顶山","濮阳","三门峡","商丘","新乡","信阳","许昌","周口","驻马店"],"香港":["香港","九龙","新界"],"湖北":["武汉","恩施","鄂州","黄冈","黄石","荆门","荆州","潜江","十堰","随州","武穴","仙桃","咸宁","襄阳","襄樊","孝感","宜昌"],"湖南":["长沙","常德","郴州","衡阳","怀化","吉首","娄底","邵阳","湘潭","益阳","岳阳","永州","张家界","株洲"],"江西":["南昌","抚州","赣州","吉安","景德镇","井冈山","九江","庐山","萍乡","上饶","新余","宜春","鹰潭"],"吉林":["长春","吉林","白城","白山","珲春","辽源","梅河","四平","松原","通化","延吉"],"辽宁":["沈阳","鞍山","本溪","朝阳","大连","丹东","抚顺","阜新","葫芦岛","锦州","辽阳","盘锦","铁岭","营口"],"澳门":["澳门"],"内蒙古":["呼和浩特","阿拉善盟","包头","赤峰","东胜","海拉尔","集宁","临河","通辽","乌海","乌兰浩特","锡林浩特"],"宁夏":["银川","固源","石嘴山","吴忠"],"青海":["西宁","德令哈","格尔木","共和","海东","海晏","玛沁","同仁","玉树"],"山东":["济南","滨州","兖州","德州","东营","菏泽","济宁","莱芜","聊城","临沂","蓬莱","青岛","曲阜","日照","泰安","潍坊","威海","烟台","枣庄","淄博"],"山西":["太原","长治","大同","候马","晋城","离石","临汾","宁武","朔州","忻州","阳泉","榆次","运城"],"陕西":["西安","安康","宝鸡","汉中","渭南","商州","绥德","铜川","咸阳","延安","榆林"],"四川":["成都","巴中","达川","德阳","都江堰","峨眉山","涪陵","广安","广元","九寨沟","康定","乐山","泸州","马尔康","绵阳","眉山","南充","内江","攀枝花","遂宁","汶川","西昌","雅安","宜宾","自贡","资阳"],"台湾":["台北","基隆","台南","台中","高雄","屏东","南投","云林","新竹","彰化","苗栗","嘉义","花莲","桃园","宜兰","台东","金门","马祖","澎湖"],"天津":["天津","和平","东丽","河东","西青","河西","津南","南开","北辰","河北","武清","红挢","塘沽","汉沽","大港","宁河","静海","宝坻","蓟县"],"新疆":["乌鲁木齐","阿克苏","阿勒泰","阿图什","博乐","昌吉","东山","哈密","和田","喀什","克拉玛依","库车","库尔勒","奎屯","石河子","塔城","吐鲁番","伊宁"],"西藏":["拉萨","阿里","昌都","林芝","那曲","日喀则","山南"],"云南":["昆明","大理","保山","楚雄","大理","东川","个旧","景洪","开远","临沧","丽江","六库","潞西","曲靖","思茅","文山","西双版纳","玉溪","中甸","昭通"],"浙江":["杭州","安吉","慈溪","定海","奉化","海盐","黄岩","湖州","嘉兴","金华","临安","临海","丽水","宁波","瓯海","平湖","千岛湖","衢州","江山","瑞安","绍兴","嵊州","台州","温岭","温州","余姚","舟山"],"海外":["美国","日本","英国","法国","德国","其它"]};function r(e,n){var t=a[e];if(t)for(var i=n.options.length=0;i<t.length;i++)n.options[i]=new Option(t[i],t[i])}$(function(){var e=o.find("select[name=province]"),n=o.find("select[name=city]"),t=page.province||"",i=page.city||"";r(t,n.get(0)),e.dropdown({onChange:function(e){r(e,n.get(0))}}),n.dropdown(),e.dropdown("set selected",t),n.dropdown("set selected",i)}),$.fn.form.settings.rules.birthday=function(e){return""===e.trim()||/^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/.test(e)},o.form({inline:!0,fields:{name:{rules:[{type:"empty",prompt:"请输入昵称"},{type:"minLength[2]",prompt:"昵称长度不能少于 {ruleValue} 个字符"},{type:"maxLength[20]",prompt:"昵称长度不能超过 {ruleValue} 个字符"}]},birthday:{rules:[{type:"birthday",prompt:"请输入正确的出生日期"}]},province:{rules:[{type:"empty",prompt:"请选择省份"}]},city:{rules:[{type:"empty",prompt:"请选择地区"}]},signature:{rules:[{type:"maxLength[100]",prompt:"个性签名长度不能超过 {ruleValue} 个字符"}]}}}).api({url:page.space_user_url+"/admin/update_basic_info",method:"post",serializeForm:!0,beforeSend:function(e){$(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll");var n,t=e.data;return e.data={user_code:t.user_code,name:t.name,province:t.province,city:t.city,signature:t.signature,weekly_report:t.weekly_report,notify:t.notify},t.birthday&&(n=t.birthday.split("-"),e.data.y=n[0],e.data.m=n[1],e.data.d=n[2]),e},onSuccess:function(e){1===e.code?$(this).message({type:"positive",content:e.message||"修改成功",disappear:2e3}):"name"===e.result||"signature"===e.result?$(this).form("add prompt",e.result,e.message):$(this).message({type:"negative",content:e.message||"修改失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})},initContactInfoForm:function(){var o=$(".contact-info.form");o.find(".ui.checkbox").checkbox(),o.find(".set-email").on("click",function(){o.find("input[name=email]").val($(this).data("value")),o.find("input[name=qq]").focus()}),$.fn.form.settings.rules.checkRegExpIf=function(e,n){var t=n.regExp||"",i=n.checkboxName||"";return(0!==e.trim().length||!o.find('input[name="'+i+'"]').is(":checked"))&&!(t instanceof RegExp&&0<e.trim().length&&!e.match(t))},o.form({inline:!0,fields:{tel:{rules:[{type:"checkRegExpIf",value:{regExp:/^1([0-9]{10})$/,checkboxName:"open_tel"},prompt:"请输入正确的联系电话"}]},email:{rules:[{type:"checkRegExpIf",value:{regExp:/[\w-.]+@[\w-]+(.[\w_-]+)+/,checkboxName:"open_email"},prompt:"请输入正确的邮箱地址"}]},qq:{optional:!0,rules:[{type:"integer",prompt:"请输入正确的QQ"}]},website:{optional:!0,rules:[{type:"url",prompt:"请输入正确的网址"}]}}}).api({url:page.space_user_url+"/admin/update_contact_info",method:"post",serializeForm:!0,beforeSend:function(e){return $(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll"),e},onSuccess:function(e){1===e.code?$(this).message({type:"positive",content:e.message||"修改成功",disappear:2e3}):"tel"===e.result||"email"===e.result||"qq"===e.result||"website"===e.result?$(this).form("add prompt",e.result,e.message):$(this).message({type:"negative",content:e.message||"修改失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})},initSkillInfoForm:function(){var n=$(".skill-info.form");n.find(".ui.dropdown").dropdown(),n.find(".ui.checkbox").checkbox();var e=n.find(".lang-field");e.find("input[type=checkbox]").on("change",function(){5<=e.find("input[type=checkbox]:checked").length?e.find("input[type=checkbox]:not(:checked)").parent().addClass("disabled"):e.find(".checkbox").removeClass("disabled")});var t=n.find(".professional-fields-field");t.find("input[type=checkbox]").on("change",function(){3<=t.find("input[type=checkbox]:checked").length?t.find("input[type=checkbox]:not(:checked)").parent().addClass("disabled"):t.find(".checkbox").removeClass("disabled")}),n.form({inline:!0,fields:{company:{rules:[{type:"maxLength[30]",prompt:"工作单位长度不能超过 {ruleValue} 个字符"}]}}}).api({url:page.space_user_url+"/admin/update_skill_info",method:"post",serializeForm:!1,beforeSend:function(e){return $(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll"),e.data=n.serialize(),e},onSuccess:function(e){1===e.code?$(this).message({type:"positive",content:e.message||"修改成功",disappear:2e3}):"company"===e.result?$(this).form("add prompt",e.result,e.message):$(this).message({type:"negative",content:e.message||"修改失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})},initDeliveryInfoForm:function(){$(".delivery-info.form").form({inline:!0,fields:{name:{rules:[{type:"empty",prompt:"请输入收货人姓名"},{type:"maxLength[20]",prompt:"长度不能超过 {ruleValue} 个字符"}]},tel:{rules:[{type:"empty",prompt:"请输入手机号码"},{type:"maxLength[20]",prompt:"长度不能超过 {ruleValue} 个字符"}]},address:{rules:[{type:"empty",prompt:"请输入收货地址"},{type:"maxLength[100]",prompt:"长度不能超过 {ruleValue} 个字符"}]}}}).api({url:page.space_user_url+"/admin/update_delivery_info",method:"post",serializeForm:!0,beforeSend:function(e){return $(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll"),e},onSuccess:function(e){1===e.code?$(this).message({type:"positive",content:e.message||"修改成功",disappear:2e3}):"name"===e.result||"phone"===e.result||"address"===e.result?$(this).form("add prompt",e.result,e.message):$(this).message({type:"negative",content:e.message||"修改失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})},initBaseInfoFormActionTip:function(){var i=$(".base-info.form"),e=[{name:"email",interrupt:!1,shouldShow:function(){return 0<i.find("[data-email-tip]").length},addListener:function(){}},{name:"avatar",shouldShow:function(){return 0<i.find(".avatar-wrap").find(".current-user-avatar .text-portrait").length},addListener:function(){}},{name:"birthday",shouldShow:function(){return!i.find('input[name="birthday"]').val()},addListener:function(e){i.find('input[name="birthday"]').on("focus blur",e)}},{name:"region",shouldShow:function(){var e=i.find('select[name="province"]'),n=i.find('select[name="city"]');return!(e.val()&&n.val())},addListener:function(e){var n=i.find('select[name="province"]'),t=i.find('select[name="city"]');n.on("change",function(){setTimeout(function(){e()},500)}),t.on("change",function(){setTimeout(function(){e()},500)})}}];window._baseInfoFormActionTip=this._actionTipMap.baseInfo=new OSCActionTip(e)},initSkillInfoFormActionTip:function(){var i=$(".skill-info.form"),e=[{name:"job",shouldShow:function(){var e=i.find('select[name="job"]'),n=i.find('select[name="work_years"]');return!e.val()||!n.val()},addListener:function(e){var n=i.find('select[name="job"]'),t=i.find('select[name="work_years"]');n.on("change",function(){setTimeout(function(){e()},500)}),t.on("change",function(){setTimeout(function(){e()},500)})}},{name:"job_status",shouldShow:function(){return!i.find('input[name="job_status"]:checked').val()},addListener:function(e){i.find('input[name="job_status"]').on("change",function(){setTimeout(function(){e()},500)})}},{name:"company",shouldShow:function(){return!i.find('input[name="company"]').val()},addListener:function(e){i.find('input[name="company"]').on("focus blur",e)}},{name:"lang",shouldShow:function(){return!i.find('input[name="lang"]:checked').val()},addListener:function(e){i.find('input[name="lang"]').on("change",function(){setTimeout(function(){e()},500)})}},{name:"field",shouldShow:function(){return!i.find('input[name="field"]:checked').val()},addListener:function(e){i.find('input[name="field"]').on("change",function(){setTimeout(function(){e()},500)})}}];this._actionTipMap.skillInfo=new OSCActionTip(e)},changeActionTip:function(e,n){var t=e&&this._actionTipMap[e],i=n&&this._actionTipMap[n];t&&t.destroyAllPopup(),window.OSCActionTip&&768<=window.innerWidth&&i&&i.updatePopupStatus(!0)},register:function(){var e=this;e.initBaseInfoForm(),e.initContactInfoForm(),e.initSkillInfoForm(),e.initDeliveryInfoForm(),e.initBaseInfoFormActionTip(),e.initSkillInfoFormActionTip(),$(function(){e.changeActionTip(null,e._currentPath)})}},e});
"use strict";OSCDefine("space-admin-subscribe",function(){function e(){var i=$(".space-tab.menu"),n=i.find(".item.active").data("tab");function a(e){for(var t=window.location.search.substring(1).split("&"),i=0;i<t.length;i++){var n=t[i].split("=");if(n[0]===e)return n[1]}return""}i.find(".item").tab({onLoad:function(e){var t;n!==e&&(t=e,a("tab")!==t&&history.pushState(null,"","?tab="+t),n=e)}}),window.addEventListener("popstate",function(e){var t=a("tab");null!=t&&i.find(".item").tab("change tab",t)})}return e.prototype={constructor:e,initForm:function(){var t=$(".tag-form.form");t.find(".ui.checkbox").checkbox(),t.form({inline:!0,fields:{}}).api({url:page.space_user_url+"/admin/update_feed_subscribe",method:"post",serializeForm:!1,beforeSend:function(e){return $(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll"),e.data=t.serialize(),e},onSuccess:function(e){1===e.code?$(this).message({type:"positive",content:"保存成功",disappear:2e3}):$(this).message({type:"negative",content:e.message||"保存失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})},register:function(){this.initForm()}},e});
"use strict";OSCDefine("space-admin-translation",function(){function t(){this._translationWrap=$(".translation-wrap")}return t.prototype={constructor:t,initPJAX:function(){var t=$(".translation-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a",".translation-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){t.addClass("active")}),$(document).on("pjax:complete",function(){t.removeClass("active"),$("html, body").stop().animate({scrollTop:0},500,"swing")})},bindDeleteBtn:function(){this._translationWrap.on("click",".translate-paragraph a.delete",function(t){var n=$(this).parents(".translate-paragraph:eq(0)"),a=n.data("id");$(".delete-paragraph.modal").modal({onApprove:function(){$.post(page.space_user_url+"/translate/delete_translated",{id:a},function(t,a){1===t.code?($("body").toast({type:"success",content:"删除成功"}),n.fadeOut(function(){n.remove()})):$("body").toast({type:"error",content:"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},register:function(){this.initPJAX(),this.bindDeleteBtn()}},t});
"use strict";OSCDefine("space-admin-translation-delivered",function(){function e(){this._translationDeliveredWrap=$(".translation-delivered-wrap")}return e.prototype={constructor:e,initPJAX:function(){var e=$(".translation-delivered-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a",".translation-delivered-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(){e.removeClass("active"),$("html, body").stop().animate({scrollTop:0},500,"swing")})},initDeliverArticleModal:function(){var t=$(".deliver-article.modal"),e=t.find("#deliverArticleForm");e.form({inline:!0,keyboardShortcuts:!1,fields:{title_en:{rules:[{type:"empty",prompt:"请输入英文标题"}]},title_cn:{rules:[{type:"empty",prompt:"请输入中文标题"}]},link_en:{rules:[{type:"empty",prompt:"请输入文章原文链接"},{type:"url",prompt:"请输入正确的原文链接"}]},category:{rules:[{type:"empty",prompt:"请选择分类"}]}}}).api({url:page.space_user_url+"/translate/deliver_article",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={title_en:t.title_en,title_cn:t.title_cn,link_en:t.link_en,category:t.category},e},onSuccess:function(e){1===e.code?($("body").toast({type:"success",content:e.message||"投递成功"}),t.modal("hide"),$(this).form("reset"),setTimeout(function(){location.reload()},1e3)):$("body").toast({type:"error",content:e.message||"投递失败"})},onFailure:function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})}}),e.find(".category.dropdown").dropdown(),t.modal({onApprove:function(){return e.message("hideAll"),e.form("submit"),!1}}),this._translationDeliveredWrap.on("click",".deliver-article-btn",function(){t.modal("show")})},register:function(){this.initPJAX(),this.initDeliverArticleModal()}},e});
"use strict";OSCDefine("space-admin-projects",function(){function t(){this._projectsList=$(".project-list")}return t.prototype={constructor:t,initPJAX:function(){var t=$(".projects-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a",".projects-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){t.addClass("active")}),$(document).on("pjax:complete",function(){t.removeClass("active"),$("html, body").stop().animate({scrollTop:0},500,"swing")})},bindDeleteBtn:function(){this._projectsList.on("click",".project-wrap a.delete",function(t){var o=$(this).parents(".private-project:eq(0)"),e=o.data("id");$(".delete-project.modal").modal({onApprove:function(){$.post(page.space_user_url+"/project/delete_project",{id:e},function(t,e){1===t.code?($("body").toast({type:"success",content:"删除成功"}),o.fadeOut(function(){o.remove()})):$("body").toast({type:"error",content:"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},register:function(){this.initPJAX(),this.bindDeleteBtn()}},t});
"use strict";OSCDefine("space-admin-releases",function(){return function(){var e=$(".releases-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a",".releases-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(){e.removeClass("active"),$("html, body").stop().animate({scrollTop:0},500,"swing")})}});
"use strict";OSCDefine("space-admin-user-settings",function(){return function(){var e=$(".user-settings.form");e.find(".ui.checkbox").checkbox(),e.form({inline:!0,fields:{ident:{rules:[{type:"maxLength[20]",prompt:"个性网址长度不能超过 {ruleValue} 个字符"}]},space_name:{rules:[{type:"maxLength[40]",prompt:"网页标题长度不能超过 {ruleValue} 个字符"}]}}}).api({url:page.space_user_url+"/admin/update_setting",method:"post",serializeForm:!0,beforeSend:function(e){return $(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll"),e},onSuccess:function(e){1===e.code?$(this).message({type:"positive",content:e.message||"修改成功"}):"ident"===e.result||"space_name"===e.result?$(this).form("add prompt",e.result,e.message):$(this).message({type:"negative",content:e.message||"修改失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})}});
"use strict";OSCDefine("space-admin-publish",function(){return function(){var e=$("#publishWrapper"),a=$(".publish-news.form"),t=$(".publish-project.form"),i=$(".publish-link.form"),o=a.find("input[name=title]"),r=a.find("textarea[name=newsDetail]"),s=t.find("input[name=name]"),l=t.find("textarea[name=projectDetail]"),n=i.find("input[name=link]");e.find(".dropdown").dropdown(),e.find(".checkbox").checkbox();function p(e){switch(e){case"publish-news":o.focus();break;case"publish-project":s.focus();break;case"publish-link":n.focus()}}var u=$("#publishTabList");u.find(".item").tab({onLoad:function(e){p(e)}});var d={height:350,resize_minHeight:423,resize_maxHeight:1e3,uploadUrl:page.space_user_url+"/space/ckeditor_dialog_img_upload",filebrowserUploadUrl:page.space_user_url+"/space/ckeditor_dialog_img_upload"},c=function(){var i=CKEDITOR.replace(r[0],d);i.on("change",function(e){r.val(e.editor.getData())}),i.on("fileUploadResponse",function(e){setTimeout(function(){r.val(e.editor.getData())},0)}),i.on("mode",function(e){var t;"source"===this.mode&&(t=i.editable()).attachListener(t,"input",function(){r.val(e.editor.getData())})})},m=function(){var i=CKEDITOR.replace(l[0],d);i.on("change",function(e){l.val(e.editor.getData())}),i.on("fileUploadResponse",function(e){setTimeout(function(){l.val(e.editor.getData())},0)}),i.on("mode",function(e){var t;"source"===this.mode&&(t=i.editable()).attachListener(t,"input",function(){l.val(e.editor.getData())})})};a.form({inline:!0,fields:{title:{identifier:"title",rules:[{type:"empty",prompt:"请输入新闻标题"},{type:"maxLength[50]",prompt:"新闻标题长度不能超过 {ruleValue} 个字符"}]},projectId:{identifier:"projectId",optional:!0,rules:[{type:"empty",prompt:"请选择新闻的关联软件"}]},newsDetail:{identifier:"newsDetail",rules:[{type:"empty",prompt:"请输入新闻内容"}]},flag:{identifier:"flag",rules:[{type:"empty",prompt:"请选择新闻的评论权限"}]},original_url:{identifier:"original_url",optional:!0,rules:[{type:"url",prompt:"请输入正确的原文链接"}]}}}).api({url:page.space_user_url+"/space/add_news",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data,i=a.find(".project-name.dropdown").dropdown("get text");"关联软件"===i&&(i="");var n=a.find(".project-name.dropdown").dropdown("get value")||-1;return e.data={type:t.type,title:t.title,projectName:i,pid:n,detail:t.newsDetail,original_name:t.original_name,original_url:t.original_url,flag:t.flag},e},onSuccess:function(e){var t;1===e.code?($(this).message({type:"positive",content:e.message||"投递成功"}),window.onbeforeunload=null,t=page.space_user_url+"/admin/releases",setTimeout(function(){window.location.href=t},2e3)):$(this).message({type:"positive",content:e.message||"投递失败"})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),a.find(".project-name.dropdown").dropdown({fields:{remoteValues:"results",value:"value",name:"name"},filterRemoteData:!1,apiSettings:{url:page.space_user_url+"/space/list_projects?q={query}",method:"get",dataType:"JSON",cache:!1,throttle:200,interruptRequests:!0,onResponse:function(e){var t=[];return 1===e.code&&Array.isArray(e.result)&&0<e.result.length&&(t=e.result.map(function(e){return{name:e.name,value:e.pid+""}})),{results:t}}},onNoResults:function(e){return!!(e&&0<e.trim().length)}}),t.form({inline:!0,fields:{name:{identifier:"name",rules:[{type:"empty",prompt:"请输入软件名称"},{type:"maxLength[50]",prompt:"软件名称长度不能超过 {ruleValue} 个字符"}]},home_url:{identifier:"home_url",rules:[{type:"empty",prompt:"请输入软件网址"},{type:"url",prompt:"请输入正确的软件网址"}]},download_url:{identifier:"download_url",optional:!0,rules:[{type:"url",prompt:"请输入正确的下载地址"}]},doc_url:{identifier:"doc_url",optional:!0,rules:[{type:"url",prompt:"请输入正确的文档地址"}]},projectDetail:{identifier:"projectDetail",rules:[{type:"empty",prompt:"请输入详细介绍"}]},license:{identifier:"license",rules:[{type:"empty",prompt:"请选择开源许可证"}]}}}).api({url:page.space_user_url+"/space/add_project",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={name:t.name,home_url:t.home_url,download_url:t.download_url,doc_url:t.doc_url,detail:t.projectDetail,license:t.license},e},onSuccess:function(e){var t;1===e.code?($(this).message({type:"positive",content:e.message||"添加成功"}),window.onbeforeunload=null,t=page.space_user_url+"/admin/projects",setTimeout(function(){window.location.href=t},2e3)):$(this).message({type:"negative",content:e.message||"添加失败"})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),i.form({inline:!0,keyboardShortcuts:!1,fields:{link:{identifier:"link",rules:[{type:"empty",prompt:"请输入文章链接"},{type:"url",prompt:"请输入正确的文章链接"}]}}}).api({url:page.space_user_url+"/space/addLink",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={link:t.link,userId:page.g_user_id},e},onSuccess:function(e){1===e.code?$(this).message({type:"positive",content:"投递成功"}):$(this).message({type:"negative",content:e.message||"投递失败"})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}});var f=$(".check-link.button");f.on("click",function(){i.form("validate field","link")&&(f.addClass("loading"),i.message("hideAll"),$.ajax({type:"POST",url:page.space_user_url+"/space/checkURL",data:{link:i.find("input[name=link]").val()},dataType:"json",success:function(e){1===e.code?i.message({type:"positive",content:"投递链接合法"}):i.message({type:"negative",content:"投递链接有误"})}}).fail(function(){i.message({type:"negative",content:"网络错误，请稍后再试"})}).always(function(){f.removeClass("loading")}))}),$(function(){c(),m();var e=u.find(".item.active");e&&p(e.attr("data-tab")||"publish-news"),window.onbeforeunload=function(){var e=o.val().trim(),t=r.val().trim(),i=s.val().trim(),n=l.val().trim();if(""!==e||""!==t||""!==i||""!==n)return"确认放弃此文章"}})}});
"use strict";OSCDefine("space-admin-publish-news",function(){return function(){var r=$(".publish-news.form"),i=r.find("input[name=title]"),n=r.find("textarea[name=newsDetail]"),e={add:page.space_user_url+"/space/add_news",edit:page.space_user_url+"/space/edit_news"};r.find(".dropdown").dropdown(),r.find(".checkbox").checkbox();var t={height:350,resize_minHeight:423,resize_maxHeight:1e3,uploadUrl:page.space_user_url+"/space/ckeditor_dialog_img_upload",filebrowserUploadUrl:page.space_user_url+"/space/ckeditor_dialog_img_upload"},o=function(){var e=CKEDITOR.replace(n[0],t);e.on("change",function(e){e.editor.updateElement()}),e.on("fileUploadResponse",function(e){setTimeout(function(){e.editor.updateElement()},0)}),e.on("mode",function(e){var t;"source"===e.editor.mode&&(t=e.editor.editable()).attachListener(t,"input",function(){e.editor.updateElement()})})},a=e.add;page.is_edit&&(a=e.edit),r.form({inline:!0,fields:{title:{identifier:"title",rules:[{type:"empty",prompt:"请输入新闻标题"},{type:"maxLength[50]",prompt:"新闻标题长度不能超过 {ruleValue} 个字符"}]},projectId:{identifier:"projectId",optional:!0,rules:[{type:"empty",prompt:"请选择新闻的关联软件"}]},newsDetail:{identifier:"newsDetail",rules:[{type:"empty",prompt:"请输入新闻内容"}]},flag:{identifier:"flag",rules:[{type:"empty",prompt:"请选择新闻的评论权限"}]},original_url:{identifier:"original_url",optional:!0,rules:[{type:"url",prompt:"请输入正确的原文链接"}]}}}).api({url:a,method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll"),e.url=a;var t=e.data,i=r.find(".project-name.dropdown").dropdown("get text");"关联软件"===i&&(i="");var n=r.find(".project-name.dropdown").dropdown("get value")||-1;return e.data={id:t.id,editor:t.editor,type:t.type,title:t.title,projectName:i,pid:n,detail:t.newsDetail,source:t.source,original_url:t.original_url,flag:t.flag},e},onSuccess:function(e){var t;1===e.code?($(this).message({type:"positive",content:e.message||(page.is_edit?"保存成功":"投递成功")}),window.onbeforeunload=null,t=page.space_user_url+"/admin/releases",setTimeout(function(){window.location.href=t},2e3)):$(this).message({type:"negative",content:e.message||(page.is_edit?"保存失败":"投递失败")})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),r.find(".project-name.dropdown").dropdown({fields:{remoteValues:"results",value:"value",name:"name"},filterRemoteData:!1,apiSettings:{url:page.space_user_url+"/space/list_projects?q={query}",method:"get",dataType:"JSON",cache:!1,throttle:200,interruptRequests:!0,onResponse:function(e){var t=[];return 1===e.code&&Array.isArray(e.result)&&0<e.result.length&&(t=e.result.map(function(e){return{name:e.name,value:e.pid+""}})),{results:t}}},onNoResults:function(e){return!!(e&&0<e.trim().length)}}),$(function(){o(),i.focus(),window.onbeforeunload=function(){var e=i.val().trim(),t=n.val().trim();if(""!==e||""!==t)return"确认放弃此文章"}})}});
"use strict";OSCDefine("space-admin-publish-project",function(){return function(){var e=$(".publish-project.form"),i=e.find("input[name=name]"),o=e.find("textarea[name=projectDetail]"),t={add:page.space_user_url+"/space/add_project",edit:page.space_user_url+"/space/edit_project"};e.find(".checkbox").checkbox();var r={height:350,resize_minHeight:423,resize_maxHeight:1e3,uploadUrl:page.space_user_url+"/space/ckeditor_dialog_img_upload",filebrowserUploadUrl:page.space_user_url+"/space/ckeditor_dialog_img_upload"},a=function(){var i=CKEDITOR.replace(o[0],r);i.on("change",function(e){o.val(e.editor.getData())}),i.on("fileUploadResponse",function(e){setTimeout(function(){o.val(e.editor.getData())},0)}),i.on("mode",function(e){var t;"source"===this.mode&&(t=i.editable()).attachListener(t,"input",function(){o.val(e.editor.getData())})})},n=t.add;page.is_edit&&(n=t.edit),e.form({inline:!0,fields:{name:{identifier:"name",rules:[{type:"empty",prompt:"请输入软件名称"},{type:"maxLength[50]",prompt:"软件名称长度不能超过 {ruleValue} 个字符"}]},home_url:{identifier:"home_url",rules:[{type:"empty",prompt:"请输入软件网址"},{type:"url",prompt:"请输入正确的软件网址"}]},download_url:{identifier:"download_url",optional:!0,rules:[{type:"url",prompt:"请输入正确的下载地址"}]},doc_url:{identifier:"doc_url",optional:!0,rules:[{type:"url",prompt:"请输入正确的文档地址"}]},projectDetail:{identifier:"projectDetail",rules:[{type:"empty",prompt:"请输入详细介绍"}]},license:{identifier:"license",rules:[{type:"empty",prompt:"请选择开源许可证"}]}}}).api({url:n,method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll"),e.url=n;var t=e.data;return e.data={id:t.id,name:t.name,home_url:t.home_url,download_url:t.download_url,doc_url:t.doc_url,detail:t.projectDetail,license:t.license},e},onSuccess:function(e){var t;1===e.code?($(this).message({type:"positive",content:e.message||(page.is_edit?"保存成功":"添加成功")}),window.onbeforeunload=null,t=page.space_user_url+"/admin/projects",setTimeout(function(){window.location.href=t},2e3)):$(this).message({type:"negative",content:e.message||(page.is_edit?"保存失败":"添加失败")})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),$(function(){a(),i.focus(),window.onbeforeunload=function(){var e=i.val().trim(),t=o.val().trim();if(""!==e||""!==t)return"确认放弃此软件"}})}});
"use strict";!function(){function t(t,e,i){this.node_get=document.getElementById(e)||document.body,this.content="",this.id=0,this.url=window.location.href,this.url=this.url.split("#")[0],this.last_node=[0],this.last_id=0;this.countTotalElement(this.node_get);"function"==typeof i&&i(0===this.content.length),this.content+="</ul>",document.getElementById(t).innerHTML=this.content}t.prototype.countTotalElement=function(t){var e=0;if(1===t.nodeType){if(0<=t.className.indexOf("osc_git_box"))return e;e++;var i=0;switch(t.tagName.toLowerCase()){case"h1":i=1;break;case"h2":i=2;break;case"h3":i=3;break;case"h4":i=4;break;case"h5":i=5;break;case"h6":i=6}if(0<i){for(this.id++;i<this.last_node[this.last_id];this.last_id--)1<this.last_id?(this.content+="</ul>",this.tagNum--):(this.last_node[1]=i,this.last_id++);i>this.last_node[this.last_id]&&(this.content+="<ul>",++this.last_id,this.last_node[this.last_id]=i,this.tagNum++),t.setAttribute("id",t.tagName.toLowerCase()+"_"+this.id),this.content+='<li><a href="'+this.url+"#"+t.tagName.toLowerCase()+"_"+this.id+'">'+t.innerText+"</a></li>\n"}}for(var s=t.childNodes,n=0;n<s.length;n++)e+=this.countTotalElement(s[n]);return e},window.OSCCatalogue=t}();
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(d){function m(t){var o=this;if("object"===_typeof(t))return o.option=d.extend({},b,t),o._collectPopupBtn=d(o.option.btnSelector+'[data-flag="'+o.option.uniqueFlag+'"]'),o._collectLabel=o._collectPopupBtn.find(o.option.btnLabelSelector),o._collectPopup=d(o.option.popupSelector+'[data-flag="'+o.option.uniqueFlag+'"]'),void(o._collectForm=o._collectPopup.find(o.option.formSelector))}var b={btnSelector:".collect-btn",btnLabelSelector:"[data-label]",popupSelector:".collect.popup",formSelector:".collect.form",uniqueFlag:"",objectId:"",objectKey:"",objectFromOSC:!0,objectTypeId:"",userId:"",recommendTags:[],maxNum:99,requiredTags:!1,activeClass:"active",nonActivatedIconClass:"outline",initFormatLabel:!0};m.prototype.init=function(){var t=this;t.option.initFormatLabel&&0<t._collectLabel.length&&m.labelFormat(t._collectLabel,t.option.maxNum),t.insertRecommendTags(),t.btnPopup(),t.blurTagEvent(),t.formInit(),t.bindTagsEvent()},m.prototype.insertRecommendTags=function(){var t=this;if(0<t.option.recommendTags.length){for(var o="",e=t.option.recommendTags.length,n=t._collectPopup.find(".recommend-tags"),a=0;a<e;a++){var c=t.option.recommendTags[a];o+='<a class="ui label" data-value="'+c+'">'+c+"</a>"}n.find(".labels").html(o+n.find(".labels").html()),n.show()}},m.prototype.btnPopup=function(){var l=this;l._collectPopupBtn.popup({popup:l._collectPopup,position:"bottom center",on:"click",onShow:function(){if(l._collectPopupBtn.hasClass(l.option.activeClass)){var t={type:l.option.objectTypeId,user:l.option.userId};return l.option.objectFromOSC?t.id=l.option.objectId:t.articleKey=l.option.objectKey,d.post(page.space_user_url+"/favorites/cancel",t,function(t){var o,e,n,a,c=t&&"string"==typeof t?JSON.parse(t):t;1===c.code?(o=m.getCollectNumFriendly(c.result,l.option.maxNum),e='[data-obj-type="'+l.option.objectTypeId+'"]',l.option.objectFromOSC?e+='[data-id="'+l.option.objectId+'"]':e+='[data-key="'+l.option.objectKey+'"]',(n=d(l.option.btnSelector+e)).removeClass(l.option.activeClass),n.find(".icon").addClass(l.option.nonActivatedIconClass),0<(a=n.find(l.option.btnLabelSelector)).length&&a.html("收藏("+o+")"),d("[data-collect-count]"+e).html(o)):d("body").toast({type:"error",content:"取消收藏失败"})}),!1}l._collectForm.form("reset"),l._collectForm.message("hideAll")},onVisible:function(){l._collectPopupBtn.hasClass(l.option.activeClass)||l._collectForm.find('input[name="tags"]').focus()}})},m.prototype.showPopup=function(){this._collectPopupBtn.popup("show")},m.prototype.blurTagEvent=function(){var o=this._collectForm.find("input[name=tags]");this._collectForm.on("focusout",o,function(t){setTimeout(function(){o.scrollLeft(o[0].scrollWidth)},0)})},m.prototype.formInit=function(){var c=this;c._collectForm.form({inline:!0,keyboardShortcuts:!1,on:"blur"}),c.option.requiredTags&&c._collectForm.form("add rule","tags",{identifier:"tags",rules:[{type:"empty",prompt:"必须填写收藏标签"}]}),c._collectForm.api({url:page.space_user_url+"/favorites/add",method:"post",serializeForm:!0,beforeSend:function(t){if(c._collectForm.message("hideAll"),!c._collectForm.form("validate form"))return!1;var o=t.data;return t.data={type:c.option.objectTypeId,user:c.option.userId,tags:o.tags},c.option.objectFromOSC?t.data.id=c.option.objectId:t.data.articleKey=c.option.objectKey,t},onSuccess:function(t){var o,e,n,a;1===t.code?(t.message&&d("body").toast({type:"success",content:t.message}),o=m.getCollectNumFriendly(t.result,c.option.maxNum),c._collectForm.form("reset"),e='[data-obj-type="'+c.option.objectTypeId+'"]',c.option.objectFromOSC?e+='[data-id="'+c.option.objectId+'"]':e+='[data-key="'+c.option.objectKey+'"]',(n=d(c.option.btnSelector+e)).addClass(c.option.activeClass),n.find(".icon").removeClass(c.option.nonActivatedIconClass),0<(a=n.find(c.option.btnLabelSelector)).length&&a.html("已收藏("+o+")"),d("[data-collect-count]"+e).html(o),c._collectPopupBtn.popup("hide")):c._collectForm.message({type:"negative",content:"收藏失败"})},onFailure:function(){c._collectForm.message({type:"negative",content:"网络错误，请稍后再试"})}})},m.prototype.bindTagsEvent=function(){var c=this;c._collectForm.on("click",".label",function(t){var e=d(this).attr("data-value"),o=c._collectForm.find("input[name=tags]"),n=m.commaStr2Arr(o.val()),a=-1;n.some(function(t,o){return t.trim()===e&&(a=o,!0)})?n.splice(a,1):n.push(e),o.val(n.join(",")).focus(),c._collectForm.form("validate form")})},m.getCollectNumFriendly=function(t,o){return t},m.labelFormat=function(t,e){var o=(o=t.html()).replace(/\((.*)?\)/,function(t,o){return"("+m.getCollectNumFriendly(o,e)+")"});t.html(o)},m.commaStr2Arr=function(t){var o=[];return t&&0<t.trim().length&&(o=(o=t.trim().replace(/，/gi,",").split(",")).filter(function(t){return t&&t.trim()})),o},window.OSCCollect=m;var t=function(){d(".collect-btn span.label").each(function(t,o){var e=d(o),n=parseInt(e.attr("data-max"))||b.maxNum;m.labelFormat(e,n)})},o=function(){var t,o,e,n;d(document).on("click",".collect-btn",function(t){var e=d(this);if(!window.common.checkLoginForWeChat(null,function(){try{var t,o;window.page&&page.objType&&page.objId&&(t=d(".collect-btn").index(e),o="OSC_COLLECT_"+page.objType+"_"+page.objId+"_CACHE",localStorage.setItem(o,t))}catch(t){}}))return!1;var o=e.attr("data-user-id"),n=parseInt(e.attr("data-obj-type")),a=e.attr("data-current-user-id");if(o===a){var c="内容";switch(n){case 1:c="软件";break;case 2:c="问答";break;case 3:c="博客";break;case 4:c="新闻"}return d("body").toast({type:"error",content:"不能收藏自己的"+c}),!1}var l=e.attr("data-flag")||Math.random().toString(36).substr(2,6);e.attr("data-flag",l);var r=m.commaStr2Arr(e.attr("data-recommend-tags")),i=e.attr("data-id"),p=e.attr("data-key"),s=!0;i&&0<parseInt(i)?s=!0:p&&(s=!1);var u={btnSelector:".collect-btn",popupSelector:".collect.popup",uniqueFlag:l,objectId:i,objectKey:p,objectFromOSC:s,objectTypeId:e.attr("data-obj-type"),userId:e.attr("data-current-user-id"),recommendTags:r,maxNum:parseInt(e.attr("data-max"))||b.maxNum,requiredTag:void 0!==e.attr("data-tag-required"),initFormatLabel:!1};0===d('.collect.popup[data-flag="'+l+'"]').length&&!0!==window.oscCollectLoading&&(window.oscCollectLoading=!0,d.get(page.space_user_url+"/widgets/collect_popup",function(t){var o=document.createElement("div");o.innerHTML=t,d(o).find(".collect.popup").attr("data-flag",l),document.body.appendChild(o);var e=new m(u);e.init(),e.showPopup()}).always(function(){window.oscCollectLoading=!1}))}),void 0!==window.localStorage&&window.page&&page.g_user_code&&page.objType&&page.objId&&(t="OSC_COLLECT_"+page.objType+"_"+page.objId+"_CACHE",(o=localStorage.getItem(t)||"")&&(localStorage.removeItem(t),0<(e=d(".collect-btn:eq("+(parseInt(o)||0)+")")).length&&(n=e.offset().top,d("html, body").stop(!0).animate({scrollTop:n-30},500,"swing"),setTimeout(function(){e.click()},1e3))))};d(function(){t(),o()})}(window.jQuery||window.$);
"use strict";({bindLink:function(){var u=this;$(document).on("click","a.donate[donate]",function(t){var a=$(this),e=a.attr("data-id"),n=a.attr("data-obj-type"),o=a.attr("data-subject"),i=a.attr("data-donater"),r=a.attr("data-author"),d=a.attr("data-return-url"),s=a.attr("data-notify-url");0===$.find(".donate.modal").length&&!0!==window.oscDonateLoading?(window.oscDonateLoading=!0,$.get(page.space_user_url+"/widgets/donate_modal?userId="+r,function(t){var a=document.createElement("div");a.innerHTML=t,document.body.appendChild(a),u.initModal(),u.showModal(e,n,o,i,r,d,s)}).always(function(){window.oscDonateLoading=!1})):u.showModal(e,n,o,i,r,d,s)})},initModal:function(){var u=this,l=$(".donate.modal"),i=$("#donateForm"),m=l.find(".submit-btn");l.find(".checkbox").checkbox(),this.initMoneyRadio(i),$.fn.form.settings.rules.money=function(t){return/^\d+(\.\d+)?$/.test(t)},$.fn.form.settings.rules.range=function(t,a){var e=a.split(","),n=parseInt(e[0]),o=parseInt(e[1]);return n<=t&&t<=o},$.fn.form.settings.rules.decimalPlaces=function(t,a){var e=t.split(".");return!(2===e.length&&e[1].length>a)},i.form({inline:!0,fields:{payMoney:{rules:[{type:"empty",prompt:"请输入金额"},{type:"money",prompt:"请输入正确的金额"},{type:"range[1,10000]",prompt:"打赏金额为 1-10000 元以内"},{type:"decimalPlaces[2]",prompt:"最多支持2位小数"}]},message:{rules:[{type:"maxLength[100]",prompt:"留言内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:page.space_user_url+"/donate/donate",method:"post",serializeForm:!0,beforeSend:function(t){m.addClass("loading disabled"),$(this).message("hideAll");var a=l.attr("data-id"),e=l.attr("data-obj-type"),n=l.attr("data-subject"),o=l.attr("data-donater"),i=l.attr("data-author"),r=l.attr("data-return-url"),d=l.attr("data-notify-url"),s=t.data;return 50<n.length&&(n=n.substring(0,48)+"……"),t.data={payMoney:s.payMoney,money:u.accMul(parseFloat(s.payMoney),100),donaterName:s.donaterName,message:s.message,"reward-way":s.rewardWay,objType:e,objId:a,donater:o,subject:n,author:i,returnUrl:r,notifyUrl:d,sign:""},t},onSuccess:function(t){var a,e,n,o;m.removeClass("loading disabled"),t.success?"wepay"===t.payType?(e=(a=l.find(".wepay-box")).find(".qr-code-wrap"),n=a.find(".wepay-amount"),i.hide(),(o=((o=i.find("input[name=payMoney]").val())+"").replace(/^0+\./g,"0.")).match(/^0+[1-9]+/)&&(o=o.replace(/^0+/g,"")),n.text(o),e.html('<img src="data:image/png;base64,'+t.data+'"/>'),l.find(".actions").hide(),a.fadeIn(),u.donateWePayOrderStatusInit(t.order)):(l.find(".alipay-dialog").html(t.data),l.modal("hide")):$(this).message({type:"negative",content:t.msg})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),l.modal({onShow:function(){i.form("reset"),i.message("hideAll")},onApprove:function(){return i.message("hideAll"),i.form("submit"),!1},onHidden:function(){l.find(".wepay-dialog").hide(),l.find(".actions").show(),i.show()}}),l.on("keydown",function(t){(t.metaKey||t.ctrlKey)&&13===t.keyCode&&l.find(".positive.button").click()})},showModal:function(t,a,e,n,o,i,r){var d=$(".donate.modal");d.attr("data-id",t),d.attr("data-obj-type",a),d.attr("data-subject",e),d.attr("data-donater",n),d.attr("data-author",o),d.attr("data-return-url",i),d.attr("data-notify-url",r),d.modal("show")},initMoneyRadio:function(e){var n=$(".money.menu");function o(t){t.addClass("active").closest(".ui.menu").find(".item").not(t).removeClass("active")}n.on("click",".item",function(){var t=e.find("input[name=payMoney]"),a=$(this).data("value");t.val(a),o($(this)),""===a&&t.focus()}),e.on("keyup","input[name=payMoney]",function(){var t,a=$(this).val();""!==a.trim()&&(0===(t=n.find('.item[data-value="'+a+'"]')).length&&(t=n.find('.item[data-value=""]')),o(t))})},accMul:function(t,a){if("number"!=typeof t||"number"!=typeof a)return 0;var e=0,n=t+"",o=a+"";return-1<n.indexOf(".")&&(e+=n.split(".")[1].length),-1<o.indexOf(".")&&(e+=o.split(".")[1].length),Number(n.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,e)},donateWePayOrderStatusInit:function(a){var t=$(".donate.modal"),n=$("#donateForm"),o=t.find(".wepay-box"),i=t.find(".wepay-success"),r=this,e=0;page.g_user_code&&(e=page.g_user_id),setTimeout(function t(){r.payTimer&&(clearTimeout(r.payTimer),r.payTimer=null);r.payTimer=setTimeout(t,1e3);$.post(page.space_user_url+"/donate/queryStatus",{orderCode:a,uid:e},function(t){var a,e=i.find(".wepay-amount");t.data&&3===t.data.status&&r.payTimer&&(clearTimeout(r.payTimer),r.payTimer=null,o.hide(),i.fadeIn(),a=n.find("input[name=payMoney]").val(),e.text(a),n.form("reset"))}).fail(function(){r.payTimer&&(clearTimeout(r.payTimer),r.payTimer=null)})},3e3)}}).bindLink();
"use strict";OSCPlugin("blog-detail-comments",function(){return function(){var t={config:{objId:0,fetchCommentsUrl:"",publishCommentUrl:"",replyCommentUrl:"",deleteCommentUrl:""},init:function(e){this._commentsContainer=$("#commentsContainer"),this._commentsWrap=this._commentsContainer.find(".comments-wrap"),this.config=$.isPlainObject(e)?$.extend(!0,{},this.config,e):$.extend({},this.config)},loadComments:function(e,t){var o,n=this,a=Math.floor(e)||1;-1===a&&(o=n._commentsWrap.find(".pagination-wrap"),a=Math.floor(o.data("page"))||1);var r=window.common.addQueryParams(n.config.fetchCommentsUrl,{p:a});$.get(r,function(e){n._commentsWrap.html(e),n.parseEmoticon(),t&&$.isFunction(t)&&t.call(this)})},loadCommentsByCommentId:function(e,t){var o=this,n=Math.floor(e)||1,a=window.common.addQueryParams(o.config.fetchCommentsUrl,{commentId:n});$.get(a,function(e){o._commentsWrap.html(e),o.parseEmoticon(),t&&$.isFunction(t)&&t.call(this)})},initCommentForm:function(){var a=this,r="OSC_BLOG_"+page.objId+"_COMMENT_CACHE",o="OSC_BLOG_"+page.objId+"_COMMENT_PUBLISH_CACHE",t=window.common.throttle(function(e){try{e&&0<e.trim().length?localStorage.setItem(r,e):localStorage.removeItem(r)}catch(e){}},500);a.commentFormVue=new Vue({el:"#commentForm",data:function(){return{commentMaxLength:1e3,commentContent:"",commentPublishLoading:!1,tipMessage:{show:!1,content:"",className:""},curEmojiType:"People",emojiList:[{type:"People",items:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"]},{type:"Nature",items:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"]},{type:"Objects",items:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"]},{type:"Places",items:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"]},{type:"Symbols",items:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}]}},computed:{curEmojiItems:function(){for(var e=0,t=this.emojiList.length;e<t;e++)if(this.emojiList[e].type===this.curEmojiType)return this.emojiList[e].items;return this.emojiList[0].items},commentContentIsEmpty:function(){return 0===this.commentContent.length},commentCountText:function(){return this.commentContent.length+"/"+this.commentMaxLength}},mounted:function(){var e,t;void 0!==window.localStorage&&(e=localStorage.getItem(r)||"",t=localStorage.getItem(o)||"",e&&0<e.trim().length&&(this.commentContent=e,t&&page.g_user_code&&(localStorage.removeItem(o),this.publishComment())))},methods:{insertEmoji:function(e){this.clearMessage();var t=":"+e+":";this.insertContent(t),$(this.$refs.showEmojiBox).popup("hide")},insertProject:function(){this.clearMessage();var e,t,o="#此处输入软件#";this.insertContent(o)&&(t=(e=selectRange.of(this.$refs.commentTextarea)).getCurPos(),e.setSelectText(t-(o.length-1),t-1))},publishComment:function(){var e,n=this,t=window.common.getCurrentUrl(!0)+"#commentForm";if(!window.common.checkLoginForWeChat(t,function(){try{localStorage.setItem(o,"1")}catch(e){}}))return!1;n.tweetPublishLoading||(n.clearMessage(),n.commentContentIsEmpty?n.showMessage("error","内容不能为空",2e3):n.commentContent.length>n.commentMaxLength?n.showMessage("error","最多只能输入"+n.commentMaxLength+"个字符！",2e3):(n.commentPublishLoading=!0,e={blog:a.config.objId,content:n.commentContent},$.post(a.config.publishCommentUrl,e,function(e){var t,o;1===e.code?(e.message&&$("body").toast({type:"success",content:e.message||"评论发布成功"}),window.localStorage&&window.localStorage.removeItem(r),n.commentContent="",a.loadComments(),t=$(".float-menu .comment-btn"),e.result&&void 0!==e.result.replyCount&&(o=e.result.replyCount,$("[data-article-reply-count]").html(o),t.attr("title","共有 "+o+" 条评论")),t.find(".icon").removeClass("outline"),$("html, body").stop().animate({scrollTop:a._commentsWrap.offset().top-80},500,"swing")):n.showMessage("error",e.message||"发布失败",2e3)}).fail(function(){n.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){n.commentPublishLoading=!1})))},commentContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13==e.keyCode&&this.publishComment()},insertContent:function(e){return!this.commentPublishLoading&&(this.commentContent.length>=this.commentMaxLength||this.commentContent.length+e.length>this.commentMaxLength?void this.showMessage("error","最多只能输入"+this.commentMaxLength+"个字符！",2e3):(selectRange.of(this.$refs.commentTextarea).insertAfterText(e),this.commentContent=this.$refs.commentTextarea.value,!0))},showMessage:function(e,t,o){var n=this;n.tipMessage.className="success"===e?"positive":"negative",n.tipMessage.content=t;var a=parseInt(o)||0;n.tipMessage.show=!0,0<a&&setTimeout(function(){n.clearMessage()},a)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1}},watch:{commentContent:function(e){t(e)}}}),$("#commentForm").find(".comment-form .toolbox > .item[data-popup]").each(function(e,t){var o=$(t),n=$(o).parent().find(".toolbox-popup."+o.attr("data-popup"));o.popup({position:"bottom left",popup:n,on:"toolbox-picture"===o.attr("data-popup")?"manual":"click",exclusive:!0})})},initCommentDeleteModal:function(){var c=this,o=$(".delete-comment.modal");o.modal({onDeny:function(){var i=$(this).attr("data-comment-id"),s=c._commentsWrap.find("div.comment[data-comment-id="+i+"]"),e=s.attr("data-comment-user-id");$.post(c.config.deleteCommentUrl,{space:page.space_user_id,id:i,user:e,blog:c.config.objId},function(e){var t,o,n,a,r;1===e.code?($("body").toast({type:"success",content:"删除成功"}),s.fadeOut(function(){var e=s.parent();e.is(".comments[children-comments]")&&1===e.children(".comment").length&&1===e.children(".comment[data-comment-id="+i+"]").length?e.remove():s.remove()}),o=(t=c._commentsWrap.find("> .header span")).text(),n=$("[data-article-reply-count]"),a=$(".float-menu .comment-btn"),o?((r=parseInt(o)-(1+s.find("div.comment").length))<0&&(r=0),t.text(r),n.html(r),a.attr("title","共有 "+r+" 条评论")):(t.text(0),n.html(0),a.attr("title","共有 0 条评论")),e.result&&void 0!==e.result.selfCommentCount&&e.result.selfCommentCount<=0&&a.find(".icon").addClass("outline")):$("body").toast({type:"error",content:e.message||"删除失败"})})}}),c._commentsWrap.on("click",".actions a.remove",function(e){e.stopPropagation();var t=$(e.target).parents(".comment:eq(0)").attr("data-comment-id");o.attr("data-comment-id",t),o.modal("show")})},initReplyCommentModal:function(){var n=this,a=$(".reply-comment.modal"),r=$("#replyCommentForm");a.modal({onShow:function(){r.form("reset"),r.message("hideAll");var e=$(this).attr("data-comment-user-id")||-1,t=$(this).attr("data-comment-id")||-1;r.find("input[name=reply_id]").val(e+"_"+t)},onApprove:function(){return r.message("hideAll"),r.form("submit"),!1}}),r.form({inline:!0,fields:{content:{rules:[{type:"empty",prompt:"请输入评论内容"},{type:"maxLength[1000]",prompt:"内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:n.config.replyCommentUrl,method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={blog:n.config.objId,reply_id:t.reply_id,content:t.content},e},onSuccess:function(e){var t,o;1===e.code?($(this).message({type:"positive",content:"评论回复成功"}),r.form("reset"),n.loadComments(),t=$(".float-menu .comment-btn"),e.result&&void 0!==e.result.replyCount&&(o=e.result.replyCount,$("[data-article-reply-count]").html(o),t.attr("title","共有 "+o+" 条评论")),t.find(".icon").removeClass("outline"),setTimeout(function(){a.modal("hide")},2e3)):$(this).message({type:"negative",content:e.message||"回复失败"})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),a.on("keydown",function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&a.find(".positive.button").click()}),n._commentsWrap.on("click",".actions a.reply",function(e){if(e.stopPropagation(),!window.common.checkLogin())return!1;var t=$(e.target).parents(".comment:eq(0)"),o=t.attr("data-comment-user-id"),n=t.attr("data-comment-id");a.attr("data-comment-user-id",o),a.attr("data-comment-id",n),a.modal("show")})},bindReplyBtn:function(){var _=this;_._commentsWrap.on("click",".actions a.reply",function(e){if(e.stopPropagation(),!window.common.checkLogin())return!1;var t,n=$(e.target).parents(".comment:eq(0)"),a=n.attr("data-comment-id"),o=n.attr("data-comment-user-id"),r=n.attr("data-comment-user-name"),i=!!n.data("comment-is-last-level"),s=a,c=o,l="";if(i&&((t=n.parents(".comment:eq(0)"))&&(s=t.attr("data-comment-id"),c=t.attr("data-comment-user-id")),l=r),0<n.find(".content:eq(0) [data-rely-comment-form]").length){var m=n.find(".content:eq(0) [data-rely-comment-form]").get(0);return m.vueInstance&&m.vueInstance.focus(),!1}$("[data-rely-comment-form]").each(function(e,t){var o=$(t);t.vueInstance&&t.vueInstance.$destroy(),o.remove()}),0===$('[data-reply-comment-form][data-comment-id="'+a+'"]').length&&!0!==window.oscReplyCommentFormLoading&&(window.oscReplyCommentFormLoading=!0,$.get(page.space_user_url+"/widgets/comments_reply_form",function(e){var t=document.createElement("div");t.innerHTML=e,$(t).find("[data-reply-comment-form]").attr("data-comment-id",a),n.find(".content:eq(0)").append(t);var o=new OSCCommentForm({commentFormSelector:"#replyCommentForm",commentsWrapEl:_._commentsWrap,toggleLoadComments:function(){_.loadComments(-1)},url:_.config.replyCommentUrl,params:{blog:page.objId,reply_id:c+"_"+s},commentedAutoScrollToTop:!1,contentField:"content"});o.init(),o.focus(),l&&o.insertContent("回复 @"+l+" : ")}).always(function(){window.oscReplyCommentFormLoading=!1}))})},initCommentsListPJAX:function(){var e=this,t=$(".comments-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a","#commentsContainer .comments-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){t.addClass("active")}),$(document).on("pjax:complete",function(){e.parseEmoticon(),t.removeClass("active"),$("html, body").stop().animate({scrollTop:e._commentsWrap.offset().top-80},500,"swing")})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},scrollToCommentFromUrlCommentId:function(){var o=location.hash,e=o.match(/#rpl_(\d+).*/),t=e?Math.floor(e[1]):-1;0<t&&this.loadCommentsByCommentId(t,function(){setTimeout(function(){var e,t=$(o);t.length&&(0<(e=t.offset().top)-80&&(e-=80),$("html, body").stop(!0).animate({scrollTop:e},500,"swing"))},0)})}};new window.common.dynamicLoader(["/new-osc/js/utils/vue.min.js"],function(){var e=window.page;t.init({objId:e.objId,fetchCommentsUrl:e.fetchCommentsUrl,publishCommentUrl:e.publishCommentUrl,replyCommentUrl:e.replyCommentUrl,deleteCommentUrl:e.deleteCommentUrl}),t.initCommentForm(),t.initCommentDeleteModal(),t.bindReplyBtn(),t.initCommentsListPJAX(),t.parseEmoticon(),t.scrollToCommentFromUrlCommentId()}).loadFiles()}});
"use strict";OSCDefine("space-blog-detail",["blog-detail-comments"],function(){function e(){this._blogDetailEl=$(".blog-detail")}return e.prototype={constructor:e,articleCatalogue:function(){var e=$("#sideMenu");e.sidebar({dimPage:!1,exclusive:!0,transition:"overlay",mobileTransition:"overlay"}),e.sidebar("attach events","#sideMenuLauncher"),new OSCCatalogue("sideMenuBody","articleContent",function(e){e||$("#sideMenuLauncher").show()})},like:function(){function a(a){var n=page.objId;return!!n&&(!!window.common.checkLoginForWeChat(null,function(){try{localStorage.setItem(e,"1")}catch(e){}})&&void $.post(page.space_user_url+"/blog/vote",{id:page.objId,user:page.g_user_id,vote:a},function(e){var t,o;1===e.code?(e.message&&$("body").toast({type:"success",content:e.message}),t=$('a.like.article-like[data-id="'+n+'"]'),a?(t.addClass("active"),t.find(".icon").removeClass("outline")):(t.removeClass("active"),t.find(".icon").addClass("outline")),e.result&&void 0!==e.result.vote&&(o=e.result.vote,$("[data-article-like-count]").html(o))):$("body").toast({type:"error",content:e.message||"点赞失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})}))}var e="OSC_BLOG_"+page.objId+"_LIKE_CACHE";this._blogDetailEl.on("click","a.like.article-like",function(e){var t=$(this),o=(t.attr("data-id"),!!t.hasClass("active"));a(!o)}),void 0!==window.localStorage&&page.g_user_code&&(localStorage.getItem(e)||"")&&(localStorage.removeItem(e),a(!0))},hightlight:function(){$("pre code").each(function(e,t){var o,a=$(this),n=(a.attr("class")||"").match(/language-(.*)/);n&&1<n.length&&(o=n[n.length-1],a.attr("class","hljs "+o)),hljs.highlightBlock(t)})},articleList:function(){var e=this,t={relArticleList:1,newArticleList:1},o={relArticleList:new OSCInfiniteScroll({pagePath:".rel-pagination.pagination__next",checkLastPage:!0,containerSelector:"#relArticleList",itemListSelector:".blog-detail-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:0,itemSelector:".item.blog-item",loadOnScroll:!1,onAppend:function(){e.optimizeImgShow()}}),newArticleList:new OSCInfiniteScroll({pagePath:".news-pagination.pagination__next",checkLastPage:!0,containerSelector:"#newArticleList",itemListSelector:".blog-detail-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:0,itemSelector:".item.blog-item",loadOnScroll:!1,onAppend:function(){e.optimizeImgShow()}})};o.relArticleList.init();var a="relArticleList";$(".spaceBlog-tab.menu .item").tab({onLoad:function(e){a!==e&&(o[a]._infScroll&&(t[a]=o[a]._infScroll.pageIndex),o[a].destroy(),o[e].init(),o[e]._infScroll&&(o[e]._infScroll.pageIndex=t[e]),a=e)}})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},shareMenu:function(){this._blogDetailEl.find(".share.dropdown").dropdown()},initManagerMenu:function(){var e=$("#managerMenu");e.dropdown(),e.on("click","a.item.delete-btn",function(){var e=page.objId;$(".delete-blog.modal").modal({onApprove:function(){$.post(page.space_user_url+"/blog/delete",{id:e,user_code:page.g_user_code||""},function(e){1===e.code?($("body").toast({type:"success",content:"删除成功"}),setTimeout(function(){location.href=page.space_user_url},1e3)):$("body").toast({type:"error",content:e.message||"删除失败"})})}}).modal("show")}),e.on("click",".item.recommend-self-btn",function(){var t=$(this),e=page.objId;$(".recommend-self.modal").modal({onApprove:function(){$.post(page.space_user_url+"/blog/self_recommend",{id:e},function(e){1===e.code?($("body").toast({type:"success",content:"自荐成功"}),t.find("span").text("已推荐")):$("body").toast({type:"error",content:e.message||"自荐失败"})})}}).modal("show")}),e.on("click",".item.recommend-blog-btn",function(){var t=$(this),e=1===parseInt(t.attr("data-value")),o=page.objId,a=!!page.isPending,n=$(".recommend-blog.modal");n.modal({onShow:function(){e?(n.find(".header").text("取消推荐文章"),n.find(".content p").text("确定取消推荐此文章吗？")):(n.find(".header").text("推荐文章"),n.find(".content p").text(a?"文章审核中，确定通过审核并推荐此文章吗？":"确定推荐此文章吗？"))},onApprove:function(){$.post(page.space_user_url+"/blog/toggle_recomm",{id:o},function(e){1===e.code?1===e.result?($("body").toast({type:"success",content:"推荐成功"}),t.find("span").text("已推荐"),t.attr("data-value",1)):(t.find("span").text("推荐"),$("body").toast({type:"success",content:"取消推荐成功"}),t.attr("data-value",0)):$("body").toast({type:"error",content:e.message||"推荐失败"})})}}),n.modal("show")}),e.on("click",".item.recommend-author-btn",function(){var t=$(this),e=1===parseInt(t.attr("data-value")),o=page.author_id||0,a=$(".recommend-author.modal");a.modal({onShow:function(){e?(a.find(".header").text("取消推荐博主"),a.find(".content p").text("确定取消推荐此博主吗？")):(a.find(".header").text("推荐博主"),a.find(".content p").text("确定推荐此博主吗？"))},onApprove:function(){$.post(page.space_user_url+"/blog/toggle_recomm_author",{id:o},function(e){1===e.code?1===e.result?(t.find("span").text("已推荐博主"),$("body").toast({type:"success",content:"推荐博主成功"}),t.attr("data-value",1)):(t.find("span").text("推荐博主"),$("body").toast({type:"success",content:"取消推荐博主成功"}),t.attr("data-value",0)):$("body").toast({type:"error",content:e.message||"推荐博主失败"})})}}),a.modal("show")})},floatMenu:function(){$("#floatMenu").sticky({context:".float-menu-content",offset:200})},donateUserList:function(){var e=$(".reward-list");if(null==e||0===e.length)return!1;$.ajax({url:page.space_user_url+"/donate/donate_user_list",type:"post",dataType:"json",data:{blogId:page.objId},success:function(i){i.success&&(i.count<=0||($.isNumeric(i.money)&&$("#donate_money").text(", 总额 "+i.money+" 元"),$(i.list).each(function(e,t){var o=$("#reward-num"),a=$("<a></a>").addClass("donate-user-item  popup-donate");a.attr("href",t.home),a.attr("data-inverted",""),a.attr("data-tooltip",t.name+" "+t.donateTime+" ￥"+t.money),a.attr("data-position","bottom left"),"#"!=t.home&&a.attr("target","_blank");var n='<img src="'+t.image+'" class="ui avatar image" />';o.text(i.count),a.append(n),$("#donate_user_list").append(a)}),$(".popup-donate").popup({inline:!0,hoverable:!0,visible:"visible",delay:{show:300,hide:0}}),e.removeClass("hide")))},error:function(){}})},initAuthorCardMedals:function(){$(".blog-detail .popup-oscer").popup({inline:!0,hoverable:!0,position:"top center",visible:"visible",delay:{show:300,hide:0}})},registerBeforeWeChatShareHook:function(){window.page&&(window.page.beforeWeChatShareHook=function(e){var t=window.common.getWeChatShareImgUrl(".article-detail .content img:not(.ad-wrap img)");return t&&(e.imgUrl=t),e})},register:function(){this.articleCatalogue(),this.like(),this.hightlight(),this.articleList(),this.shareMenu(),this.initManagerMenu(),this.floatMenu(),this.donateUserList(),this.initAuthorCardMedals(),this.optimizeImgShow()}},e});
"use strict";OSCDefine("space-blog-write",function(){var _blogWrite=function _blogWrite(){var _writeArticleWrapper=$("#writeArticleWrapper"),_writeArticleForm=$(".write-article.form"),_writeTitle=_writeArticleForm.find("input[name=title]"),_bodyTextarea=_writeArticleForm.find("textarea[name=body]"),_editorTabListEl=$("#editorTabList"),_catalogForm=$(".catalog.form"),_enableAutoSaveDraft=!0,isSavedDraftByAutoSave=!1,apiUrl={save:page.space_user_url+"/blog/save",draft:page.space_user_url+"/blog/save_draft",edit:page.space_user_url+"/blog/edit"};_writeArticleWrapper.find(".dropdown").dropdown(),_writeArticleWrapper.find(".checkbox").checkbox();var ckeditorConf={height:350,resize_minHeight:423,resize_maxHeight:1e3,uploadUrl:page.space_user_url+"/space/ckeditor_dialog_img_upload",filebrowserUploadUrl:page.space_user_url+"/space/ckeditor_dialog_img_upload"},CONTENT_TYPE={MARKDOWN:3,CKEDITOR:4};function HTMLToMarkdown(e){var t=new TurndownService({headingStyle:"atx",hr:"---",bulletListMarker:"-",codeBlockStyle:"fenced"}),i=turndownPluginGfm.tables;return t.use([i]),t.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(e){return"~~"+e+"~~"}}),t.turndown(e)}var editorManger={markdownEditorInstance:null,ckeditor:{init:function(t){var i=CKEDITOR.instances.body;_bodyTextarea.hide(),i?i.focus():((i=CKEDITOR.replace(_bodyTextarea[0],ckeditorConf)).on("instanceReady",function(e){t&&i.focus()}),i.on("change",function(e){_bodyTextarea.val(e.editor.getData()),isSavedDraftByAutoSave=!1}),i.on("change",autoSaveDraft),i.on("fileUploadResponse",function(e){setTimeout(function(){_bodyTextarea.val(e.editor.getData()),isSavedDraftByAutoSave=!1},0)}),i.on("fileUploadResponse",autoSaveDraft),i.on("mode",function(e){var t;"source"===this.mode&&((t=i.editable()).attachListener(t,"input",function(){_bodyTextarea.val(e.editor.getData()),isSavedDraftByAutoSave=!1}),t.attachListener(t,"input",autoSaveDraft))}))},getMarkdown:function(){return HTMLToMarkdown(_bodyTextarea.val())},destroy:function(){var e=CKEDITOR.instances.body;_bodyTextarea.show(),e&&e.destroy()}},markdown:{init:function(e){var t,i,a=this,r=editorManger.markdownEditorInstance;_bodyTextarea.hide(),r?r.focus():($("#bodyEditorWrap").append('<div id="editormd"></div>'),t=["undo","redo","|","bold","italic","hr","|","quote","list-ul","list-ol","|","link","image","code","|","preview","watch","||","fullscreen"],i=["undo","redo","|","bold","italic","del","quote","ucwords","uppercase","lowercase","|","h1","h2","h3","h4","h5","h6","|","list-ul","list-ol","hr","|","link","reference-link","image","code","code-block","table","datetime","html-entities","pagebreak","|","goto-line","clear","|","preview","watch","||","fullscreen"],r=editormd({height:423,id:"editormd",placeholder:"",markdown:_bodyTextarea.val(),path:(window.__STATIC_DOMAIN||"")+"/new-osc/js/utils/plugins/editormd/lib/",syncScrolling:!0,toc:!1,emoji:!1,watch:!1,lineNumbers:!1,previewTheme:"osc",autoFocus:!!e,imageUpload:!0,matchWordHighlight:!1,styleActiveLine:!1,imageFormats:["jpg","jpeg","gif","png","bmp","webp"],imageUploadURL:page.space_user_url+"/space/markdown_img_upload",toolbarIcons:function(){return t},onfullscreen:function(){this.cm.setOption("lineNumbers",!0),this.codeMirror.find(".CodeMirror-gutters").css("border-right","1px solid #ddd;"),this.settings.toolbarIcons=function(){return i},this.setToolbar(),this.watch(),this.resize(),this.focus()},onfullscreenExit:function(){this.cm.setOption("lineNumbers",!1),this.codeMirror.find(".CodeMirror-gutters").css("border-right","none"),this.settings.toolbarIcons=function(){return t},this.setToolbar(),this.unwatch(),this.resize(),this.focus()},onload:function(){$("#editormd").append('<div class="editormd__resize"></div>'),dropResize.init({resizeEl:"#editormd",draggerEl:".editormd__resize",maxWith:0,maxHeight:1e3,allowResizeWidth:!1,allowResizeHeight:!0,mustGtInitHeight:!0,mousemoveCallback:function(){},mouseupCallback:function(){editorManger.markdownEditorInstance.resize()}}),this.cm.on("change",function(){_bodyTextarea.val(r.getMarkdown()),isSavedDraftByAutoSave=!1,autoSaveDraft()}),this.cm.on("paste",function(e,t){a._pasteUpload(t)})}}),editorManger.markdownEditorInstance=r)},getHTML:function(){var e=(0,editormd.$markdownit)("commonmark",{html:!1,linkify:!0});e.enable(["table","strikethrough","linkify"]);var t=editormd.$yamlFront.loadFront(_bodyTextarea.val()),i=_bodyTextarea.val();return t&&(i=t.__content||""),i=e.render(i)},destroy:function(){var e=editorManger.markdownEditorInstance;_bodyTextarea.show(),e&&(e.editor.remove(),editorManger.markdownEditorInstance=null,dropResize.destroy())},_pasteUpload:function _pasteUpload(event){var clipboardData=event.clipboardData||window.clipboardData,items,item,types;if(clipboardData){if(items=clipboardData.items,!items||items.length<=0)return;types=clipboardData.types||[];for(var i=0;i<types.length;i++)if("Files"===types[i]){item=items[i];break}if(item&&"file"===item.kind&&item.type.match(/^image\//i)){var file=item.getAsFile();if(!file)return!1;var formData=new FormData;formData.append("editormd-image-file",file),$.ajax({url:page.space_user_url+"/space/markdown_img_upload",type:"post",data:formData,processData:!1,contentType:!1,success:function success(res){res=res||"";var data=void 0!==JSON.parse?JSON.parse(res):eval("("+res+")"),imgUrlMarkdown;data&&1===data.success&&data.url&&(imgUrlMarkdown="![]("+data.url+")",editorManger.markdownEditorInstance.insertValue(imgUrlMarkdown))}}),event.preventDefault()}}},_pasteHTML:function(e){var t,i,a=e.clipboardData||window.clipboardData;if(a){if(!(t=a.items)||t.length<=0)return;if((i=a.types)&&-1<i.indexOf("text/html")){var r=a.getData("text/html");if(!r)return!1;var o=HTMLToMarkdown(r);editorManger.markdownEditorInstance.insertValue(o),e.preventDefault()}}}},switchEditor:function(e,t){var i,a;"markdown"===e||e===CONTENT_TYPE.MARKDOWN?(CKEDITOR.instances.body&&(i=this.ckeditor.getMarkdown(),this.ckeditor.destroy(),_bodyTextarea.val(i)),this.markdown.init(!!t)):"ckeditor"!==e&&e!==CONTENT_TYPE.CKEDITOR||(this.markdownEditorInstance&&(a=this.markdown.getHTML(),this.markdown.destroy(),_bodyTextarea.val(a)),this.ckeditor.init(!!t))}},submitUrl=apiUrl.save,saveType="save",publish_as_blog=null;page.is_edit&&(publish_as_blog=(saveType=page.is_draft?(submitUrl=apiUrl.draft,"draft"):(submitUrl=apiUrl.edit,"edit"),null)),_writeArticleForm.on("click",".actions .button",function(){submitUrl=apiUrl[$(this).data("value")],saveType=$(this).data("value"),publish_as_blog=$(this).data("publish")}),$.fn.form.settings.rules.checkOriginUrl=function(e){return!(!_writeArticleForm.find("input[name=type]").is(":checked")&&(""===e.trim()||!/[a-zA-z]+:\/\/[^\s]*/.test(e)))},_writeArticleForm.form({inline:!0,fields:{title:{identifier:"title",rules:[{type:"empty",prompt:"请输入文章标题"},{type:"maxLength[100]",prompt:"文章标题长度不能超过 {ruleValue} 个字符"}]},classification:{identifier:"classification",rules:[{type:"empty",prompt:"请选择文章分类"}]},body:{identifier:"body",rules:[{type:"empty",prompt:"请输入文章内容"}]},origin_url:{identifier:"origin_url",rules:[{type:"checkOriginUrl",prompt:"请输入正确的原文链接"}]}}}).api({url:submitUrl,method:"post",serializeForm:!0,beforeSend:function(e){_enableAutoSaveDraft=!1,$(this).message("hideAll"),e.url=submitUrl;var t=e.data;return e.data={publish_as_blog:publish_as_blog,draft:t.draft,id:t.id,user_code:t.user_code,title:t.title,content:t.body,content_type:t.content_type,catalog:t.catalog,classification:t.classification,type:t.type,origin_url:t.origin_url,privacy:t.privacy,deny_comment:t.deny_comment,as_top:t.as_top,downloadImg:t.downloadImg,isRecommend:0,tags:t.tags},e},onSuccess:function(e){var t;1===e.code?"save"===saveType?($(this).message({type:"positive",content:e.message||"发表成功"}),window.onbeforeunload=null,setTimeout(function(){window.location.href=page.blog_url+"/"+e.result.id},2e3)):"edit"===saveType?($(this).message({type:"positive",content:e.message||"编辑成功"}),window.onbeforeunload=null,setTimeout(function(){window.location.href=page.blog_url+"/"+e.result.id},2e3)):(_writeArticleForm.find('input[name="draft"]').val(e.result.draft),t=(t=e.time||"").substr(11,8),_writeArticleForm.find(".save-draft-tip").html("最后保存时间 "+t),_enableAutoSaveDraft=!0,$(this).message({type:"positive",content:"保存成功",disappear:2e3})):(_enableAutoSaveDraft=!0,$(this).message({type:"negative",content:e.message||"操作失败",disappear:2e3}))},onError:function(){_enableAutoSaveDraft=!0,$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}});var autoSaveDraft=window.common.throttle(function(e){var t,i,a;_enableAutoSaveDraft&&(t=page.is_edit,i=page.is_draft,t&&!i||""!==_writeTitle.val()&&""!==_bodyTextarea.val()&&(a={draft:_writeArticleForm.find("input[name=draft]").val(),id:_writeArticleForm.find("input[name=id]").val(),user_code:_writeArticleForm.find("input[name=user_code]").val(),title:_writeTitle.val(),content:_bodyTextarea.val(),content_type:_writeArticleForm.find("input[name=content_type]").val(),catalog:_writeArticleForm.find("select[name=catalog]").val(),classification:_writeArticleForm.find("select[name=classification] option:selected").val(),type:_writeArticleForm.find("input[name=type]").val(),origin_url:_writeArticleForm.find("input[name=origin_url]").val(),privacy:_writeArticleForm.find("input[name=privacy]").val(),deny_comment:_writeArticleForm.find("input[name=deny_comment]").val(),as_top:_writeArticleForm.find("input[name=as_top]").val(),downloadImg:_writeArticleForm.find("input[name=downloadImg]").val(),isRecommend:0},$.ajax({url:apiUrl.draft,method:"post",data:a,dataType:"json",success:function(e){var t;1===e.code&&(_writeArticleForm.find('input[name="draft"]').val(e.result.draft),t=(t=e.time||"").substr(11,8),_writeArticleForm.find(".save-draft-tip").html("最后保存时间 "+t),isSavedDraftByAutoSave=!0)},error:function(){}})))},5e3),changeEditorTab=function(e,t){var i=_editorTabListEl.find('.item[data-value="'+e+'"]');_writeArticleForm.find("input[name=content_type]").val(e),i.addClass("active").closest(".ui.menu").find(".item").not(i).removeClass("active"),editorManger.switchEditor(e,!!t),_writeArticleForm.find(".error").removeClass("error").find(".prompt").remove()};_editorTabListEl.find(".item").on("click",function(){var e=$(this).data("value");changeEditorTab(e,!0)}),_writeArticleForm.on("click",".add-catalog-btn",function(){var i=_writeArticleForm.find("input[name=user_code]").val(),d=$(".add-catalog.modal");_catalogForm.form({inline:!0,keyboardShortcuts:!1,fields:{name:{rules:[{type:"empty",prompt:"请输入分类名称"}]}}}).api({url:page.space_user_url+"/blog/quick_add_blog_catalog",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={space:page.spaceId,userCode:i,user_code:page.g_user_code||"",name:t.name},e},onSuccess:function(e){if(1===e.code){var t=e.result;if(!(t&&t.id&&t.catalogs))return $("body").toast({type:"error",content:e.message||"添加失败"}),!1;var i,a,r,o=t.id,n=t.catalogs;Array.isArray(n)&&0<n.length&&((i={values:[]}).values=n.map(function(e){return{name:window.common.htmlEncode(e.name),text:window.common.htmlEncode(e.name),value:e.id}}),a=i.values[0].value,i.values.some(function(e){return e.value===o})&&(a=o),r="",n.forEach(function(e){r+='<option value="'+e.id+'">'+e.name+"</option>"}),_writeArticleForm.find("#catalogDropdown").html(r),_writeArticleForm.find("#catalogDropdown").dropdown("setup menu",i),_writeArticleForm.find("#catalogDropdown").dropdown("set selected",a)),d.modal("hide"),$("body").toast({type:"success",content:"添加成功"}),_catalogForm.form("reset")}else $("body").toast({type:"error",content:e.message||"添加失败"})},onFailure:function(e){$("body").toast({type:"error",content:e.message||"添加失败"})}}),d.modal({onApprove:function(){return _catalogForm.message("hideAll"),_catalogForm.form("submit"),!1}}),_catalogForm.on("keydown",function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&_catalogForm.find(".actions .ok").click()}),d.modal({onApprove:function(){return _catalogForm.message("hideAll"),_catalogForm.form("submit"),!1}}).modal("show")}),$(function(){var e=_editorTabListEl.find(".active.item").data("value")||CONTENT_TYPE.CKEDITOR;window.onbeforeunload=function(){var e=_writeArticleForm.find("input[name=title]").val().trim(),t=_bodyTextarea.val().trim();if((""!==e||""!==t)&&!isSavedDraftByAutoSave)return"确认放弃此文章"},changeEditorTab(e,!1),_writeTitle.focus(),_writeTitle.on("input propertychange change",function(){isSavedDraftByAutoSave=!1,autoSaveDraft()})});var originUrlInput=_writeArticleForm.find(".origin-url-input");_writeArticleForm.find("input[name=type]").on("change",function(){var e=originUrlInput.find("input[name=origin_url]");$(this).is(":checked")?(originUrlInput.hide(),e.val("")):(originUrlInput.show(),setTimeout(function(){e.focus()},0))})};return _blogWrite});
!function(){var i={_initViewer:function(){if(window.innerWidth<768)return!1;var i=$('.tweet-item .multimgs[data-list-multiple-image-viewer="true"]');if(i.length<=0)return!1;i.each(function(i,e){var t=$(e);t.data("loaded-viewer")||(new Viewer(e,{button:!0,navbar:!0,title:!1,toolbar:!0,tooltip:!1,movable:!0,zoomable:!0,rotatable:!1,scalable:!1,transition:!0,fullscreen:!1,keyboard:!0,backdrop:!0,loop:!0,loading:!0,zoomRatio:.25,maxZoomRatio:5,viewed:function(){this.viewer.options.minZoomRatio=this.viewer.initialImageData.ratio},url:function(i){return i.getAttribute("data-raw-img")}}),t.data("loaded-viewer",!0))})},initViewer:function(){var i=this;window.Viewer?i._initViewer():new window.common.dynamicLoader(["/new-osc/js/utils/plugins/viewer/viewer.min.css","/new-osc/js/utils/plugins/viewer/viewer.osc.css","/new-osc/js/utils/plugins/viewer/viewer.js","/new-osc/js/utils/plugins/viewer/jquery-viewer.min.js"],function(){i._initViewer()}).loadFiles()}};$(function(){i.initViewer()}),window.OSCListMultipleImageViewer=i}();
"use strict";OSCDefine("space-tweet-detail",function(){function e(){this.tweetCommentFormVue=null,this.tweetCommentsList=$("#tweetCommentsList .tweet-comments-list-container"),this.atUsers=[],this.atUsersId=[]}return e.prototype={constructor:e,thumbupsList:function(){$(".thumbups-wrap .thumbups .dropdown").dropdown()},codeHighlight:function(){$(".tweet-detail .code pre code").each(function(e,t){hljs.highlightBlock(t)})},initAsTop:function(){$(".tweet-detail").on("click",".meta a.mark-as-top",function(e){var t=$(".tweet-detail"),o=t.attr("data-tweet-id"),a=t.find(".meta a.mark-as-top"),n=1===a.data("value"),i=$(".mark-as-top-tweet.modal");i.modal({onShow:function(){n?(i.find(".header").text("取消置顶动弹"),i.find(".content p").text("确定取消置顶此动弹吗？")):(i.find(".header").text("置顶动弹"),i.find(".content p").text("确定置顶此动弹吗？"))},onApprove:function(){$.post(page.space_user_url+"/tweet/asTop",{id:o,user_code:page.g_user_code||""},function(e){1===e.code?n?($("body").toast({type:"success",content:"取消置顶成功"}),a.html('<i class="arrow up icon"></i> 置顶'),a.data("value",0)):($("body").toast({type:"success",content:"置顶成功"}),a.html('<i class="undo icon"></i> 取消置顶'),a.data("value",1)):$("body").toast({type:"error",content:e.message||"操作失败"})})}}),i.modal("show")})},initDeleteTweet:function(){$(".delete-tweet.modal").modal({onApprove:function(){var e=$(".tweet-detail").attr("data-tweet-id");$.post(page.space_user_url+"/tweet/deleteTweet",{id:e,user_code:page.g_user_code||""},function(e){1===e.code?location.href=page.space_user_url:$("body").toast({type:"error",content:e.message||"删除失败"})})}}),$(".tweet-detail").on("click",".meta a.remove",function(e){$(".delete-tweet.modal").modal("show")})},initCommentForm:function(){var n=this,i="OSC_TWEET_"+page.objId+"_COMMENT_CACHE",o="OSC_TWEET_"+page.objId+"_COMMENT_PUBLISH_CACHE",t=window.common.throttle(function(e){try{e&&0<e.trim().length?localStorage.setItem(i,e):localStorage.removeItem(i)}catch(e){}},500);n.tweetCommentFormVue=new Vue({el:"#tweetCommentForm",data:function(){return{commentMaxLength:160,commentContent:"",commentPublishLoading:!1,tipMessage:{show:!1,content:"",className:""},curEmojiType:"People",emojiList:[{type:"People",items:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"]},{type:"Nature",items:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"]},{type:"Objects",items:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"]},{type:"Places",items:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"]},{type:"Symbols",items:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}],tweetId:page.objId||"",isPubTweet:!0,isPubTweetCookieName:"OSC_IS_PUB_TWEET"}},computed:{curEmojiItems:function(){for(var e=0,t=this.emojiList.length;e<t;e++)if(this.emojiList[e].type===this.curEmojiType)return this.emojiList[e].items;return this.emojiList[0].items},commentContentIsEmpty:function(){return 0===this.commentContent.length},commentCountText:function(){return this.commentContent.length+"/"+this.commentMaxLength}},created:function(){this.initIsPubTweetFromCookie()},mounted:function(){var e,t;void 0!==window.localStorage&&(e=localStorage.getItem(i)||"",t=localStorage.getItem(o)||"",e&&0<e.trim().length&&(this.commentContent=e,t&&page.g_user_code&&(localStorage.removeItem(o),this.publishComment())))},methods:{initIsPubTweetFromCookie:function(){var e=window.common.getCookie(this.isPubTweetCookieName);null!=e&&!1===Boolean(e)&&(this.isPubTweet=!1)},insertEmoji:function(e){this.clearMessage();var t=":"+e+":";this.insertContent(t),$(this.$refs.showEmojiBox).popup("hide")},insertTopic:function(){this.clearMessage();var e,t,o="#此处输入话题#";this.insertContent(o)&&(t=(e=selectRange.of(this.$refs.commentTextarea)).getCurPos(),e.setSelectText(t-(o.length-1),t-1))},publishComment:function(){var e,a=this,t=window.common.getCurrentUrl(!0)+"#tweetCommentForm";if(!window.common.checkLoginForWeChat(t,function(){try{localStorage.setItem(o,"1")}catch(e){}}))return!1;a.tweetPublishLoading||(a.clearMessage(),a.commentContentIsEmpty?a.showMessage("error","内容不能为空",2e3):a.commentContent.length>a.commentMaxLength?a.showMessage("error","最多只能输入"+a.commentMaxLength+"个字符！",2e3):(a.commentPublishLoading=!0,e={id:a.tweetId,isPostToMyZone:a.isPubTweet?1:0,content:a.commentContent,userId:page.g_user_id},$.post(page.space_user_url+"/tweet/publishComment",e,function(e){var t,o;1===e.code?(e.message&&a.showMessage("success",e.message||"评论发布成功！",2e3),window.localStorage&&window.localStorage.removeItem(i),a.commentContent="",e.result&&void 0!==e.result.reply_count&&(t=e.result.reply_count,$('[data-tweet-reply-count][data-tweet-id="'+a.tweetId+'"]').html(t)),o=$("#tweetCommentsList .tweet-comments-list-container"),$.get(page.space_user_url+"/widgets/_tweet_comment_item_ajax?tweetId="+a.tweetId+"&commentId="+e.result.log,function(e){$("#tweetCommentsList .empty-tips").remove(),o.prepend(e),n.parseEmoticon(),$(".osc-gitee-6th-label").popup()})):a.showMessage("error",e.message||"评论失败，请稍后再试！",2e3)}).fail(function(){a.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){a.commentPublishLoading=!1})))},commentContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13==e.keyCode&&this.publishComment()},insertContent:function(e){return!this.commentPublishLoading&&(this.commentContent.length>=this.commentMaxLength||this.commentContent.length+e.length>this.commentMaxLength?void this.showMessage("error","最多只能输入"+this.commentMaxLength+"个字符！",2e3):(selectRange.of(this.$refs.commentTextarea).insertAfterText(e),this.commentContent=this.$refs.commentTextarea.value,!0))},showMessage:function(e,t,o){var a=this;a.tipMessage.className="success"===e?"positive":"negative",a.tipMessage.content=t;var n=parseInt(o)||0;a.tipMessage.show=!0,0<n&&setTimeout(function(){a.clearMessage()},n)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1}},watch:{commentContent:function(e){t(e)},isPubTweet:function(e){window.common.setCookie(this.isPubTweetCookieName,e?1:0)}}}),$(".tweet-form .toolbox > .item[data-popup]").each(function(e,t){var o=$(t),a=$(o).parent().find(".toolbox-popup."+o.attr("data-popup"));o.popup({position:"bottom left",popup:a,on:"toolbox-picture"===o.attr("data-popup")?"manual":"click",exclusive:!0})})},_generateAtUserItem:function(e,t,o){var a=page.g_user_id||-1;if(t=t||"",o=o||"",-1===a||e===a||""===o)return!1;var n="";return Pinyin.isSupported()&&(n=Pinyin.convertToPinyin(o,"",!0)||""),{name:o,searchKey:t+o+n}},updateAtTips:function(){var s=this;if(!page.g_user_code||window.innerWidth<768)return!1;var e,t,o,a,n=$(".tweet-detail");n.data("tweet-owner-at-init")||(e=n.attr("data-tweet-owner-id")||-1,t=n.attr("data-tweet-owner-ident")||"",o=n.attr("data-tweet-owner-name")||"",(a=s._generateAtUserItem(e,t,o))&&(s.atUsers.push(a),s.atUsersId.push(e)),n.data("tweet-owner-at-init",!0)),s.tweetCommentsList.find(".comment-item").each(function(e,t){var o,a,n,i,r=$(t);r.data("comment-user-at-init")||(o=r.attr("data-comment-user-id")||-1,jQuery.inArray(o,s.atUsersId)<0&&(a=r.attr("data-comment-user-ident")||"",n=r.attr("data-comment-user-name")||"",(i=s._generateAtUserItem(o,a,n))&&(s.atUsers.push(i),s.atUsersId.push(o))),r.data("comment-user-at-init",!0))});var i=$("#tweetCommentForm .tweet-comment-textarea");i.atwho({at:"@",data:s.atUsers,searchKey:"searchKey",insertTpl:"${atwho-at}${name}",displayTpl:"<li>${name}</li>",limit:10}),i.on("inserted.atwho",function(e,t,o){s.tweetCommentFormVue&&(s.tweetCommentFormVue.commentContent=s.tweetCommentFormVue.$refs.commentTextarea.value)})},initCommentsList:function(){var a=this;$(".delete-comment.modal").modal({onApprove:function(){var e=$(this).attr("data-comment-id"),o=$(".tweet-comments .comment[data-comment-id="+e+"]");$.post(page.space_user_url+"/tweet/deleteComment",{id:e,user_code:page.g_user_code||""},function(e){var t;1===e.code?(o.fadeOut(function(){o.remove()}),e.result&&void 0!==e.result.reply_count&&(t=e.result.reply_count,$('[data-tweet-reply-count][data-tweet-id="'+page.objId+'"]').html(t))):$("body").toast({type:"error",content:e.message||"删除失败"})})}});var e=$("#tweetCommentsList");e.on("click",".comment .meta a.remove",function(e){var t=$(".delete-comment.modal"),o=$(this).parents(".comment:eq(0)").attr("data-comment-id");t.attr("data-comment-id",o),t.modal("show")}),e.on("click",".comment .meta a.reply",function(e){var t,o=$(this).parents(".comment:eq(0)").attr("data-comment-user-name")||"";0<o.trim().length&&(t="@"+o+" ",a.tweetCommentFormVue.insertContent(t))});function n(n,i){var e=window.common.getCurrentUrl(!0)+"#rpl_"+n;window.common.checkLoginForWeChat(e,function(){try{localStorage.setItem(o,n)}catch(e){}})&&$.post(page.space_user_url+"/tweet/tweet_comment_love",{tweet_comment_id:n,vote:i},function(e){var t,o,a;1===e.code?(t=i,o=0,e.result&&(o=e.result.voteCount||0,t=1===e.result.voteState),e.message&&$("body").toast({type:"success",content:e.message}),a=$('[data-comment-like-btn][data-comment-id="'+n+'"]'),t?(a.addClass("active"),a.find(".like.icon").removeClass("outline")):(a.removeClass("active"),a.find(".like.icon").addClass("outline")),$('[data-comment-like-count][data-comment-id="'+n+'"]').text(o)):$("body").toast({type:"error",content:e.message||"点赞失败"})})}var t,o="OSC_TWEET_"+page.objId+"_COMMENT_LIKE_CACHE";e.on("click",".comment .meta a.like",function(e){e.stopPropagation();var t=$(this),o=t.parents(".comment:eq(0)").attr("data-comment-id"),a=t.hasClass("active");n(o,!a)}),void 0!==window.localStorage&&(!page.g_user_code||(t=localStorage.getItem(o)||"")&&(localStorage.removeItem(o),n(t,!0)))},commentInfiniteScroll:function(){var e=this,t={tweetCommentsList:new OSCInfiniteScroll({pagePath:".pagination__next",containerSelector:"#tweetCommentsList",itemListSelector:".tweet-comments-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:2,itemSelector:".comment.event",loadOnScroll:!0,onAppend:function(){e.parseEmoticon(),$(".osc-gitee-6th-label").popup(),e.updateAtTips()}})};t.tweetCommentsList.init()},initFirstPicturePreview:function(){$(function(){OSCMultipleImageViewer.initShowMultiImages($('[data-multi-image-raw="wrapper"]'),0)})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},registerBeforeWeChatShareHook:function(){window.page&&(window.page.beforeWeChatShareHook=function(e){var t=window.common.getWeChatShareImgUrl("[data-wechat-share-imgs] img");return t&&(e.imgUrl=t),e})},register:function(){this.thumbupsList(),this.codeHighlight(),this.initAsTop(),this.initDeleteTweet(),this.initCommentForm(),this.initCommentsList(),this.commentInfiniteScroll(),this.initFirstPicturePreview(),this.parseEmoticon(),this.updateAtTips()}},e});